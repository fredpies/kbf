{"version":3,"file":"dashboard-edit-job.js","sources":["../../js/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../js/node_modules/@babel/runtime/helpers/esm/createClass.js","../../js/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../js/node_modules/@babel/runtime/helpers/esm/inherits.js","../../js/node_modules/@babel/runtime/helpers/esm/typeof.js","../../js/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../js/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../js/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../js/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../../js/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../js/node_modules/@babel/runtime/helpers/esm/construct.js","../../js/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../../js/modules/Errors.js","../../js/components/KbfPreloaderButton.js","../../js/node_modules/app-datepicker/dist/constants.js","../../js/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../js/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../../js/node_modules/@babel/runtime/helpers/esm/superPropBase.js","../../js/node_modules/@babel/runtime/helpers/esm/get.js","../../js/node_modules/regenerator-runtime/runtime.js","../../js/node_modules/@babel/runtime/regenerator/index.js","../../js/node_modules/tslib/tslib.es6.js","../../js/node_modules/lit-html/src/lib/dom.ts","../../js/node_modules/lit-html/src/lib/template.ts","../../js/node_modules/lit-html/src/lib/modify-template.ts","../../js/node_modules/lit-html/src/lib/directive.ts","../../js/node_modules/lit-html/src/lib/part.ts","../../js/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../js/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../js/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../js/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../js/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../js/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../js/node_modules/lit-html/src/lib/template-instance.ts","../../js/node_modules/lit-html/src/lib/template-result.ts","../../js/node_modules/lit-html/src/lib/parts.ts","../../js/node_modules/lit-html/src/lib/template-factory.ts","../../js/node_modules/lit-html/src/lib/render.ts","../../js/node_modules/lit-html/src/lib/default-template-processor.ts","../../js/node_modules/lit-html/src/lit-html.ts","../../js/node_modules/lit-html/src/lib/shady-render.ts","../../js/node_modules/lit-element/src/lib/updating-element.ts","../../js/node_modules/lit-element/src/lib/decorators.ts","../../js/node_modules/lit-element/src/lib/css-tag.ts","../../js/node_modules/lit-element/src/lit-element.ts","../../js/node_modules/lit-html/src/directives/cache.ts","../../js/node_modules/lit-html/src/directives/class-map.ts","../../js/node_modules/lit-html/src/directives/repeat.ts","../../js/node_modules/nodemod/src/calendar/helpers/to-utc-date.ts","../../js/node_modules/app-datepicker/dist/app-datepicker-icons.js","../../js/node_modules/app-datepicker/dist/common-styles.js","../../js/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../js/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../js/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../js/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../../js/node_modules/app-datepicker/dist/helpers/animate-element.js","../../js/node_modules/app-datepicker/dist/helpers/get-date-range.js","../../js/node_modules/app-datepicker/dist/helpers/get-selectable-date.js","../../js/node_modules/app-datepicker/dist/helpers/compute-next-focus-date.js","../../js/node_modules/app-datepicker/dist/helpers/dispatch-custom-event.js","../../js/node_modules/app-datepicker/dist/helpers/find-shadow-target.js","../../js/node_modules/app-datepicker/dist/helpers/get-formatters.js","../../js/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../js/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../js/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../js/node_modules/nodemod/src/calendar/helpers/get-weekdays.ts","../../js/node_modules/nodemod/src/calendar/helpers/get-week-number.ts","../../js/node_modules/nodemod/src/calendar/helpers/to-valid-weekday.ts","../../js/node_modules/nodemod/src/calendar/calendar.ts","../../js/node_modules/app-datepicker/dist/helpers/get-multi-calendars.js","../../js/node_modules/app-datepicker/dist/helpers/get-resolved-date.js","../../js/node_modules/app-datepicker/dist/helpers/get-resolved-locale.js","../../js/node_modules/app-datepicker/dist/helpers/has-class.js","../../js/node_modules/app-datepicker/dist/helpers/is-valid-date.js","../../js/node_modules/app-datepicker/dist/helpers/make-number-precise.js","../../js/node_modules/app-datepicker/dist/helpers/passive-handler.js","../../js/node_modules/app-datepicker/dist/helpers/split-string.js","../../js/node_modules/app-datepicker/dist/helpers/target-scroll-to.js","../../js/node_modules/app-datepicker/dist/helpers/to-formatted-date-string.js","../../js/node_modules/app-datepicker/dist/helpers/to-year-list.js","../../js/node_modules/app-datepicker/dist/helpers/update-year-with-min-max.js","../../js/node_modules/@material/mwc-base/utils.ts","../../js/node_modules/app-datepicker/dist/tracker.js","../../js/node_modules/app-datepicker/dist/datepicker.js","../../js/node_modules/app-datepicker/dist/helpers/custom-elements-define.js","../../js/node_modules/app-datepicker/dist/app-datepicker.js","../../js/components/KbfDatePicker.js","../../js/node_modules/inputmask/lib/getPrototypeOf.js","../../js/node_modules/inputmask/lib/validation-tests.js","../../js/node_modules/inputmask/lib/environment.js","../../js/node_modules/inputmask/lib/inputHandling.js","../../js/node_modules/inputmask/lib/eventhandlers.js","../../js/node_modules/inputmask/lib/validation.js","../../js/node_modules/inputmask/lib/positioning.js","../../js/node_modules/inputmask/lib/eventruler.js","../../js/node_modules/inputmask/lib/mask.js","../../js/node_modules/inputmask/lib/dependencyLibs/extend.js","../../js/node_modules/inputmask/lib/global/window.js","../../js/node_modules/inputmask/lib/dependencyLibs/data.js","../../js/node_modules/inputmask/lib/dependencyLibs/events.js","../../js/node_modules/inputmask/lib/dependencyLibs/inputmask.dependencyLib.js","../../js/node_modules/inputmask/lib/mask-lexer.js","../../js/node_modules/inputmask/lib/definitions.js","../../js/node_modules/inputmask/lib/defaults.js","../../js/node_modules/inputmask/lib/inputmask.js","../../js/components/KbfForm.js","../../js/components/KbfTabs.js","../../js/node_modules/perfect-scrollbar/src/lib/css.js","../../js/components/KbfDropdown.js","../../js/node_modules/bootstrap-autocomplete/dist/latest/bootstrap-autocomplete.min.js","../../js/config/config.js","../../js/components/KbfCityAutocomplete.js","../../js/node_modules/quill/dist/quill.js","../../js/components/KbfWysiwyg.js","../../js/functions/library.js","../../js/components/KbfRepeater.js","../../js/dashboard-edit-job/components/App.js","../../js/dashboard-edit-job/entry.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"@babel/runtime/helpers/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","let errors = {};\r\n\r\n// Wyjatki\r\n\r\n// Nie znaleziono elementu DOM\r\nerrors.elementNotFound = function (selector) {\r\n    return new Error(`Cannot find elements with selector \"${selector}\"`);\r\n}\r\n\r\n// Nie znaleziono formularza\r\nerrors.formNotFound = function (formName) {\r\n    return new Error(`Cannot find form with name \"${formName}\"`);\r\n}\r\n\r\n// Nie podano argumentu\r\nerrors.argumentNotFound = function (argumentName) {\r\n    return new Error(`${argumentName.substring(0, 1).toUpperCase() + argumentName.substring(1)} argument cannot be empty`);\r\n}\r\n\r\n// Brak walidatora dla formularza\r\nerrors.noValidator = function () {\r\n    return new Error(`No JQuery validator plugin`);\r\n}\r\n\r\n// Nie podano wspolrzednych geograficznych\r\nerrors.noGeoCoords = function () {\r\n    return new Error(`You must provide geo coordinates.`);\r\n}\r\n\r\nexport default errors;","import errors from \"../modules/Errors\";\r\n\r\nclass KbfPreloaderButton extends EventTarget {\r\n\r\n    constructor(selector, auto=true) {\r\n\r\n        super();\r\n        let $ = window.$;\r\n        this.$preloaderButton = $(selector);\r\n\r\n        // Emituj wyjatek gdy nie podano selektora albo element nie zostal znaleziony\r\n        if (!selector || this.$preloaderButton.length === 0) throw errors.elementNotFound(selector);\r\n\r\n        this.auto = auto; // Czy automatycznie dodawac listener\r\n\r\n        this.init();\r\n        this.addListeners();\r\n\r\n    }\r\n\r\n    init() {\r\n\r\n        // Aliasy\r\n        this.on = this.addEventListener;\r\n        this.off = this.removeEventListener;\r\n        this.emit = this.dispatchEvent;\r\n\r\n        this.buttonCurrentContents = this.$preloaderButton.html(); // Aktualna zawartosc\r\n\r\n    }\r\n\r\n    triggerStart(buttonElement) {\r\n\r\n        let buttonGeometry = buttonElement.getBoundingClientRect(); // Aktualna geometria\r\n        let bgColor = getComputedStyle(buttonElement, ':hover').backgroundColor;\r\n\r\n        this.$preloaderButton.trigger({\r\n            type: 'start-preloader',\r\n            buttonGeometry,\r\n            bgColor\r\n        });\r\n\r\n        this.emit(new CustomEvent('click'));\r\n    }\r\n\r\n    // Startuje preloader\r\n    startPreloader(buttonElement, buttonGeometry, bgColor) {\r\n\r\n        let $ = window.$;\r\n\r\n        let $buttonElement = $(buttonElement);\r\n\r\n        $buttonElement.attr('disabled', 'disabled');\r\n        $buttonElement.css('width', buttonGeometry.width + 'px');\r\n        $buttonElement.css('height', buttonGeometry.height + 'px');\r\n        $buttonElement.css('padding', 0);\r\n        $buttonElement.css('background-color', bgColor);\r\n        $buttonElement.html(KbfPreloaderButton.preloaderMarkup);\r\n\r\n    }\r\n\r\n    // Zatrzymuje preloader\r\n    stopPreloader() {\r\n        this.$preloaderButton.html(this.buttonCurrentContents).attr('style', '');\r\n        this.$preloaderButton.removeAttr('disabled');\r\n    }\r\n\r\n    addListeners() {\r\n\r\n        let instance = this;\r\n\r\n        // Rejestruj handler warunkowo\r\n        if (this.auto) {\r\n            this.$preloaderButton.on('click', function () {\r\n               instance.triggerStart(this);\r\n            });\r\n        }\r\n\r\n        this.$preloaderButton.on('start-preloader', function (e) {\r\n            instance.startPreloader(this, e.buttonGeometry, e.bgColor);\r\n        })\r\n\r\n    }\r\n}\r\n\r\nKbfPreloaderButton.preloaderMarkup = '<div class=\"kbf-button-preloader\"><div id=\"dots\"><span></span><span></span><span></span></div></div>';\r\nexport default KbfPreloaderButton;","import './custom_typings.js';\nexport const INTL_DATE_TIME_FORMAT = Intl && Intl.DateTimeFormat;\nconst UP_KEYS = [\n    38,\n    33,\n    36,\n];\nconst DOWN_KEYS = [\n    40,\n    34,\n    35,\n];\nexport const PREV_KEY_CODES_SET = new Set([37, ...UP_KEYS]);\nexport const NEXT_KEY_CODES_SET = new Set([39, ...DOWN_KEYS]);\nexport const NEXT_DAY_KEY_CODES_SET = new Set([39, ...UP_KEYS]);\nexport const PREV_DAY_KEY_CODES_SET = new Set([37, ...DOWN_KEYS]);\nexport const ALL_NAV_KEYS_SET = new Set([\n    37,\n    39,\n    ...UP_KEYS,\n    ...DOWN_KEYS,\n]);\nexport const DATEPICKER_NAME = 'app-datepicker';\nexport const DATEPICKER_DIALOG_NAME = 'app-datepicker-dialog';\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\ninterface MaybePolyfilledCe extends CustomElementRegistry {\n  readonly polyfillWrapFlushCallback?: object;\n}\n\n/**\n * True if the custom elements polyfill is in use.\n */\nexport const isCEPolyfill = typeof window !== 'undefined' &&\n    window.customElements != null &&\n    (window.customElements as MaybePolyfilledCe).polyfillWrapFlushCallback !==\n        undefined;\n\n/**\n * Reparents nodes, starting from `start` (inclusive) to `end` (exclusive),\n * into another container (could be the same container), before `before`. If\n * `before` is null, it appends the nodes to the container.\n */\nexport const reparentNodes =\n    (container: Node,\n     start: Node|null,\n     end: Node|null = null,\n     before: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.insertBefore(start!, before);\n        start = n;\n      }\n    };\n\n/**\n * Removes nodes, starting from `start` (inclusive) to `end` (exclusive), from\n * `container`.\n */\nexport const removeNodes =\n    (container: Node, start: Node|null, end: Node|null = null): void => {\n      while (start !== end) {\n        const n = start!.nextSibling;\n        container.removeChild(start!);\n        start = n;\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\n\n/**\n * An expression marker with embedded unique key to avoid collision with\n * possible text in templates.\n */\nexport const marker = `{{lit-${String(Math.random()).slice(2)}}}`;\n\n/**\n * An expression marker used text-positions, multi-binding attributes, and\n * attributes with markup-like text values.\n */\nexport const nodeMarker = `<!--${marker}-->`;\n\nexport const markerRegex = new RegExp(`${marker}|${nodeMarker}`);\n\n/**\n * Suffix appended to all bound attribute names.\n */\nexport const boundAttributeSuffix = '$lit$';\n\n/**\n * An updatable Template that tracks the location of dynamic parts.\n */\nexport class Template {\n  readonly parts: TemplatePart[] = [];\n  readonly element: HTMLTemplateElement;\n\n  constructor(result: TemplateResult, element: HTMLTemplateElement) {\n    this.element = element;\n\n    const nodesToRemove: Node[] = [];\n    const stack: Node[] = [];\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        element.content,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    // Keeps track of the last index associated with a part. We try to delete\n    // unnecessary nodes, but we never want to associate two different parts\n    // to the same index. They must have a constant node between.\n    let lastPartIndex = 0;\n    let index = -1;\n    let partIndex = 0;\n    const {strings, values: {length}} = result;\n    while (partIndex < length) {\n      const node = walker.nextNode() as Element | Comment | Text | null;\n      if (node === null) {\n        // We've exhausted the content inside a nested template element.\n        // Because we still have parts (the outer for-loop), we know:\n        // - There is a template in the stack\n        // - The walker will find a nextNode outside the template\n        walker.currentNode = stack.pop()!;\n        continue;\n      }\n      index++;\n\n      if (node.nodeType === 1 /* Node.ELEMENT_NODE */) {\n        if ((node as Element).hasAttributes()) {\n          const attributes = (node as Element).attributes;\n          const {length} = attributes;\n          // Per\n          // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap,\n          // attributes are not guaranteed to be returned in document order.\n          // In particular, Edge/IE can return them out of order, so we cannot\n          // assume a correspondence between part index and attribute index.\n          let count = 0;\n          for (let i = 0; i < length; i++) {\n            if (endsWith(attributes[i].name, boundAttributeSuffix)) {\n              count++;\n            }\n          }\n          while (count-- > 0) {\n            // Get the template literal section leading up to the first\n            // expression in this attribute\n            const stringForPart = strings[partIndex];\n            // Find the attribute name\n            const name = lastAttributeNameRegex.exec(stringForPart)![2];\n            // Find the corresponding attribute\n            // All bound attributes have had a suffix added in\n            // TemplateResult#getHTML to opt out of special attribute\n            // handling. To look up the attribute value we also need to add\n            // the suffix.\n            const attributeLookupName =\n                name.toLowerCase() + boundAttributeSuffix;\n            const attributeValue =\n                (node as Element).getAttribute(attributeLookupName)!;\n            (node as Element).removeAttribute(attributeLookupName);\n            const statics = attributeValue.split(markerRegex);\n            this.parts.push({type: 'attribute', index, name, strings: statics});\n            partIndex += statics.length - 1;\n          }\n        }\n        if ((node as Element).tagName === 'TEMPLATE') {\n          stack.push(node);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n      } else if (node.nodeType === 3 /* Node.TEXT_NODE */) {\n        const data = (node as Text).data;\n        if (data.indexOf(marker) >= 0) {\n          const parent = node.parentNode!;\n          const strings = data.split(markerRegex);\n          const lastIndex = strings.length - 1;\n          // Generate a new text node for each literal section\n          // These nodes are also used as the markers for node parts\n          for (let i = 0; i < lastIndex; i++) {\n            let insert: Node;\n            let s = strings[i];\n            if (s === '') {\n              insert = createMarker();\n            } else {\n              const match = lastAttributeNameRegex.exec(s);\n              if (match !== null && endsWith(match[2], boundAttributeSuffix)) {\n                s = s.slice(0, match.index) + match[1] +\n                    match[2].slice(0, -boundAttributeSuffix.length) + match[3];\n              }\n              insert = document.createTextNode(s);\n            }\n            parent.insertBefore(insert, node);\n            this.parts.push({type: 'node', index: ++index});\n          }\n          // If there's no text, we must insert a comment to mark our place.\n          // Else, we can trust it will stick around after cloning.\n          if (strings[lastIndex] === '') {\n            parent.insertBefore(createMarker(), node);\n            nodesToRemove.push(node);\n          } else {\n            (node as Text).data = strings[lastIndex];\n          }\n          // We have a part for each match found\n          partIndex += lastIndex;\n        }\n      } else if (node.nodeType === 8 /* Node.COMMENT_NODE */) {\n        if ((node as Comment).data === marker) {\n          const parent = node.parentNode!;\n          // Add a new marker node to be the startNode of the Part if any of\n          // the following are true:\n          //  * We don't have a previousSibling\n          //  * The previousSibling is already the start of a previous part\n          if (node.previousSibling === null || index === lastPartIndex) {\n            index++;\n            parent.insertBefore(createMarker(), node);\n          }\n          lastPartIndex = index;\n          this.parts.push({type: 'node', index});\n          // If we don't have a nextSibling, keep this node so we have an end.\n          // Else, we can remove it to save future costs.\n          if (node.nextSibling === null) {\n            (node as Comment).data = '';\n          } else {\n            nodesToRemove.push(node);\n            index--;\n          }\n          partIndex++;\n        } else {\n          let i = -1;\n          while ((i = (node as Comment).data.indexOf(marker, i + 1)) !== -1) {\n            // Comment node has a binding marker inside, make an inactive part\n            // The binding won't work, but subsequent bindings will\n            // TODO (justinfagnani): consider whether it's even worth it to\n            // make bindings in comments work\n            this.parts.push({type: 'node', index: -1});\n            partIndex++;\n          }\n        }\n      }\n    }\n\n    // Remove text binding nodes after the walk to not disturb the TreeWalker\n    for (const n of nodesToRemove) {\n      n.parentNode!.removeChild(n);\n    }\n  }\n}\n\nconst endsWith = (str: string, suffix: string): boolean => {\n  const index = str.length - suffix.length;\n  return index >= 0 && str.slice(index) === suffix;\n};\n\n/**\n * A placeholder for a dynamic expression in an HTML template.\n *\n * There are two built-in part types: AttributePart and NodePart. NodeParts\n * always represent a single dynamic expression, while AttributeParts may\n * represent as many expressions are contained in the attribute.\n *\n * A Template's parts are mutable, so parts can be replaced or modified\n * (possibly to implement different template semantics). The contract is that\n * parts can only be replaced, not removed, added or reordered, and parts must\n * always consume the correct number of values in their `update()` method.\n *\n * TODO(justinfagnani): That requirement is a little fragile. A\n * TemplateInstance could instead be more careful about which values it gives\n * to Part.update().\n */\nexport type TemplatePart = {\n  readonly type: 'node'; index: number;\n}|{\n  readonly type: 'attribute';\n  index: number;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n};\n\nexport const isTemplatePartActive = (part: TemplatePart) => part.index !== -1;\n\n// Allows `document.createComment('')` to be renamed for a\n// small manual size-savings.\nexport const createMarker = () => document.createComment('');\n\n/**\n * This regex extracts the attribute name preceding an attribute-position\n * expression. It does this by matching the syntax allowed for attributes\n * against the string literal directly preceding the expression, assuming that\n * the expression is in an attribute-value position.\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\x09\\x0a\\x0c\\x0d\" are HTML space characters:\n * https://www.w3.org/TR/html5/infrastructure.html#space-characters\n *\n * \"\\0-\\x1F\\x7F-\\x9F\" are Unicode control characters, which includes every\n * space character except \" \".\n *\n * So an attribute is:\n *  * The name: any character except a control character, space character, ('),\n *    (\"), \">\", \"=\", or \"/\"\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nexport const lastAttributeNameRegex =\n    // eslint-disable-next-line no-control-regex\n    /([ \\x09\\x0a\\x0c\\x0d])([^\\0-\\x1F\\x7F-\\x9F \"'>=/]+)([ \\x09\\x0a\\x0c\\x0d]*=[ \\x09\\x0a\\x0c\\x0d]*(?:[^ \\x09\\x0a\\x0c\\x0d\"'`<>=]*|\"[^\"]*|'[^']*))$/;\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\nconst walkerNodeFilter = 133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */;\n\n/**\n * Removes the list of nodes from a Template safely. In addition to removing\n * nodes from the Template, the Template part indices are updated to match\n * the mutated Template DOM.\n *\n * As the template is walked the removal state is tracked and\n * part indices are adjusted as needed.\n *\n * div\n *   div#1 (remove) <-- start removing (removing node is div#1)\n *     div\n *       div#2 (remove)  <-- continue removing (removing node is still div#1)\n *         div\n * div <-- stop removing since previous sibling is the removing node (div#1,\n * removed 4 nodes)\n */\nexport function removeNodesFromTemplate(\n    template: Template, nodesToRemove: Set<Node>) {\n  const {element: {content}, parts} = template;\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let part = parts[partIndex];\n  let nodeIndex = -1;\n  let removeCount = 0;\n  const nodesToRemoveInTemplate = [];\n  let currentRemovingNode: Node|null = null;\n  while (walker.nextNode()) {\n    nodeIndex++;\n    const node = walker.currentNode as Element;\n    // End removal if stepped past the removing node\n    if (node.previousSibling === currentRemovingNode) {\n      currentRemovingNode = null;\n    }\n    // A node to remove was found in the template\n    if (nodesToRemove.has(node)) {\n      nodesToRemoveInTemplate.push(node);\n      // Track node we're removing\n      if (currentRemovingNode === null) {\n        currentRemovingNode = node;\n      }\n    }\n    // When removing, increment count by which to adjust subsequent part indices\n    if (currentRemovingNode !== null) {\n      removeCount++;\n    }\n    while (part !== undefined && part.index === nodeIndex) {\n      // If part is in a removed node deactivate it by setting index to -1 or\n      // adjust the index as needed.\n      part.index = currentRemovingNode !== null ? -1 : part.index - removeCount;\n      // go to the next active part.\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n      part = parts[partIndex];\n    }\n  }\n  nodesToRemoveInTemplate.forEach((n) => n.parentNode!.removeChild(n));\n}\n\nconst countNodes = (node: Node) => {\n  let count = (node.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */) ? 0 : 1;\n  const walker = document.createTreeWalker(node, walkerNodeFilter, null, false);\n  while (walker.nextNode()) {\n    count++;\n  }\n  return count;\n};\n\nconst nextActiveIndexInTemplateParts =\n    (parts: TemplatePart[], startIndex = -1) => {\n      for (let i = startIndex + 1; i < parts.length; i++) {\n        const part = parts[i];\n        if (isTemplatePartActive(part)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n\n/**\n * Inserts the given node into the Template, optionally before the given\n * refNode. In addition to inserting the node into the Template, the Template\n * part indices are updated to match the mutated Template DOM.\n */\nexport function insertNodeIntoTemplate(\n    template: Template, node: Node, refNode: Node|null = null) {\n  const {element: {content}, parts} = template;\n  // If there's no refNode, then put node at end of template.\n  // No part indices need to be shifted in this case.\n  if (refNode === null || refNode === undefined) {\n    content.appendChild(node);\n    return;\n  }\n  const walker =\n      document.createTreeWalker(content, walkerNodeFilter, null, false);\n  let partIndex = nextActiveIndexInTemplateParts(parts);\n  let insertCount = 0;\n  let walkerIndex = -1;\n  while (walker.nextNode()) {\n    walkerIndex++;\n    const walkerNode = walker.currentNode as Element;\n    if (walkerNode === refNode) {\n      insertCount = countNodes(node);\n      refNode.parentNode!.insertBefore(node, refNode);\n    }\n    while (partIndex !== -1 && parts[partIndex].index === walkerIndex) {\n      // If we've inserted the node, simply adjust all subsequent parts\n      if (insertCount > 0) {\n        while (partIndex !== -1) {\n          parts[partIndex].index += insertCount;\n          partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n        }\n        return;\n      }\n      partIndex = nextActiveIndexInTemplateParts(parts, partIndex);\n    }\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Part} from './part.js';\n\nconst directives = new WeakMap<object, true>();\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type DirectiveFactory = (...args: any[]) => object;\n\nexport type DirectiveFn = (part: Part) => void;\n\n/**\n * Brands a function as a directive factory function so that lit-html will call\n * the function during template rendering, rather than passing as a value.\n *\n * A _directive_ is a function that takes a Part as an argument. It has the\n * signature: `(part: Part) => void`.\n *\n * A directive _factory_ is a function that takes arguments for data and\n * configuration and returns a directive. Users of directive usually refer to\n * the directive factory as the directive. For example, \"The repeat directive\".\n *\n * Usually a template author will invoke a directive factory in their template\n * with relevant arguments, which will then return a directive function.\n *\n * Here's an example of using the `repeat()` directive factory that takes an\n * array and a function to render an item:\n *\n * ```js\n * html`<ul><${repeat(items, (item) => html`<li>${item}</li>`)}</ul>`\n * ```\n *\n * When `repeat` is invoked, it returns a directive function that closes over\n * `items` and the template function. When the outer template is rendered, the\n * return directive function is called with the Part for the expression.\n * `repeat` then performs it's custom logic to render multiple items.\n *\n * @param f The directive factory function. Must be a function that returns a\n * function of the signature `(part: Part) => void`. The returned function will\n * be called with the part object.\n *\n * @example\n *\n * import {directive, html} from 'lit-html';\n *\n * const immutable = directive((v) => (part) => {\n *   if (part.value !== v) {\n *     part.setValue(v)\n *   }\n * });\n */\nexport const directive = <F extends DirectiveFactory>(f: F): F =>\n    ((...args: unknown[]) => {\n      const d = f(...args);\n      directives.set(d, true);\n      return d;\n    }) as F;\n\nexport const isDirective = (o: unknown): o is DirectiveFn => {\n  return typeof o === 'function' && directives.has(o);\n};\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * The Part interface represents a dynamic part of a template instance rendered\n * by lit-html.\n */\nexport interface Part {\n  readonly value: unknown;\n\n  /**\n   * Sets the current part value, but does not write it to the DOM.\n   * @param value The value that will be committed.\n   */\n  setValue(value: unknown): void;\n\n  /**\n   * Commits the current part value, causing it to actually be written to the\n   * DOM.\n   *\n   * Directives are run at the start of `commit`, so that if they call\n   * `part.setValue(...)` synchronously that value will be used in the current\n   * commit, and there's no need to call `part.commit()` within the directive.\n   * If directives set a part value asynchronously, then they must call\n   * `part.commit()` manually.\n   */\n  commit(): void;\n}\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = {};\n\n/**\n * A sentinel value that signals a NodePart to fully clear its content.\n */\nexport const nothing = {};\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isCEPolyfill} from './dom.js';\nimport {Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {isTemplatePartActive, Template, TemplatePart} from './template.js';\n\n/**\n * An instance of a `Template` that can be attached to the DOM and updated\n * with new values.\n */\nexport class TemplateInstance {\n  private readonly __parts: Array<Part|undefined> = [];\n  readonly processor: TemplateProcessor;\n  readonly options: RenderOptions;\n  readonly template: Template;\n\n  constructor(\n      template: Template, processor: TemplateProcessor,\n      options: RenderOptions) {\n    this.template = template;\n    this.processor = processor;\n    this.options = options;\n  }\n\n  update(values: readonly unknown[]) {\n    let i = 0;\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.setValue(values[i]);\n      }\n      i++;\n    }\n    for (const part of this.__parts) {\n      if (part !== undefined) {\n        part.commit();\n      }\n    }\n  }\n\n  _clone(): DocumentFragment {\n    // There are a number of steps in the lifecycle of a template instance's\n    // DOM fragment:\n    //  1. Clone - create the instance fragment\n    //  2. Adopt - adopt into the main document\n    //  3. Process - find part markers and create parts\n    //  4. Upgrade - upgrade custom elements\n    //  5. Update - set node, attribute, property, etc., values\n    //  6. Connect - connect to the document. Optional and outside of this\n    //     method.\n    //\n    // We have a few constraints on the ordering of these steps:\n    //  * We need to upgrade before updating, so that property values will pass\n    //    through any property setters.\n    //  * We would like to process before upgrading so that we're sure that the\n    //    cloned fragment is inert and not disturbed by self-modifying DOM.\n    //  * We want custom elements to upgrade even in disconnected fragments.\n    //\n    // Given these constraints, with full custom elements support we would\n    // prefer the order: Clone, Process, Adopt, Upgrade, Update, Connect\n    //\n    // But Safari does not implement CustomElementRegistry#upgrade, so we\n    // can not implement that order and still have upgrade-before-update and\n    // upgrade disconnected fragments. So we instead sacrifice the\n    // process-before-upgrade constraint, since in Custom Elements v1 elements\n    // must not modify their light DOM in the constructor. We still have issues\n    // when co-existing with CEv0 elements like Polymer 1, and with polyfills\n    // that don't strictly adhere to the no-modification rule because shadow\n    // DOM, which may be created in the constructor, is emulated by being placed\n    // in the light DOM.\n    //\n    // The resulting order is on native is: Clone, Adopt, Upgrade, Process,\n    // Update, Connect. document.importNode() performs Clone, Adopt, and Upgrade\n    // in one step.\n    //\n    // The Custom Elements v1 polyfill supports upgrade(), so the order when\n    // polyfilled is the more ideal: Clone, Process, Adopt, Upgrade, Update,\n    // Connect.\n\n    const fragment = isCEPolyfill ?\n        this.template.element.content.cloneNode(true) as DocumentFragment :\n        document.importNode(this.template.element.content, true);\n\n    const stack: Node[] = [];\n    const parts = this.template.parts;\n    // Edge needs all 4 parameters present; IE11 needs 3rd parameter to be null\n    const walker = document.createTreeWalker(\n        fragment,\n        133 /* NodeFilter.SHOW_{ELEMENT|COMMENT|TEXT} */,\n        null,\n        false);\n    let partIndex = 0;\n    let nodeIndex = 0;\n    let part: TemplatePart;\n    let node = walker.nextNode();\n    // Loop through all the nodes and parts of a template\n    while (partIndex < parts.length) {\n      part = parts[partIndex];\n      if (!isTemplatePartActive(part)) {\n        this.__parts.push(undefined);\n        partIndex++;\n        continue;\n      }\n\n      // Progress the tree walker until we find our next part's node.\n      // Note that multiple parts may share the same node (attribute parts\n      // on a single element), so this loop may not run at all.\n      while (nodeIndex < part.index) {\n        nodeIndex++;\n        if (node!.nodeName === 'TEMPLATE') {\n          stack.push(node!);\n          walker.currentNode = (node as HTMLTemplateElement).content;\n        }\n        if ((node = walker.nextNode()) === null) {\n          // We've exhausted the content inside a nested template element.\n          // Because we still have parts (the outer for-loop), we know:\n          // - There is a template in the stack\n          // - The walker will find a nextNode outside the template\n          walker.currentNode = stack.pop()!;\n          node = walker.nextNode();\n        }\n      }\n\n      // We've arrived at our part's node.\n      if (part.type === 'node') {\n        const part = this.processor.handleTextExpression(this.options);\n        part.insertAfterNode(node!.previousSibling!);\n        this.__parts.push(part);\n      } else {\n        this.__parts.push(...this.processor.handleAttributeExpressions(\n            node as Element, part.name, part.strings, this.options));\n      }\n      partIndex++;\n    }\n\n    if (isCEPolyfill) {\n      document.adoptNode(fragment);\n      customElements.upgrade(fragment);\n    }\n    return fragment;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * @module lit-html\n */\n\nimport {reparentNodes} from './dom.js';\nimport {TemplateProcessor} from './template-processor.js';\nimport {boundAttributeSuffix, lastAttributeNameRegex, marker, nodeMarker} from './template.js';\n\ndeclare const trustedTypes: typeof window.trustedTypes;\n/**\n * Our TrustedTypePolicy for HTML which is declared using the html template\n * tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n */\nconst policy = window.trustedTypes &&\n    trustedTypes!.createPolicy('lit-html', {createHTML: (s) => s});\n\nconst commentMarker = ` ${marker} `;\n\n/**\n * The return type of `html`, which holds a Template and the values from\n * interpolated expressions.\n */\nexport class TemplateResult {\n  readonly strings: TemplateStringsArray;\n  readonly values: readonly unknown[];\n  readonly type: string;\n  readonly processor: TemplateProcessor;\n\n  constructor(\n      strings: TemplateStringsArray, values: readonly unknown[], type: string,\n      processor: TemplateProcessor) {\n    this.strings = strings;\n    this.values = values;\n    this.type = type;\n    this.processor = processor;\n  }\n\n  /**\n   * Returns a string of HTML used to create a `<template>` element.\n   */\n  getHTML(): string {\n    const l = this.strings.length - 1;\n    let html = '';\n    let isCommentBinding = false;\n\n    for (let i = 0; i < l; i++) {\n      const s = this.strings[i];\n      // For each binding we want to determine the kind of marker to insert\n      // into the template source before it's parsed by the browser's HTML\n      // parser. The marker type is based on whether the expression is in an\n      // attribute, text, or comment position.\n      //   * For node-position bindings we insert a comment with the marker\n      //     sentinel as its text content, like <!--{{lit-guid}}-->.\n      //   * For attribute bindings we insert just the marker sentinel for the\n      //     first binding, so that we support unquoted attribute bindings.\n      //     Subsequent bindings can use a comment marker because multi-binding\n      //     attributes must be quoted.\n      //   * For comment bindings we insert just the marker sentinel so we don't\n      //     close the comment.\n      //\n      // The following code scans the template source, but is *not* an HTML\n      // parser. We don't need to track the tree structure of the HTML, only\n      // whether a binding is inside a comment, and if not, if it appears to be\n      // the first binding in an attribute.\n      const commentOpen = s.lastIndexOf('<!--');\n      // We're in comment position if we have a comment open with no following\n      // comment close. Because <-- can appear in an attribute value there can\n      // be false positives.\n      isCommentBinding = (commentOpen > -1 || isCommentBinding) &&\n          s.indexOf('-->', commentOpen + 1) === -1;\n      // Check to see if we have an attribute-like sequence preceding the\n      // expression. This can match \"name=value\" like structures in text,\n      // comments, and attribute values, so there can be false-positives.\n      const attributeMatch = lastAttributeNameRegex.exec(s);\n      if (attributeMatch === null) {\n        // We're only in this branch if we don't have a attribute-like\n        // preceding sequence. For comments, this guards against unusual\n        // attribute values like <div foo=\"<!--${'bar'}\">. Cases like\n        // <!-- foo=${'bar'}--> are handled correctly in the attribute branch\n        // below.\n        html += s + (isCommentBinding ? commentMarker : nodeMarker);\n      } else {\n        // For attributes we use just a marker sentinel, and also append a\n        // $lit$ suffix to the name to opt-out of attribute-specific parsing\n        // that IE and Edge do for style and certain SVG attributes.\n        html += s.substr(0, attributeMatch.index) + attributeMatch[1] +\n            attributeMatch[2] + boundAttributeSuffix + attributeMatch[3] +\n            marker;\n      }\n    }\n    html += this.strings[l];\n    return html;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = document.createElement('template');\n    let value = this.getHTML();\n    if (policy !== undefined) {\n      // this is secure because `this.strings` is a TemplateStringsArray.\n      // TODO: validate this when\n      // https://github.com/tc39/proposal-array-is-template-object is\n      // implemented.\n      value = policy.createHTML(value) as unknown as string;\n    }\n    template.innerHTML = value;\n    return template;\n  }\n}\n\n/**\n * A TemplateResult for SVG fragments.\n *\n * This class wraps HTML in an `<svg>` tag in order to parse its contents in the\n * SVG namespace, then modifies the template to remove the `<svg>` tag so that\n * clones only container the original fragment.\n */\nexport class SVGTemplateResult extends TemplateResult {\n  getHTML(): string {\n    return `<svg>${super.getHTML()}</svg>`;\n  }\n\n  getTemplateElement(): HTMLTemplateElement {\n    const template = super.getTemplateElement();\n    const content = template.content;\n    const svgElement = content.firstChild!;\n    content.removeChild(svgElement);\n    reparentNodes(content, svgElement.firstChild);\n    return template;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {isDirective} from './directive.js';\nimport {removeNodes} from './dom.js';\nimport {noChange, nothing, Part} from './part.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {createMarker} from './template.js';\n\n// https://tc39.github.io/ecma262/#sec-typeof-operator\nexport type Primitive = null|undefined|boolean|number|string|symbol|bigint;\nexport const isPrimitive = (value: unknown): value is Primitive => {\n  return (\n      value === null ||\n      !(typeof value === 'object' || typeof value === 'function'));\n};\nexport const isIterable = (value: unknown): value is Iterable<unknown> => {\n  return Array.isArray(value) ||\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      !!(value && (value as any)[Symbol.iterator]);\n};\n\n/**\n * Writes attribute values to the DOM for a group of AttributeParts bound to a\n * single attribute. The value is only set once even if there are multiple parts\n * for an attribute.\n */\nexport class AttributeCommitter {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: ReadonlyArray<string>;\n  readonly parts: ReadonlyArray<AttributePart>;\n  dirty = true;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n    this.parts = [];\n    for (let i = 0; i < strings.length - 1; i++) {\n      (this.parts as AttributePart[])[i] = this._createPart();\n    }\n  }\n\n  /**\n   * Creates a single part. Override this to create a differnt type of part.\n   */\n  protected _createPart(): AttributePart {\n    return new AttributePart(this);\n  }\n\n  protected _getValue(): unknown {\n    const strings = this.strings;\n    const l = strings.length - 1;\n    const parts = this.parts;\n\n    // If we're assigning an attribute via syntax like:\n    //    attr=\"${foo}\"  or  attr=${foo}\n    // but not\n    //    attr=\"${foo} ${bar}\" or attr=\"${foo} baz\"\n    // then we don't want to coerce the attribute value into one long\n    // string. Instead we want to just return the value itself directly,\n    // so that sanitizeDOMValue can get the actual value rather than\n    // String(value)\n    // The exception is if v is an array, in which case we do want to smash\n    // it together into a string without calling String() on the array.\n    //\n    // This also allows trusted values (when using TrustedTypes) being\n    // assigned to DOM sinks without being stringified in the process.\n    if (l === 1 && strings[0] === '' && strings[1] === '') {\n      const v = parts[0].value;\n      if (typeof v === 'symbol') {\n        return String(v);\n      }\n      if (typeof v === 'string' || !isIterable(v)) {\n        return v;\n      }\n    }\n    let text = '';\n\n    for (let i = 0; i < l; i++) {\n      text += strings[i];\n      const part = parts[i];\n      if (part !== undefined) {\n        const v = part.value;\n        if (isPrimitive(v) || !isIterable(v)) {\n          text += typeof v === 'string' ? v : String(v);\n        } else {\n          for (const t of v) {\n            text += typeof t === 'string' ? t : String(t);\n          }\n        }\n      }\n    }\n\n    text += strings[l];\n    return text;\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      this.element.setAttribute(this.name, this._getValue() as string);\n    }\n  }\n}\n\n/**\n * A Part that controls all or part of an attribute value.\n */\nexport class AttributePart implements Part {\n  readonly committer: AttributeCommitter;\n  value: unknown = undefined;\n\n  constructor(committer: AttributeCommitter) {\n    this.committer = committer;\n  }\n\n  setValue(value: unknown): void {\n    if (value !== noChange && (!isPrimitive(value) || value !== this.value)) {\n      this.value = value;\n      // If the value is a not a directive, dirty the committer so that it'll\n      // call setAttribute. If the value is a directive, it'll dirty the\n      // committer if it calls setValue().\n      if (!isDirective(value)) {\n        this.committer.dirty = true;\n      }\n    }\n  }\n\n  commit() {\n    while (isDirective(this.value)) {\n      const directive = this.value;\n      this.value = noChange;\n      directive(this);\n    }\n    if (this.value === noChange) {\n      return;\n    }\n    this.committer.commit();\n  }\n}\n\n/**\n * A Part that controls a location within a Node tree. Like a Range, NodePart\n * has start and end locations and can set and update the Nodes between those\n * locations.\n *\n * NodeParts support several value types: primitives, Nodes, TemplateResults,\n * as well as arrays and iterables of those types.\n */\nexport class NodePart implements Part {\n  readonly options: RenderOptions;\n  startNode!: Node;\n  endNode!: Node;\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(options: RenderOptions) {\n    this.options = options;\n  }\n\n  /**\n   * Appends this part into a container.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendInto(container: Node) {\n    this.startNode = container.appendChild(createMarker());\n    this.endNode = container.appendChild(createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` node (between `ref` and `ref`'s next\n   * sibling). Both `ref` and its next sibling must be static, unchanging nodes\n   * such as those that appear in a literal section of a template.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterNode(ref: Node) {\n    this.startNode = ref;\n    this.endNode = ref.nextSibling!;\n  }\n\n  /**\n   * Appends this part into a parent part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  appendIntoPart(part: NodePart) {\n    part.__insert(this.startNode = createMarker());\n    part.__insert(this.endNode = createMarker());\n  }\n\n  /**\n   * Inserts this part after the `ref` part.\n   *\n   * This part must be empty, as its contents are not automatically moved.\n   */\n  insertAfterPart(ref: NodePart) {\n    ref.__insert(this.startNode = createMarker());\n    this.endNode = ref.endNode;\n    ref.endNode = this.startNode;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    if (this.startNode.parentNode === null) {\n      return;\n    }\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    const value = this.__pendingValue;\n    if (value === noChange) {\n      return;\n    }\n    if (isPrimitive(value)) {\n      if (value !== this.value) {\n        this.__commitText(value);\n      }\n    } else if (value instanceof TemplateResult) {\n      this.__commitTemplateResult(value);\n    } else if (value instanceof Node) {\n      this.__commitNode(value);\n    } else if (isIterable(value)) {\n      this.__commitIterable(value);\n    } else if (value === nothing) {\n      this.value = nothing;\n      this.clear();\n    } else {\n      // Fallback, will render the string representation\n      this.__commitText(value);\n    }\n  }\n\n  private __insert(node: Node) {\n    this.endNode.parentNode!.insertBefore(node, this.endNode);\n  }\n\n  private __commitNode(value: Node): void {\n    if (this.value === value) {\n      return;\n    }\n    this.clear();\n    this.__insert(value);\n    this.value = value;\n  }\n\n  private __commitText(value: unknown): void {\n    const node = this.startNode.nextSibling!;\n    value = value == null ? '' : value;\n    // If `value` isn't already a string, we explicitly convert it here in case\n    // it can't be implicitly converted - i.e. it's a symbol.\n    const valueAsString: string =\n        typeof value === 'string' ? value : String(value);\n    if (node === this.endNode.previousSibling &&\n        node.nodeType === 3 /* Node.TEXT_NODE */) {\n      // If we only have a single text node between the markers, we can just\n      // set its value, rather than replacing it.\n      // TODO(justinfagnani): Can we just check if this.value is primitive?\n      (node as Text).data = valueAsString;\n    } else {\n      this.__commitNode(document.createTextNode(valueAsString));\n    }\n    this.value = value;\n  }\n\n  private __commitTemplateResult(value: TemplateResult): void {\n    const template = this.options.templateFactory(value);\n    if (this.value instanceof TemplateInstance &&\n        this.value.template === template) {\n      this.value.update(value.values);\n    } else {\n      // Make sure we propagate the template processor from the TemplateResult\n      // so that we use its syntax extension, etc. The template factory comes\n      // from the render function options so that it can control template\n      // caching and preprocessing.\n      const instance =\n          new TemplateInstance(template, value.processor, this.options);\n      const fragment = instance._clone();\n      instance.update(value.values);\n      this.__commitNode(fragment);\n      this.value = instance;\n    }\n  }\n\n  private __commitIterable(value: Iterable<unknown>): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If _value is an array, then the previous render was of an\n    // iterable and _value will contain the NodeParts from the previous\n    // render. If _value is not an array, clear this part and make a new\n    // array for NodeParts.\n    if (!Array.isArray(this.value)) {\n      this.value = [];\n      this.clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this.value as NodePart[];\n    let partIndex = 0;\n    let itemPart: NodePart|undefined;\n\n    for (const item of value) {\n      // Try to reuse an existing part\n      itemPart = itemParts[partIndex];\n\n      // If no existing part, create a new one\n      if (itemPart === undefined) {\n        itemPart = new NodePart(this.options);\n        itemParts.push(itemPart);\n        if (partIndex === 0) {\n          itemPart.appendIntoPart(this);\n        } else {\n          itemPart.insertAfterPart(itemParts[partIndex - 1]);\n        }\n      }\n      itemPart.setValue(item);\n      itemPart.commit();\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n      this.clear(itemPart && itemPart.endNode);\n    }\n  }\n\n  clear(startNode: Node = this.startNode) {\n    removeNodes(\n        this.startNode.parentNode!, startNode.nextSibling!, this.endNode);\n  }\n}\n\n/**\n * Implements a boolean attribute, roughly as defined in the HTML\n * specification.\n *\n * If the value is truthy, then the attribute is present with a value of\n * ''. If the value is falsey, the attribute is removed.\n */\nexport class BooleanAttributePart implements Part {\n  readonly element: Element;\n  readonly name: string;\n  readonly strings: readonly string[];\n  value: unknown = undefined;\n  private __pendingValue: unknown = undefined;\n\n  constructor(element: Element, name: string, strings: readonly string[]) {\n    if (strings.length !== 2 || strings[0] !== '' || strings[1] !== '') {\n      throw new Error(\n          'Boolean attributes can only contain a single expression');\n    }\n    this.element = element;\n    this.name = name;\n    this.strings = strings;\n  }\n\n  setValue(value: unknown): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n    const value = !!this.__pendingValue;\n    if (this.value !== value) {\n      if (value) {\n        this.element.setAttribute(this.name, '');\n      } else {\n        this.element.removeAttribute(this.name);\n      }\n      this.value = value;\n    }\n    this.__pendingValue = noChange;\n  }\n}\n\n/**\n * Sets attribute values for PropertyParts, so that the value is only set once\n * even if there are multiple parts for a property.\n *\n * If an expression controls the whole property value, then the value is simply\n * assigned to the property under control. If there are string literals or\n * multiple expressions, then the strings are expressions are interpolated into\n * a string first.\n */\nexport class PropertyCommitter extends AttributeCommitter {\n  readonly single: boolean;\n\n  constructor(element: Element, name: string, strings: ReadonlyArray<string>) {\n    super(element, name, strings);\n    this.single =\n        (strings.length === 2 && strings[0] === '' && strings[1] === '');\n  }\n\n  protected _createPart(): PropertyPart {\n    return new PropertyPart(this);\n  }\n\n  protected _getValue() {\n    if (this.single) {\n      return this.parts[0].value;\n    }\n    return super._getValue();\n  }\n\n  commit(): void {\n    if (this.dirty) {\n      this.dirty = false;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (this.element as any)[this.name] = this._getValue();\n    }\n  }\n}\n\nexport class PropertyPart extends AttributePart {}\n\n// Detect event listener options support. If the `capture` property is read\n// from the options object, then options are supported. If not, then the third\n// argument to add/removeEventListener is interpreted as the boolean capture\n// value so we should only pass the `capture` property.\nlet eventOptionsSupported = false;\n\n// Wrap into an IIFE because MS Edge <= v41 does not support having try/catch\n// blocks right into the body of a module\n(() => {\n  try {\n    const options = {\n      get capture() {\n        eventOptionsSupported = true;\n        return false;\n      }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    window.addEventListener('test', options as any, options);\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    window.removeEventListener('test', options as any, options);\n  } catch (_e) {\n    // event options not supported\n  }\n})();\n\ntype EventHandlerWithOptions =\n    EventListenerOrEventListenerObject&Partial<AddEventListenerOptions>;\nexport class EventPart implements Part {\n  readonly element: Element;\n  readonly eventName: string;\n  readonly eventContext?: EventTarget;\n  value: undefined|EventHandlerWithOptions = undefined;\n  private __options?: AddEventListenerOptions;\n  private __pendingValue: undefined|EventHandlerWithOptions = undefined;\n  private readonly __boundHandleEvent: (event: Event) => void;\n\n  constructor(element: Element, eventName: string, eventContext?: EventTarget) {\n    this.element = element;\n    this.eventName = eventName;\n    this.eventContext = eventContext;\n    this.__boundHandleEvent = (e) => this.handleEvent(e);\n  }\n\n  setValue(value: undefined|EventHandlerWithOptions): void {\n    this.__pendingValue = value;\n  }\n\n  commit() {\n    while (isDirective(this.__pendingValue)) {\n      const directive = this.__pendingValue;\n      this.__pendingValue = noChange as EventHandlerWithOptions;\n      directive(this);\n    }\n    if (this.__pendingValue === noChange) {\n      return;\n    }\n\n    const newListener = this.__pendingValue;\n    const oldListener = this.value;\n    const shouldRemoveListener = newListener == null ||\n        oldListener != null &&\n            (newListener.capture !== oldListener.capture ||\n             newListener.once !== oldListener.once ||\n             newListener.passive !== oldListener.passive);\n    const shouldAddListener =\n        newListener != null && (oldListener == null || shouldRemoveListener);\n\n    if (shouldRemoveListener) {\n      this.element.removeEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    if (shouldAddListener) {\n      this.__options = getOptions(newListener);\n      this.element.addEventListener(\n          this.eventName, this.__boundHandleEvent, this.__options);\n    }\n    this.value = newListener;\n    this.__pendingValue = noChange as EventHandlerWithOptions;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this.value === 'function') {\n      this.value.call(this.eventContext || this.element, event);\n    } else {\n      (this.value as EventListenerObject).handleEvent(event);\n    }\n  }\n}\n\n// We copy options because of the inconsistent behavior of browsers when reading\n// the third argument of add/removeEventListener. IE11 doesn't support options\n// at all. Chrome 41 only reads `capture` if the argument is an object.\nconst getOptions = (o: AddEventListenerOptions|undefined) => o &&\n    (eventOptionsSupported ?\n         {capture: o.capture, passive: o.passive, once: o.once} :\n         o.capture as AddEventListenerOptions);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\n/**\n * A function type that creates a Template from a TemplateResult.\n *\n * This is a hook into the template-creation process for rendering that\n * requires some modification of templates before they're used, like ShadyCSS,\n * which must add classes to elements and remove styles.\n *\n * Templates should be cached as aggressively as possible, so that many\n * TemplateResults produced from the same expression only do the work of\n * creating the Template the first time.\n *\n * Templates are usually cached by TemplateResult.strings and\n * TemplateResult.type, but may be cached by other keys if this function\n * modifies the template.\n *\n * Note that currently TemplateFactories must not add, remove, or reorder\n * expressions, because there is no way to describe such a modification\n * to render() so that values are interpolated to the correct place in the\n * template instances.\n */\nexport type TemplateFactory = (result: TemplateResult) => Template;\n\n/**\n * The default TemplateFactory which caches Templates keyed on\n * result.type and result.strings.\n */\nexport function templateFactory(result: TemplateResult) {\n  let templateCache = templateCaches.get(result.type);\n  if (templateCache === undefined) {\n    templateCache = {\n      stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n      keyString: new Map<string, Template>()\n    };\n    templateCaches.set(result.type, templateCache);\n  }\n\n  let template = templateCache.stringsArray.get(result.strings);\n  if (template !== undefined) {\n    return template;\n  }\n\n  // If the TemplateStringsArray is new, generate a key from the strings\n  // This key is shared between all templates with identical content\n  const key = result.strings.join(marker);\n\n  // Check if we already have a Template for this key\n  template = templateCache.keyString.get(key);\n  if (template === undefined) {\n    // If we have not seen this key before, create a new Template\n    template = new Template(result, result.getTemplateElement());\n    // Cache the Template for this key\n    templateCache.keyString.set(key, template);\n  }\n\n  // Cache all future queries for this TemplateStringsArray\n  templateCache.stringsArray.set(result.strings, template);\n  return template;\n}\n\n/**\n * The first argument to JS template tags retain identity across multiple\n * calls to a tag for the same literal, so we can cache work done per literal\n * in a Map.\n *\n * Safari currently has a bug which occasionally breaks this behavior, so we\n * need to cache the Template at two levels. We first cache the\n * TemplateStringsArray, and if that fails, we cache a key constructed by\n * joining the strings array.\n */\nexport interface TemplateCache {\n  readonly stringsArray: WeakMap<TemplateStringsArray, Template>;\n  readonly keyString: Map<string, Template>;\n}\n\nexport const templateCaches = new Map<string, TemplateCache>();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {removeNodes} from './dom.js';\nimport {NodePart} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {templateFactory} from './template-factory.js';\n\nexport const parts = new WeakMap<Node, NodePart>();\n\n/**\n * Renders a template result or other value to a container.\n *\n * To update a container with new values, reevaluate the template literal and\n * call `render` with the new result.\n *\n * @param result Any value renderable by NodePart - typically a TemplateResult\n *     created by evaluating a template tag like `html` or `svg`.\n * @param container A DOM parent to render to. The entire contents are either\n *     replaced, or efficiently updated if the same result type was previous\n *     rendered there.\n * @param options RenderOptions for the entire render tree rendered to this\n *     container. Render options must *not* change between renders to the same\n *     container, as those changes will not effect previously rendered DOM.\n */\nexport const render =\n    (result: unknown,\n     container: Element|DocumentFragment,\n     options?: Partial<RenderOptions>) => {\n      let part = parts.get(container);\n      if (part === undefined) {\n        removeNodes(container, container.firstChild);\n        parts.set(container, part = new NodePart({\n                               templateFactory,\n                               ...options,\n                             }));\n        part.appendInto(container);\n      }\n      part.setValue(result);\n      part.commit();\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {Part} from './part.js';\nimport {AttributeCommitter, BooleanAttributePart, EventPart, NodePart, PropertyCommitter} from './parts.js';\nimport {RenderOptions} from './render-options.js';\nimport {TemplateProcessor} from './template-processor.js';\n\n/**\n * Creates Parts when a template is instantiated.\n */\nexport class DefaultTemplateProcessor implements TemplateProcessor {\n  /**\n   * Create parts for an attribute-position binding, given the event, attribute\n   * name, and string literals.\n   *\n   * @param element The element containing the binding\n   * @param name  The attribute name\n   * @param strings The string literals. There are always at least two strings,\n   *   event for fully-controlled bindings with a single expression.\n   */\n  handleAttributeExpressions(\n      element: Element, name: string, strings: string[],\n      options: RenderOptions): ReadonlyArray<Part> {\n    const prefix = name[0];\n    if (prefix === '.') {\n      const committer = new PropertyCommitter(element, name.slice(1), strings);\n      return committer.parts;\n    }\n    if (prefix === '@') {\n      return [new EventPart(element, name.slice(1), options.eventContext)];\n    }\n    if (prefix === '?') {\n      return [new BooleanAttributePart(element, name.slice(1), strings)];\n    }\n    const committer = new AttributeCommitter(element, name, strings);\n    return committer.parts;\n  }\n  /**\n   * Create parts for a text-position binding.\n   * @param templateFactory\n   */\n  handleTextExpression(options: RenderOptions) {\n    return new NodePart(options);\n  }\n}\n\nexport const defaultTemplateProcessor = new DefaultTemplateProcessor();\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n *\n * Main lit-html module.\n *\n * Main exports:\n *\n * -  [[html]]\n * -  [[svg]]\n * -  [[render]]\n *\n * @packageDocumentation\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {defaultTemplateProcessor} from './lib/default-template-processor.js';\nimport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\n\nexport {DefaultTemplateProcessor, defaultTemplateProcessor} from './lib/default-template-processor.js';\nexport {directive, DirectiveFn, isDirective} from './lib/directive.js';\n// TODO(justinfagnani): remove line when we get NodePart moving methods\nexport {removeNodes, reparentNodes} from './lib/dom.js';\nexport {noChange, nothing, Part} from './lib/part.js';\nexport {AttributeCommitter, AttributePart, BooleanAttributePart, EventPart, isIterable, isPrimitive, NodePart, PropertyCommitter, PropertyPart} from './lib/parts.js';\nexport {RenderOptions} from './lib/render-options.js';\nexport {parts, render} from './lib/render.js';\nexport {templateCaches, templateFactory} from './lib/template-factory.js';\nexport {TemplateInstance} from './lib/template-instance.js';\nexport {TemplateProcessor} from './lib/template-processor.js';\nexport {SVGTemplateResult, TemplateResult} from './lib/template-result.js';\nexport {createMarker, isTemplatePartActive, Template} from './lib/template.js';\n\ndeclare global {\n  interface Window {\n    litHtmlVersions: string[];\n  }\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n// TODO(justinfagnani): inject version number at build time\nif (typeof window !== 'undefined') {\n  (window['litHtmlVersions'] || (window['litHtmlVersions'] = [])).push('1.4.1');\n}\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n */\nexport const html = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new TemplateResult(strings, values, 'html', defaultTemplateProcessor);\n\n/**\n * Interprets a template literal as an SVG template that can efficiently\n * render to and update a container.\n */\nexport const svg = (strings: TemplateStringsArray, ...values: unknown[]) =>\n    new SVGTemplateResult(strings, values, 'svg', defaultTemplateProcessor);\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * Module to add shady DOM/shady CSS polyfill support to lit-html template\n * rendering. See the [[render]] method for details.\n *\n * @packageDocumentation\n */\n\n/**\n * Do not remove this comment; it keeps typedoc from misplacing the module\n * docs.\n */\nimport {removeNodes} from './dom.js';\nimport {insertNodeIntoTemplate, removeNodesFromTemplate} from './modify-template.js';\nimport {RenderOptions} from './render-options.js';\nimport {parts, render as litRender} from './render.js';\nimport {templateCaches} from './template-factory.js';\nimport {TemplateInstance} from './template-instance.js';\nimport {TemplateResult} from './template-result.js';\nimport {marker, Template} from './template.js';\n\nexport {html, svg, TemplateResult} from '../lit-html.js';\n\n// Get a key to lookup in `templateCaches`.\nconst getTemplateCacheKey = (type: string, scopeName: string) =>\n    `${type}--${scopeName}`;\n\nlet compatibleShadyCSSVersion = true;\n\nif (typeof window.ShadyCSS === 'undefined') {\n  compatibleShadyCSSVersion = false;\n} else if (typeof window.ShadyCSS.prepareTemplateDom === 'undefined') {\n  console.warn(\n      `Incompatible ShadyCSS version detected. ` +\n      `Please update to at least @webcomponents/webcomponentsjs@2.0.2 and ` +\n      `@webcomponents/shadycss@1.3.1.`);\n  compatibleShadyCSSVersion = false;\n}\n\n/**\n * Template factory which scopes template DOM using ShadyCSS.\n * @param scopeName {string}\n */\nexport const shadyTemplateFactory = (scopeName: string) =>\n    (result: TemplateResult) => {\n      const cacheKey = getTemplateCacheKey(result.type, scopeName);\n      let templateCache = templateCaches.get(cacheKey);\n      if (templateCache === undefined) {\n        templateCache = {\n          stringsArray: new WeakMap<TemplateStringsArray, Template>(),\n          keyString: new Map<string, Template>()\n        };\n        templateCaches.set(cacheKey, templateCache);\n      }\n\n      let template = templateCache.stringsArray.get(result.strings);\n      if (template !== undefined) {\n        return template;\n      }\n\n      const key = result.strings.join(marker);\n      template = templateCache.keyString.get(key);\n      if (template === undefined) {\n        const element = result.getTemplateElement();\n        if (compatibleShadyCSSVersion) {\n          window.ShadyCSS!.prepareTemplateDom(element, scopeName);\n        }\n        template = new Template(result, element);\n        templateCache.keyString.set(key, template);\n      }\n      templateCache.stringsArray.set(result.strings, template);\n      return template;\n    };\n\nconst TEMPLATE_TYPES = ['html', 'svg'];\n\n/**\n * Removes all style elements from Templates for the given scopeName.\n */\nconst removeStylesFromLitTemplates = (scopeName: string) => {\n  TEMPLATE_TYPES.forEach((type) => {\n    const templates = templateCaches.get(getTemplateCacheKey(type, scopeName));\n    if (templates !== undefined) {\n      templates.keyString.forEach((template) => {\n        const {element: {content}} = template;\n        // IE 11 doesn't support the iterable param Set constructor\n        const styles = new Set<Element>();\n        Array.from(content.querySelectorAll('style')).forEach((s: Element) => {\n          styles.add(s);\n        });\n        removeNodesFromTemplate(template, styles);\n      });\n    }\n  });\n};\n\nconst shadyRenderSet = new Set<string>();\n\n/**\n * For the given scope name, ensures that ShadyCSS style scoping is performed.\n * This is done just once per scope name so the fragment and template cannot\n * be modified.\n * (1) extracts styles from the rendered fragment and hands them to ShadyCSS\n * to be scoped and appended to the document\n * (2) removes style elements from all lit-html Templates for this scope name.\n *\n * Note, <style> elements can only be placed into templates for the\n * initial rendering of the scope. If <style> elements are included in templates\n * dynamically rendered to the scope (after the first scope render), they will\n * not be scoped and the <style> will be left in the template and rendered\n * output.\n */\nconst prepareTemplateStyles =\n    (scopeName: string, renderedDOM: DocumentFragment, template?: Template) => {\n      shadyRenderSet.add(scopeName);\n      // If `renderedDOM` is stamped from a Template, then we need to edit that\n      // Template's underlying template element. Otherwise, we create one here\n      // to give to ShadyCSS, which still requires one while scoping.\n      const templateElement =\n          !!template ? template.element : document.createElement('template');\n      // Move styles out of rendered DOM and store.\n      const styles = renderedDOM.querySelectorAll('style');\n      const {length} = styles;\n      // If there are no styles, skip unnecessary work\n      if (length === 0) {\n        // Ensure prepareTemplateStyles is called to support adding\n        // styles via `prepareAdoptedCssText` since that requires that\n        // `prepareTemplateStyles` is called.\n        //\n        // ShadyCSS will only update styles containing @apply in the template\n        // given to `prepareTemplateStyles`. If no lit Template was given,\n        // ShadyCSS will not be able to update uses of @apply in any relevant\n        // template. However, this is not a problem because we only create the\n        // template for the purpose of supporting `prepareAdoptedCssText`,\n        // which doesn't support @apply at all.\n        window.ShadyCSS!.prepareTemplateStyles(templateElement, scopeName);\n        return;\n      }\n      const condensedStyle = document.createElement('style');\n      // Collect styles into a single style. This helps us make sure ShadyCSS\n      // manipulations will not prevent us from being able to fix up template\n      // part indices.\n      // NOTE: collecting styles is inefficient for browsers but ShadyCSS\n      // currently does this anyway. When it does not, this should be changed.\n      for (let i = 0; i < length; i++) {\n        const style = styles[i];\n        style.parentNode!.removeChild(style);\n        condensedStyle.textContent! += style.textContent;\n      }\n      // Remove styles from nested templates in this scope.\n      removeStylesFromLitTemplates(scopeName);\n      // And then put the condensed style into the \"root\" template passed in as\n      // `template`.\n      const content = templateElement.content;\n      if (!!template) {\n        insertNodeIntoTemplate(template, condensedStyle, content.firstChild);\n      } else {\n        content.insertBefore(condensedStyle, content.firstChild);\n      }\n      // Note, it's important that ShadyCSS gets the template that `lit-html`\n      // will actually render so that it can update the style inside when\n      // needed (e.g. @apply native Shadow DOM case).\n      window.ShadyCSS!.prepareTemplateStyles(templateElement, scopeName);\n      const style = content.querySelector('style');\n      if (window.ShadyCSS!.nativeShadow && style !== null) {\n        // When in native Shadow DOM, ensure the style created by ShadyCSS is\n        // included in initially rendered output (`renderedDOM`).\n        renderedDOM.insertBefore(style.cloneNode(true), renderedDOM.firstChild);\n      } else if (!!template) {\n        // When no style is left in the template, parts will be broken as a\n        // result. To fix this, we put back the style node ShadyCSS removed\n        // and then tell lit to remove that node from the template.\n        // There can be no style in the template in 2 cases (1) when Shady DOM\n        // is in use, ShadyCSS removes all styles, (2) when native Shadow DOM\n        // is in use ShadyCSS removes the style if it contains no content.\n        // NOTE, ShadyCSS creates its own style so we can safely add/remove\n        // `condensedStyle` here.\n        content.insertBefore(condensedStyle, content.firstChild);\n        const removes = new Set<Node>();\n        removes.add(condensedStyle);\n        removeNodesFromTemplate(template, removes);\n      }\n    };\n\nexport interface ShadyRenderOptions extends Partial<RenderOptions> {\n  scopeName: string;\n}\n\n/**\n * Extension to the standard `render` method which supports rendering\n * to ShadowRoots when the ShadyDOM (https://github.com/webcomponents/shadydom)\n * and ShadyCSS (https://github.com/webcomponents/shadycss) polyfills are used\n * or when the webcomponentsjs\n * (https://github.com/webcomponents/webcomponentsjs) polyfill is used.\n *\n * Adds a `scopeName` option which is used to scope element DOM and stylesheets\n * when native ShadowDOM is unavailable. The `scopeName` will be added to\n * the class attribute of all rendered DOM. In addition, any style elements will\n * be automatically re-written with this `scopeName` selector and moved out\n * of the rendered DOM and into the document `<head>`.\n *\n * It is common to use this render method in conjunction with a custom element\n * which renders a shadowRoot. When this is done, typically the element's\n * `localName` should be used as the `scopeName`.\n *\n * In addition to DOM scoping, ShadyCSS also supports a basic shim for css\n * custom properties (needed only on older browsers like IE11) and a shim for\n * a deprecated feature called `@apply` that supports applying a set of css\n * custom properties to a given location.\n *\n * Usage considerations:\n *\n * * Part values in `<style>` elements are only applied the first time a given\n * `scopeName` renders. Subsequent changes to parts in style elements will have\n * no effect. Because of this, parts in style elements should only be used for\n * values that will never change, for example parts that set scope-wide theme\n * values or parts which render shared style elements.\n *\n * * Note, due to a limitation of the ShadyDOM polyfill, rendering in a\n * custom element's `constructor` is not supported. Instead rendering should\n * either done asynchronously, for example at microtask timing (for example\n * `Promise.resolve()`), or be deferred until the first time the element's\n * `connectedCallback` runs.\n *\n * Usage considerations when using shimmed custom properties or `@apply`:\n *\n * * Whenever any dynamic changes are made which affect\n * css custom properties, `ShadyCSS.styleElement(element)` must be called\n * to update the element. There are two cases when this is needed:\n * (1) the element is connected to a new parent, (2) a class is added to the\n * element that causes it to match different custom properties.\n * To address the first case when rendering a custom element, `styleElement`\n * should be called in the element's `connectedCallback`.\n *\n * * Shimmed custom properties may only be defined either for an entire\n * shadowRoot (for example, in a `:host` rule) or via a rule that directly\n * matches an element with a shadowRoot. In other words, instead of flowing from\n * parent to child as do native css custom properties, shimmed custom properties\n * flow only from shadowRoots to nested shadowRoots.\n *\n * * When using `@apply` mixing css shorthand property names with\n * non-shorthand names (for example `border` and `border-width`) is not\n * supported.\n */\nexport const render =\n    (result: unknown,\n     container: Element|DocumentFragment|ShadowRoot,\n     options: ShadyRenderOptions) => {\n      if (!options || typeof options !== 'object' || !options.scopeName) {\n        throw new Error('The `scopeName` option is required.');\n      }\n      const scopeName = options.scopeName;\n      const hasRendered = parts.has(container);\n      const needsScoping = compatibleShadyCSSVersion &&\n          container.nodeType === 11 /* Node.DOCUMENT_FRAGMENT_NODE */ &&\n          !!(container as ShadowRoot).host;\n      // Handle first render to a scope specially...\n      const firstScopeRender = needsScoping && !shadyRenderSet.has(scopeName);\n      // On first scope render, render into a fragment; this cannot be a single\n      // fragment that is reused since nested renders can occur synchronously.\n      const renderContainer =\n          firstScopeRender ? document.createDocumentFragment() : container;\n      litRender(\n          result,\n          renderContainer,\n          {templateFactory: shadyTemplateFactory(scopeName), ...options} as\n              RenderOptions);\n      // When performing first scope render,\n      // (1) We've rendered into a fragment so that there's a chance to\n      // `prepareTemplateStyles` before sub-elements hit the DOM\n      // (which might cause them to render based on a common pattern of\n      // rendering in a custom element's `connectedCallback`);\n      // (2) Scope the template with ShadyCSS one time only for this scope.\n      // (3) Render the fragment into the container and make sure the\n      // container knows its `part` is the one we just rendered. This ensures\n      // DOM will be re-used on subsequent renders.\n      if (firstScopeRender) {\n        const part = parts.get(renderContainer)!;\n        parts.delete(renderContainer);\n        // ShadyCSS might have style sheets (e.g. from `prepareAdoptedCssText`)\n        // that should apply to `renderContainer` even if the rendered value is\n        // not a TemplateInstance. However, it will only insert scoped styles\n        // into the document if `prepareTemplateStyles` has already been called\n        // for the given scope name.\n        const template = part.value instanceof TemplateInstance ?\n            part.value.template :\n            undefined;\n        prepareTemplateStyles(\n            scopeName, renderContainer as DocumentFragment, template);\n        removeNodes(container, container.firstChild);\n        container.appendChild(renderContainer);\n        parts.set(container, part);\n      }\n      // After elements have hit the DOM, update styling if this is the\n      // initial render to this container.\n      // This is needed whenever dynamic changes are made so it would be\n      // safest to do every render; however, this would regress performance\n      // so we leave it up to the user to call `ShadyCSS.styleElement`\n      // for dynamic changes.\n      if (!hasRendered && needsScoping) {\n        window.ShadyCSS!.styleElement((container as ShadowRoot).host);\n      }\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * Use this module if you want to create your own base class extending\n * [[UpdatingElement]].\n * @packageDocumentation\n */\n\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\nwindow.JSCompiler_renameProperty =\n    <P extends PropertyKey>(prop: P, _obj: unknown): P => prop;\n\ndeclare global {\n  var JSCompiler_renameProperty: <P extends PropertyKey>(\n      prop: P, _obj: unknown) => P;\n\n  interface Window {\n    JSCompiler_renameProperty: typeof JSCompiler_renameProperty;\n  }\n}\n\n/**\n * Converts property values to and from attribute values.\n */\nexport interface ComplexAttributeConverter<Type = unknown, TypeHint = unknown> {\n  /**\n   * Function called to convert an attribute value to a property\n   * value.\n   */\n  fromAttribute?(value: string|null, type?: TypeHint): Type;\n\n  /**\n   * Function called to convert a property value to an attribute\n   * value.\n   *\n   * It returns unknown instead of string, to be compatible with\n   * https://github.com/WICG/trusted-types (and similar efforts).\n   */\n  toAttribute?(value: Type, type?: TypeHint): unknown;\n}\n\ntype AttributeConverter<Type = unknown, TypeHint = unknown> =\n    ComplexAttributeConverter<Type>|\n    ((value: string|null, type?: TypeHint) => Type);\n\n/**\n * Defines options for a property accessor.\n */\nexport interface PropertyDeclaration<Type = unknown, TypeHint = unknown> {\n  /**\n   * Indicates how and whether the property becomes an observed attribute.\n   * If the value is `false`, the property is not added to `observedAttributes`.\n   * If true or absent, the lowercased property name is observed (e.g. `fooBar`\n   * becomes `foobar`). If a string, the string value is observed (e.g\n   * `attribute: 'foo-bar'`).\n   */\n  readonly attribute?: boolean|string;\n\n  /**\n   * Indicates the type of the property. This is used only as a hint for the\n   * `converter` to determine how to convert the attribute\n   * to/from a property.\n   */\n  readonly type?: TypeHint;\n\n  /**\n   * Indicates how to convert the attribute to/from a property. If this value\n   * is a function, it is used to convert the attribute value a the property\n   * value. If it's an object, it can have keys for `fromAttribute` and\n   * `toAttribute`. If no `toAttribute` function is provided and\n   * `reflect` is set to `true`, the property value is set directly to the\n   * attribute. A default `converter` is used if none is provided; it supports\n   * `Boolean`, `String`, `Number`, `Object`, and `Array`. Note,\n   * when a property changes and the converter is used to update the attribute,\n   * the property is never updated again as a result of the attribute changing,\n   * and vice versa.\n   */\n  readonly converter?: AttributeConverter<Type, TypeHint>;\n\n  /**\n   * Indicates if the property should reflect to an attribute.\n   * If `true`, when the property is set, the attribute is set using the\n   * attribute name determined according to the rules for the `attribute`\n   * property option and the value of the property converted using the rules\n   * from the `converter` property option.\n   */\n  readonly reflect?: boolean;\n\n  /**\n   * A function that indicates if a property should be considered changed when\n   * it is set. The function should take the `newValue` and `oldValue` and\n   * return `true` if an update should be requested.\n   */\n  hasChanged?(value: Type, oldValue: Type): boolean;\n\n  /**\n   * Indicates whether an accessor will be created for this property. By\n   * default, an accessor will be generated for this property that requests an\n   * update when set. If this flag is `true`, no accessor will be created, and\n   * it will be the user's responsibility to call\n   * `this.requestUpdate(propertyName, oldValue)` to request an update when\n   * the property changes.\n   */\n  readonly noAccessor?: boolean;\n}\n\n/**\n * Map of properties to PropertyDeclaration options. For each property an\n * accessor is made, and the property is processed according to the\n * PropertyDeclaration options.\n */\nexport interface PropertyDeclarations {\n  readonly [key: string]: PropertyDeclaration;\n}\n\ntype PropertyDeclarationMap = Map<PropertyKey, PropertyDeclaration>;\n\ntype AttributeMap = Map<string, PropertyKey>;\n\n/**\n * Map of changed properties with old values. Takes an optional generic\n * interface corresponding to the declared element properties.\n */\n// tslint:disable-next-line:no-any\nexport type PropertyValues<T = any> =\n    keyof T extends PropertyKey ? Map<keyof T, unknown>: never;\n\nexport const defaultConverter: ComplexAttributeConverter = {\n\n  toAttribute(value: unknown, type?: unknown): unknown {\n    switch (type) {\n      case Boolean:\n        return value ? '' : null;\n      case Object:\n      case Array:\n        // if the value is `null` or `undefined` pass this through\n        // to allow removing/no change behavior.\n        return value == null ? value : JSON.stringify(value);\n    }\n    return value;\n  },\n\n  fromAttribute(value: string|null, type?: unknown) {\n    switch (type) {\n      case Boolean:\n        return value !== null;\n      case Number:\n        return value === null ? null : Number(value);\n      case Object:\n      case Array:\n        // Type assert to adhere to Bazel's \"must type assert JSON parse\" rule.\n        return JSON.parse(value!) as unknown;\n    }\n    return value;\n  }\n\n};\n\nexport interface HasChanged {\n  (value: unknown, old: unknown): boolean;\n}\n\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual: HasChanged = (value: unknown, old: unknown): boolean => {\n  // This ensures (old==NaN, value==NaN) always returns false\n  return old !== value && (old === old || value === value);\n};\n\nconst defaultPropertyDeclaration: PropertyDeclaration = {\n  attribute: true,\n  type: String,\n  converter: defaultConverter,\n  reflect: false,\n  hasChanged: notEqual\n};\n\nconst STATE_HAS_UPDATED = 1;\nconst STATE_UPDATE_REQUESTED = 1 << 2;\nconst STATE_IS_REFLECTING_TO_ATTRIBUTE = 1 << 3;\nconst STATE_IS_REFLECTING_TO_PROPERTY = 1 << 4;\ntype UpdateState = typeof STATE_HAS_UPDATED|typeof STATE_UPDATE_REQUESTED|\n    typeof STATE_IS_REFLECTING_TO_ATTRIBUTE|\n    typeof STATE_IS_REFLECTING_TO_PROPERTY;\n\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n * @noInheritDoc\n */\nexport abstract class UpdatingElement extends HTMLElement {\n  /*\n   * Due to closure compiler ES6 compilation bugs, @nocollapse is required on\n   * all static methods and properties with initializers.  Reference:\n   * - https://github.com/google/closure-compiler/issues/1776\n   */\n\n  /**\n   * Maps attribute names to properties; for example `foobar` attribute to\n   * `fooBar` property. Created lazily on user subclasses when finalizing the\n   * class.\n   */\n  private static _attributeToPropertyMap: AttributeMap;\n\n  /**\n   * Marks class as having finished creating properties.\n   */\n  protected static[finalized] = true;\n\n  /**\n   * Memoized list of all class properties, including any superclass properties.\n   * Created lazily on user subclasses when finalizing the class.\n   */\n  private static _classProperties?: PropertyDeclarationMap;\n\n  /**\n   * User-supplied object that maps property names to `PropertyDeclaration`\n   * objects containing options for configuring the property.\n   */\n  static properties: PropertyDeclarations;\n\n  /**\n   * Returns a list of attributes corresponding to the registered properties.\n   * @nocollapse\n   */\n  static get observedAttributes() {\n    // note: piggy backing on this to ensure we're finalized.\n    this.finalize();\n    const attributes: string[] = [];\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    this._classProperties!.forEach((v, p) => {\n      const attr = this._attributeNameForProperty(p, v);\n      if (attr !== undefined) {\n        this._attributeToPropertyMap.set(attr, p);\n        attributes.push(attr);\n      }\n    });\n    return attributes;\n  }\n\n  /**\n   * Ensures the private `_classProperties` property metadata is created.\n   * In addition to `finalize` this is also called in `createProperty` to\n   * ensure the `@property` decorator can add property metadata.\n   */\n  /** @nocollapse */\n  private static _ensureClassProperties() {\n    // ensure private storage for property declarations.\n    if (!this.hasOwnProperty(\n            JSCompiler_renameProperty('_classProperties', this))) {\n      this._classProperties = new Map();\n      // NOTE: Workaround IE11 not supporting Map constructor argument.\n      const superProperties: PropertyDeclarationMap =\n          Object.getPrototypeOf(this)._classProperties;\n      if (superProperties !== undefined) {\n        superProperties.forEach(\n            (v: PropertyDeclaration, k: PropertyKey) =>\n                this._classProperties!.set(k, v));\n      }\n    }\n  }\n\n  /**\n   * Creates a property accessor on the element prototype if one does not exist\n   * and stores a PropertyDeclaration for the property with the given options.\n   * The property setter calls the property's `hasChanged` property option\n   * or uses a strict identity check to determine whether or not to request\n   * an update.\n   *\n   * This method may be overridden to customize properties; however,\n   * when doing so, it's important to call `super.createProperty` to ensure\n   * the property is setup correctly. This method calls\n   * `getPropertyDescriptor` internally to get a descriptor to install.\n   * To customize what properties do when they are get or set, override\n   * `getPropertyDescriptor`. To customize the options for a property,\n   * implement `createProperty` like this:\n   *\n   * static createProperty(name, options) {\n   *   options = Object.assign(options, {myOption: true});\n   *   super.createProperty(name, options);\n   * }\n   *\n   * @nocollapse\n   */\n  static createProperty(\n      name: PropertyKey,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    // Note, since this can be called by the `@property` decorator which\n    // is called before `finalize`, we ensure storage exists for property\n    // metadata.\n    this._ensureClassProperties();\n    this._classProperties!.set(name, options);\n    // Do not generate an accessor if the prototype already has one, since\n    // it would be lost otherwise and that would never be the user's intention;\n    // Instead, we expect users to call `requestUpdate` themselves from\n    // user-defined accessors. Note that if the super has an accessor we will\n    // still overwrite it\n    if (options.noAccessor || this.prototype.hasOwnProperty(name)) {\n      return;\n    }\n    const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n    const descriptor = this.getPropertyDescriptor(name, key, options);\n    if (descriptor !== undefined) {\n      Object.defineProperty(this.prototype, name, descriptor);\n    }\n  }\n\n  /**\n   * Returns a property descriptor to be defined on the given named property.\n   * If no descriptor is returned, the property will not become an accessor.\n   * For example,\n   *\n   *   class MyElement extends LitElement {\n   *     static getPropertyDescriptor(name, key, options) {\n   *       const defaultDescriptor =\n   *           super.getPropertyDescriptor(name, key, options);\n   *       const setter = defaultDescriptor.set;\n   *       return {\n   *         get: defaultDescriptor.get,\n   *         set(value) {\n   *           setter.call(this, value);\n   *           // custom action.\n   *         },\n   *         configurable: true,\n   *         enumerable: true\n   *       }\n   *     }\n   *   }\n   *\n   * @nocollapse\n   */\n  protected static getPropertyDescriptor(\n      name: PropertyKey, key: string|symbol, options: PropertyDeclaration) {\n    return {\n      // tslint:disable-next-line:no-any no symbol in index\n      get(): any {\n        return (this as {[key: string]: unknown})[key as string];\n      },\n      set(this: UpdatingElement, value: unknown) {\n        const oldValue =\n            (this as {} as {[key: string]: unknown})[name as string];\n        (this as {} as {[key: string]: unknown})[key as string] = value;\n        (this as unknown as UpdatingElement)\n            .requestUpdateInternal(name, oldValue, options);\n      },\n      configurable: true,\n      enumerable: true\n    };\n  }\n\n  /**\n   * Returns the property options associated with the given property.\n   * These options are defined with a PropertyDeclaration via the `properties`\n   * object or the `@property` decorator and are registered in\n   * `createProperty(...)`.\n   *\n   * Note, this method should be considered \"final\" and not overridden. To\n   * customize the options for a given property, override `createProperty`.\n   *\n   * @nocollapse\n   * @final\n   */\n  protected static getPropertyOptions(name: PropertyKey) {\n    return this._classProperties && this._classProperties.get(name) ||\n        defaultPropertyDeclaration;\n  }\n\n  /**\n   * Creates property accessors for registered properties and ensures\n   * any superclasses are also finalized.\n   * @nocollapse\n   */\n  protected static finalize() {\n    // finalize any superclasses\n    const superCtor = Object.getPrototypeOf(this);\n    if (!superCtor.hasOwnProperty(finalized)) {\n      superCtor.finalize();\n    }\n    this[finalized] = true;\n    this._ensureClassProperties();\n    // initialize Map populated in observedAttributes\n    this._attributeToPropertyMap = new Map();\n    // make any properties\n    // Note, only process \"own\" properties since this element will inherit\n    // any properties defined on the superClass, and finalization ensures\n    // the entire prototype chain is finalized.\n    if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n      const props = this.properties;\n      // support symbols in properties (IE11 does not support this)\n      const propKeys = [\n        ...Object.getOwnPropertyNames(props),\n        ...(typeof Object.getOwnPropertySymbols === 'function') ?\n            Object.getOwnPropertySymbols(props) :\n            []\n      ];\n      // This for/of is ok because propKeys is an array\n      for (const p of propKeys) {\n        // note, use of `any` is due to TypeSript lack of support for symbol in\n        // index types\n        // tslint:disable-next-line:no-any no symbol in index\n        this.createProperty(p, (props as any)[p]);\n      }\n    }\n  }\n\n  /**\n   * Returns the property name for the given attribute `name`.\n   * @nocollapse\n   */\n  private static _attributeNameForProperty(\n      name: PropertyKey, options: PropertyDeclaration) {\n    const attribute = options.attribute;\n    return attribute === false ?\n        undefined :\n        (typeof attribute === 'string' ?\n             attribute :\n             (typeof name === 'string' ? name.toLowerCase() : undefined));\n  }\n\n  /**\n   * Returns true if a property should request an update.\n   * Called when a property value is set and uses the `hasChanged`\n   * option for the property if present or a strict identity check.\n   * @nocollapse\n   */\n  private static _valueHasChanged(\n      value: unknown, old: unknown, hasChanged: HasChanged = notEqual) {\n    return hasChanged(value, old);\n  }\n\n  /**\n   * Returns the property value for the given attribute value.\n   * Called via the `attributeChangedCallback` and uses the property's\n   * `converter` or `converter.fromAttribute` property option.\n   * @nocollapse\n   */\n  private static _propertyValueFromAttribute(\n      value: string|null, options: PropertyDeclaration) {\n    const type = options.type;\n    const converter = options.converter || defaultConverter;\n    const fromAttribute =\n        (typeof converter === 'function' ? converter : converter.fromAttribute);\n    return fromAttribute ? fromAttribute(value, type) : value;\n  }\n\n  /**\n   * Returns the attribute value for the given property value. If this\n   * returns undefined, the property will *not* be reflected to an attribute.\n   * If this returns null, the attribute will be removed, otherwise the\n   * attribute will be set to the value.\n   * This uses the property's `reflect` and `type.toAttribute` property options.\n   * @nocollapse\n   */\n  private static _propertyValueToAttribute(\n      value: unknown, options: PropertyDeclaration) {\n    if (options.reflect === undefined) {\n      return;\n    }\n    const type = options.type;\n    const converter = options.converter;\n    const toAttribute =\n        converter && (converter as ComplexAttributeConverter).toAttribute ||\n        defaultConverter.toAttribute;\n    return toAttribute!(value, type);\n  }\n\n  private _updateState!: UpdateState;\n  private _instanceProperties?: PropertyValues;\n  // Initialize to an unresolved Promise so we can make sure the element has\n  // connected before first update.\n  private _updatePromise!: Promise<unknown>;\n  private _enableUpdatingResolver: ((r?: unknown) => void)|undefined;\n\n  /**\n   * Map with keys for any properties that have changed since the last\n   * update cycle with previous values.\n   */\n  private _changedProperties!: PropertyValues;\n\n  /**\n   * Map with keys of properties that should be reflected when updated.\n   */\n  private _reflectingProperties?: Map<PropertyKey, PropertyDeclaration>;\n\n  constructor() {\n    super();\n    this.initialize();\n  }\n\n  /**\n   * Performs element initialization. By default captures any pre-set values for\n   * registered properties.\n   */\n  protected initialize() {\n    this._updateState = 0;\n    this._updatePromise =\n        new Promise((res) => this._enableUpdatingResolver = res);\n    this._changedProperties = new Map();\n    this._saveInstanceProperties();\n    // ensures first update will be caught by an early access of\n    // `updateComplete`\n    this.requestUpdateInternal();\n  }\n\n  /**\n   * Fixes any properties set on the instance before upgrade time.\n   * Otherwise these would shadow the accessor and break these properties.\n   * The properties are stored in a Map which is played back after the\n   * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n   * (<=41), properties created for native platform properties like (`id` or\n   * `name`) may not have default values set in the element constructor. On\n   * these browsers native properties appear on instances and therefore their\n   * default value will overwrite any element default (e.g. if the element sets\n   * this.id = 'id' in the constructor, the 'id' will become '' since this is\n   * the native platform default).\n   */\n  private _saveInstanceProperties() {\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    (this.constructor as typeof UpdatingElement)\n        ._classProperties!.forEach((_v, p) => {\n          if (this.hasOwnProperty(p)) {\n            const value = this[p as keyof this];\n            delete this[p as keyof this];\n            if (!this._instanceProperties) {\n              this._instanceProperties = new Map();\n            }\n            this._instanceProperties.set(p, value);\n          }\n        });\n  }\n\n  /**\n   * Applies previously saved instance properties.\n   */\n  private _applyInstanceProperties() {\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    // tslint:disable-next-line:no-any\n    this._instanceProperties!.forEach((v, p) => (this as any)[p] = v);\n    this._instanceProperties = undefined;\n  }\n\n  connectedCallback() {\n    // Ensure first connection completes an update. Updates cannot complete\n    // before connection.\n    this.enableUpdating();\n  }\n\n  protected enableUpdating() {\n    if (this._enableUpdatingResolver !== undefined) {\n      this._enableUpdatingResolver();\n      this._enableUpdatingResolver = undefined;\n    }\n  }\n\n  /**\n   * Allows for `super.disconnectedCallback()` in extensions while\n   * reserving the possibility of making non-breaking feature additions\n   * when disconnecting at some point in the future.\n   */\n  disconnectedCallback() {\n  }\n\n  /**\n   * Synchronizes property values when attributes change.\n   */\n  attributeChangedCallback(name: string, old: string|null, value: string|null) {\n    if (old !== value) {\n      this._attributeToProperty(name, value);\n    }\n  }\n\n  private _propertyToAttribute(\n      name: PropertyKey, value: unknown,\n      options: PropertyDeclaration = defaultPropertyDeclaration) {\n    const ctor = (this.constructor as typeof UpdatingElement);\n    const attr = ctor._attributeNameForProperty(name, options);\n    if (attr !== undefined) {\n      const attrValue = ctor._propertyValueToAttribute(value, options);\n      // an undefined value does not change the attribute.\n      if (attrValue === undefined) {\n        return;\n      }\n      // Track if the property is being reflected to avoid\n      // setting the property again via `attributeChangedCallback`. Note:\n      // 1. this takes advantage of the fact that the callback is synchronous.\n      // 2. will behave incorrectly if multiple attributes are in the reaction\n      // stack at time of calling. However, since we process attributes\n      // in `update` this should not be possible (or an extreme corner case\n      // that we'd like to discover).\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_ATTRIBUTE;\n      if (attrValue == null) {\n        this.removeAttribute(attr);\n      } else {\n        this.setAttribute(attr, attrValue as string);\n      }\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_ATTRIBUTE;\n    }\n  }\n\n  private _attributeToProperty(name: string, value: string|null) {\n    // Use tracking info to avoid deserializing attribute value if it was\n    // just set from a property setter.\n    if (this._updateState & STATE_IS_REFLECTING_TO_ATTRIBUTE) {\n      return;\n    }\n    const ctor = (this.constructor as typeof UpdatingElement);\n    // Note, hint this as an `AttributeMap` so closure clearly understands\n    // the type; it has issues with tracking types through statics\n    // tslint:disable-next-line:no-unnecessary-type-assertion\n    const propName = (ctor._attributeToPropertyMap as AttributeMap).get(name);\n    if (propName !== undefined) {\n      const options = ctor.getPropertyOptions(propName);\n      // mark state reflecting\n      this._updateState = this._updateState | STATE_IS_REFLECTING_TO_PROPERTY;\n      this[propName as keyof this] =\n          // tslint:disable-next-line:no-any\n          ctor._propertyValueFromAttribute(value, options) as any;\n      // mark state not reflecting\n      this._updateState = this._updateState & ~STATE_IS_REFLECTING_TO_PROPERTY;\n    }\n  }\n\n  /**\n   * This protected version of `requestUpdate` does not access or return the\n   * `updateComplete` promise. This promise can be overridden and is therefore\n   * not free to access.\n   */\n  protected requestUpdateInternal(\n      name?: PropertyKey, oldValue?: unknown, options?: PropertyDeclaration) {\n    let shouldRequestUpdate = true;\n    // If we have a property key, perform property update steps.\n    if (name !== undefined) {\n      const ctor = this.constructor as typeof UpdatingElement;\n      options = options || ctor.getPropertyOptions(name);\n      if (ctor._valueHasChanged(\n              this[name as keyof this], oldValue, options.hasChanged)) {\n        if (!this._changedProperties.has(name)) {\n          this._changedProperties.set(name, oldValue);\n        }\n        // Add to reflecting properties set.\n        // Note, it's important that every change has a chance to add the\n        // property to `_reflectingProperties`. This ensures setting\n        // attribute + property reflects correctly.\n        if (options.reflect === true &&\n            !(this._updateState & STATE_IS_REFLECTING_TO_PROPERTY)) {\n          if (this._reflectingProperties === undefined) {\n            this._reflectingProperties = new Map();\n          }\n          this._reflectingProperties.set(name, options);\n        }\n      } else {\n        // Abort the request if the property should not be considered changed.\n        shouldRequestUpdate = false;\n      }\n    }\n    if (!this._hasRequestedUpdate && shouldRequestUpdate) {\n      this._updatePromise = this._enqueueUpdate();\n    }\n  }\n\n  /**\n   * Requests an update which is processed asynchronously. This should\n   * be called when an element should update based on some state not triggered\n   * by setting a property. In this case, pass no arguments. It should also be\n   * called when manually implementing a property setter. In this case, pass the\n   * property `name` and `oldValue` to ensure that any configured property\n   * options are honored. Returns the `updateComplete` Promise which is resolved\n   * when the update completes.\n   *\n   * @param name {PropertyKey} (optional) name of requesting property\n   * @param oldValue {any} (optional) old value of requesting property\n   * @returns {Promise} A Promise that is resolved when the update completes.\n   */\n  requestUpdate(name?: PropertyKey, oldValue?: unknown) {\n    this.requestUpdateInternal(name, oldValue);\n    return this.updateComplete;\n  }\n\n  /**\n   * Sets up the element to asynchronously update.\n   */\n  private async _enqueueUpdate() {\n    this._updateState = this._updateState | STATE_UPDATE_REQUESTED;\n    try {\n      // Ensure any previous update has resolved before updating.\n      // This `await` also ensures that property changes are batched.\n      await this._updatePromise;\n    } catch (e) {\n      // Ignore any previous errors. We only care that the previous cycle is\n      // done. Any error should have been handled in the previous update.\n    }\n    const result = this.performUpdate();\n    // If `performUpdate` returns a Promise, we await it. This is done to\n    // enable coordinating updates with a scheduler. Note, the result is\n    // checked to avoid delaying an additional microtask unless we need to.\n    if (result != null) {\n      await result;\n    }\n    return !this._hasRequestedUpdate;\n  }\n\n  private get _hasRequestedUpdate() {\n    return (this._updateState & STATE_UPDATE_REQUESTED);\n  }\n\n  protected get hasUpdated() {\n    return (this._updateState & STATE_HAS_UPDATED);\n  }\n\n  /**\n   * Performs an element update. Note, if an exception is thrown during the\n   * update, `firstUpdated` and `updated` will not be called.\n   *\n   * You can override this method to change the timing of updates. If this\n   * method is overridden, `super.performUpdate()` must be called.\n   *\n   * For instance, to schedule updates to occur just before the next frame:\n   *\n   * ```\n   * protected async performUpdate(): Promise<unknown> {\n   *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n   *   super.performUpdate();\n   * }\n   * ```\n   */\n  protected performUpdate(): void|Promise<unknown> {\n    // Abort any update if one is not pending when this is called.\n    // This can happen if `performUpdate` is called early to \"flush\"\n    // the update.\n    if (!this._hasRequestedUpdate) {\n      return;\n    }\n    // Mixin instance properties once, if they exist.\n    if (this._instanceProperties) {\n      this._applyInstanceProperties();\n    }\n    let shouldUpdate = false;\n    const changedProperties = this._changedProperties;\n    try {\n      shouldUpdate = this.shouldUpdate(changedProperties);\n      if (shouldUpdate) {\n        this.update(changedProperties);\n      } else {\n        this._markUpdated();\n      }\n    } catch (e) {\n      // Prevent `firstUpdated` and `updated` from running when there's an\n      // update exception.\n      shouldUpdate = false;\n      // Ensure element can accept additional updates after an exception.\n      this._markUpdated();\n      throw e;\n    }\n    if (shouldUpdate) {\n      if (!(this._updateState & STATE_HAS_UPDATED)) {\n        this._updateState = this._updateState | STATE_HAS_UPDATED;\n        this.firstUpdated(changedProperties);\n      }\n      this.updated(changedProperties);\n    }\n  }\n\n  private _markUpdated() {\n    this._changedProperties = new Map();\n    this._updateState = this._updateState & ~STATE_UPDATE_REQUESTED;\n  }\n\n  /**\n   * Returns a Promise that resolves when the element has completed updating.\n   * The Promise value is a boolean that is `true` if the element completed the\n   * update without triggering another update. The Promise result is `false` if\n   * a property was set inside `updated()`. If the Promise is rejected, an\n   * exception was thrown during the update.\n   *\n   * To await additional asynchronous work, override the `_getUpdateComplete`\n   * method. For example, it is sometimes useful to await a rendered element\n   * before fulfilling this Promise. To do this, first await\n   * `super._getUpdateComplete()`, then any subsequent state.\n   *\n   * @returns {Promise} The Promise returns a boolean that indicates if the\n   * update resolved without triggering another update.\n   */\n  get updateComplete() {\n    return this._getUpdateComplete();\n  }\n\n  /**\n   * Override point for the `updateComplete` promise.\n   *\n   * It is not safe to override the `updateComplete` getter directly due to a\n   * limitation in TypeScript which means it is not possible to call a\n   * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n   * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n   * This method should be overridden instead. For example:\n   *\n   *   class MyElement extends LitElement {\n   *     async _getUpdateComplete() {\n   *       await super._getUpdateComplete();\n   *       await this._myChild.updateComplete;\n   *     }\n   *   }\n   * @deprecated Override `getUpdateComplete()` instead for forward\n   *     compatibility with `lit-element` 3.0 / `@lit/reactive-element`.\n   */\n  protected _getUpdateComplete() {\n    return this.getUpdateComplete();\n  }\n\n  /**\n   * Override point for the `updateComplete` promise.\n   *\n   * It is not safe to override the `updateComplete` getter directly due to a\n   * limitation in TypeScript which means it is not possible to call a\n   * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n   * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n   * This method should be overridden instead. For example:\n   *\n   *   class MyElement extends LitElement {\n   *     async getUpdateComplete() {\n   *       await super.getUpdateComplete();\n   *       await this._myChild.updateComplete;\n   *     }\n   *   }\n   */\n  protected getUpdateComplete() {\n    return this._updatePromise;\n  }\n\n  /**\n   * Controls whether or not `update` should be called when the element requests\n   * an update. By default, this method always returns `true`, but this can be\n   * customized to control when to update.\n   *\n   * @param _changedProperties Map of changed properties with old values\n   */\n  protected shouldUpdate(_changedProperties: PropertyValues): boolean {\n    return true;\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes.\n   * It can be overridden to render and keep updated element DOM.\n   * Setting properties inside this method will *not* trigger\n   * another update.\n   *\n   * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(_changedProperties: PropertyValues) {\n    if (this._reflectingProperties !== undefined &&\n        this._reflectingProperties.size > 0) {\n      // Use forEach so this works even if for/of loops are compiled to for\n      // loops expecting arrays\n      this._reflectingProperties.forEach(\n          (v, k) => this._propertyToAttribute(k, this[k as keyof this], v));\n      this._reflectingProperties = undefined;\n    }\n    this._markUpdated();\n  }\n\n  /**\n   * Invoked whenever the element is updated. Implement to perform\n   * post-updating tasks via DOM APIs, for example, focusing an element.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * @param _changedProperties Map of changed properties with old values\n   */\n  protected updated(_changedProperties: PropertyValues) {\n  }\n\n  /**\n   * Invoked when the element is first updated. Implement to perform one time\n   * work on the element after update.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * @param _changedProperties Map of changed properties with old values\n   */\n  protected firstUpdated(_changedProperties: PropertyValues) {\n  }\n}\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/*\n * IMPORTANT: For compatibility with tsickle and the Closure Compiler, all\n * property decorators (but not class decorators) in this file that have\n * an @ExportDecoratedItems annotation must be defined as a regular function,\n * not an arrow function.\n */\n\nimport {LitElement} from '../lit-element.js';\n\nimport {PropertyDeclaration, UpdatingElement} from './updating-element.js';\n\nexport type Constructor<T> = {\n  // tslint:disable-next-line:no-any\n  new (...args: any[]): T\n};\n\n// From the TC39 Decorators proposal\ninterface ClassDescriptor {\n  kind: 'class';\n  elements: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n}\n\n// From the TC39 Decorators proposal\ninterface ClassElement {\n  kind: 'field'|'method';\n  key: PropertyKey;\n  placement: 'static'|'prototype'|'own';\n  initializer?: Function;\n  extras?: ClassElement[];\n  finisher?: <T>(clazz: Constructor<T>) => undefined | Constructor<T>;\n  descriptor?: PropertyDescriptor;\n}\n\nconst legacyCustomElement =\n    (tagName: string, clazz: Constructor<HTMLElement>) => {\n      window.customElements.define(tagName, clazz);\n      // Cast as any because TS doesn't recognize the return type as being a\n      // subtype of the decorated class when clazz is typed as\n      // `Constructor<HTMLElement>` for some reason.\n      // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n      // applied to elements however.\n      // tslint:disable-next-line:no-any\n      return clazz as any;\n    };\n\nconst standardCustomElement =\n    (tagName: string, descriptor: ClassDescriptor) => {\n      const {kind, elements} = descriptor;\n      return {\n        kind,\n        elements,\n        // This callback is called once the class is otherwise fully defined\n        finisher(clazz: Constructor<HTMLElement>) {\n          window.customElements.define(tagName, clazz);\n        }\n      };\n    };\n\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * ```\n * @customElement('my-element')\n * class MyElement {\n *   render() {\n *     return html``;\n *   }\n * }\n * ```\n * @category Decorator\n * @param tagName The name of the custom element to define.\n */\nexport const customElement = (tagName: string) =>\n    (classOrDescriptor: Constructor<HTMLElement>|ClassDescriptor) =>\n        (typeof classOrDescriptor === 'function') ?\n    legacyCustomElement(tagName, classOrDescriptor) :\n    standardCustomElement(tagName, classOrDescriptor);\n\nconst standardProperty =\n    (options: PropertyDeclaration, element: ClassElement) => {\n      // When decorating an accessor, pass it through and add property metadata.\n      // Note, the `hasOwnProperty` check in `createProperty` ensures we don't\n      // stomp over the user's accessor.\n      if (element.kind === 'method' && element.descriptor &&\n          !('value' in element.descriptor)) {\n        return {\n          ...element,\n          finisher(clazz: typeof UpdatingElement) {\n            clazz.createProperty(element.key, options);\n          }\n        };\n      } else {\n        // createProperty() takes care of defining the property, but we still\n        // must return some kind of descriptor, so return a descriptor for an\n        // unused prototype field. The finisher calls createProperty().\n        return {\n          kind: 'field',\n          key: Symbol(),\n          placement: 'own',\n          descriptor: {},\n          // When @babel/plugin-proposal-decorators implements initializers,\n          // do this instead of the initializer below. See:\n          // https://github.com/babel/babel/issues/9260 extras: [\n          //   {\n          //     kind: 'initializer',\n          //     placement: 'own',\n          //     initializer: descriptor.initializer,\n          //   }\n          // ],\n          initializer(this: {[key: string]: unknown}) {\n            if (typeof element.initializer === 'function') {\n              this[element.key as string] = element.initializer.call(this);\n            }\n          },\n          finisher(clazz: typeof UpdatingElement) {\n            clazz.createProperty(element.key, options);\n          }\n        };\n      }\n    };\n\nconst legacyProperty =\n    (options: PropertyDeclaration, proto: Object, name: PropertyKey) => {\n      (proto.constructor as typeof UpdatingElement)\n          .createProperty(name, options);\n    };\n\n/**\n * A property decorator which creates a LitElement property which reflects a\n * corresponding attribute value. A [[`PropertyDeclaration`]] may optionally be\n * supplied to configure property features.\n *\n * This decorator should only be used for public fields. Private or protected\n * fields should use the [[`internalProperty`]] decorator.\n *\n * @example\n * ```ts\n * class MyElement {\n *   @property({ type: Boolean })\n *   clicked = false;\n * }\n * ```\n * @category Decorator\n * @ExportDecoratedItems\n */\nexport function property(options?: PropertyDeclaration) {\n  // tslint:disable-next-line:no-any decorator\n  return (protoOrDescriptor: Object|ClassElement, name?: PropertyKey): any =>\n             (name !== undefined) ?\n      legacyProperty(options!, protoOrDescriptor as Object, name) :\n      standardProperty(options!, protoOrDescriptor as ClassElement);\n}\n\nexport interface InternalPropertyDeclaration<Type = unknown> {\n  /**\n   * A function that indicates if a property should be considered changed when\n   * it is set. The function should take the `newValue` and `oldValue` and\n   * return `true` if an update should be requested.\n   */\n  hasChanged?(value: Type, oldValue: Type): boolean;\n}\n\n/**\n * Declares a private or protected property that still triggers updates to the\n * element when it changes.\n *\n * Properties declared this way must not be used from HTML or HTML templating\n * systems, they're solely for properties internal to the element. These\n * properties may be renamed by optimization tools like the Closure Compiler.\n * @category Decorator\n * @deprecated `internalProperty` has been renamed to `state` in lit-element\n *     3.0. Please update to `state` now to be compatible with 3.0.\n */\nexport function internalProperty(options?: InternalPropertyDeclaration) {\n  return property({attribute: false, hasChanged: options?.hasChanged});\n}\n\n/**\n * Declares a private or protected property that still triggers updates to the\n * element when it changes.\n *\n * Properties declared this way must not be used from HTML or HTML templating\n * systems, they're solely for properties internal to the element. These\n * properties may be renamed by optimization tools like the Closure Compiler.\n * @category Decorator\n */\nexport const state = (options?: InternalPropertyDeclaration) =>\n    internalProperty(options);\n\n/**\n * A property decorator that converts a class property into a getter that\n * executes a querySelector on the element's renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n * @param cache An optional boolean which when true performs the DOM query only\n * once and caches the result.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * @example\n *\n * ```ts\n * class MyElement {\n *   @query('#first')\n *   first;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function query(selector: string, cache?: boolean) {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        return this.renderRoot.querySelector(selector);\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    if (cache) {\n      const prop =\n          name !== undefined ? name : (protoOrDescriptor as ClassElement).key;\n      const key = typeof prop === 'symbol' ? Symbol() : `__${prop}`;\n      descriptor.get = function(this: LitElement) {\n        if ((this as unknown as\n             {[key: string]: Element | null})[key as string] === undefined) {\n          ((this as unknown as {[key: string]: Element | null})[key as string] =\n               this.renderRoot.querySelector(selector));\n        }\n        return (\n            this as unknown as {[key: string]: Element | null})[key as string];\n      };\n    }\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\n// Note, in the future, we may extend this decorator to support the use case\n// where the queried element may need to do work to become ready to interact\n// with (e.g. load some implementation code). If so, we might elect to\n// add a second argument defining a function that can be run to make the\n// queried element loaded/updated/ready.\n/**\n * A property decorator that converts a class property into a getter that\n * returns a promise that resolves to the result of a querySelector on the\n * element's renderRoot done after the element's `updateComplete` promise\n * resolves. When the queried property may change with element state, this\n * decorator can be used instead of requiring users to await the\n * `updateComplete` before accessing the property.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\n *\n * @example\n * ```ts\n * class MyElement {\n *   @queryAsync('#first')\n *   first;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n *\n * // external usage\n * async doSomethingWithFirst() {\n *  (await aMyElement.first).doSomething();\n * }\n * ```\n * @category Decorator\n */\nexport function queryAsync(selector: string) {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      async get(this: LitElement) {\n        await this.updateComplete;\n        return this.renderRoot.querySelector(selector);\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\n/**\n * A property decorator that converts a class property into a getter\n * that executes a querySelectorAll on the element's renderRoot.\n *\n * @param selector A DOMString containing one or more selectors to match.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll\n *\n * @example\n * ```ts\n * class MyElement {\n *   @queryAll('div')\n *   divs;\n *\n *   render() {\n *     return html`\n *       <div id=\"first\"></div>\n *       <div id=\"second\"></div>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function queryAll(selector: string) {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        return this.renderRoot.querySelectorAll(selector);\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n\nconst legacyQuery =\n    (descriptor: PropertyDescriptor, proto: Object, name: PropertyKey) => {\n      Object.defineProperty(proto, name, descriptor);\n    };\n\nconst standardQuery = (descriptor: PropertyDescriptor, element: ClassElement) =>\n    ({\n      kind: 'method',\n      placement: 'prototype',\n      key: element.key,\n      descriptor,\n    });\n\nconst standardEventOptions =\n    (options: AddEventListenerOptions, element: ClassElement) => {\n      return {\n        ...element,\n        finisher(clazz: typeof UpdatingElement) {\n          Object.assign(\n              clazz.prototype[element.key as keyof UpdatingElement], options);\n        }\n      };\n    };\n\nconst legacyEventOptions =\n    // tslint:disable-next-line:no-any legacy decorator\n    (options: AddEventListenerOptions, proto: any, name: PropertyKey) => {\n      Object.assign(proto[name], options);\n    };\n\n/**\n * Adds event listener options to a method used as an event listener in a\n * lit-html template.\n *\n * @param options An object that specifies event listener options as accepted by\n * `EventTarget#addEventListener` and `EventTarget#removeEventListener`.\n *\n * Current browsers support the `capture`, `passive`, and `once` options. See:\n * https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Parameters\n *\n * @example\n * ```ts\n * class MyElement {\n *   clicked = false;\n *\n *   render() {\n *     return html`\n *       <div @click=${this._onClick}`>\n *         <button></button>\n *       </div>\n *     `;\n *   }\n *\n *   @eventOptions({capture: true})\n *   _onClick(e) {\n *     this.clicked = true;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function eventOptions(options: AddEventListenerOptions) {\n  // Return value typed as any to prevent TypeScript from complaining that\n  // standard decorator function signature does not match TypeScript decorator\n  // signature\n  // TODO(kschaaf): unclear why it was only failing on this decorator and not\n  // the others\n  return ((protoOrDescriptor: Object|ClassElement, name?: string) =>\n              (name !== undefined) ?\n              legacyEventOptions(options, protoOrDescriptor as Object, name) :\n              standardEventOptions(\n                  options, protoOrDescriptor as ClassElement)) as\n             // tslint:disable-next-line:no-any decorator\n             any;\n}\n\n// x-browser support for matches\n// tslint:disable-next-line:no-any\nconst ElementProto = Element.prototype as any;\nconst legacyMatches =\n    ElementProto.msMatchesSelector || ElementProto.webkitMatchesSelector;\n\n/**\n * A property decorator that converts a class property into a getter that\n * returns the `assignedNodes` of the given named `slot`. Note, the type of\n * this property should be annotated as `NodeListOf<HTMLElement>`.\n *\n * @param slotName A string name of the slot.\n * @param flatten A boolean which when true flattens the assigned nodes,\n * meaning any assigned nodes that are slot elements are replaced with their\n * assigned nodes.\n * @param selector A string which filters the results to elements that match\n * the given css selector.\n *\n * * @example\n * ```ts\n * class MyElement {\n *   @queryAssignedNodes('list', true, '.item')\n *   listItems;\n *\n *   render() {\n *     return html`\n *       <slot name=\"list\"></slot>\n *     `;\n *   }\n * }\n * ```\n * @category Decorator\n */\nexport function queryAssignedNodes(\n    slotName = '', flatten = false, selector = '') {\n  return (protoOrDescriptor: Object|ClassElement,\n          // tslint:disable-next-line:no-any decorator\n          name?: PropertyKey): any => {\n    const descriptor = {\n      get(this: LitElement) {\n        const slotSelector =\n            `slot${slotName ? `[name=${slotName}]` : ':not([name])'}`;\n        const slot = this.renderRoot.querySelector(slotSelector);\n        let nodes = slot && (slot as HTMLSlotElement).assignedNodes({flatten});\n        if (nodes && selector) {\n          nodes = nodes.filter(\n              (node) => node.nodeType === Node.ELEMENT_NODE &&\n                  // tslint:disable-next-line:no-any testing existence on older browsers\n                  ((node as any).matches ?\n                       (node as Element).matches(selector) :\n                       legacyMatches.call(node as Element, selector)));\n        }\n        return nodes;\n      },\n      enumerable: true,\n      configurable: true,\n    };\n    return (name !== undefined) ?\n        legacyQuery(descriptor, protoOrDescriptor as Object, name) :\n        standardQuery(descriptor, protoOrDescriptor as ClassElement);\n  };\n}\n","/**\n@license\nCopyright (c) 2019 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Whether the current browser supports `adoptedStyleSheets`.\n */\nexport const supportsAdoptingStyleSheets = (window.ShadowRoot) &&\n    (window.ShadyCSS === undefined || window.ShadyCSS.nativeShadow) &&\n    ('adoptedStyleSheets' in Document.prototype) &&\n    ('replace' in CSSStyleSheet.prototype);\n\nconst constructionToken = Symbol();\n\nexport class CSSResult {\n  _styleSheet?: CSSStyleSheet|null;\n\n  readonly cssText: string;\n\n  constructor(cssText: string, safeToken: symbol) {\n    if (safeToken !== constructionToken) {\n      throw new Error(\n          'CSSResult is not constructable. Use `unsafeCSS` or `css` instead.');\n    }\n\n    this.cssText = cssText;\n  }\n\n  // Note, this is a getter so that it's lazy. In practice, this means\n  // stylesheets are not created until the first element instance is made.\n  get styleSheet(): CSSStyleSheet|null {\n    if (this._styleSheet === undefined) {\n      // Note, if `supportsAdoptingStyleSheets` is true then we assume\n      // CSSStyleSheet is constructable.\n      if (supportsAdoptingStyleSheets) {\n        this._styleSheet = new CSSStyleSheet();\n        this._styleSheet.replaceSync(this.cssText);\n      } else {\n        this._styleSheet = null;\n      }\n    }\n    return this._styleSheet;\n  }\n\n  toString(): string {\n    return this.cssText;\n  }\n}\n\n/**\n * Wrap a value for interpolation in a [[`css`]] tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value: unknown) => {\n  return new CSSResult(String(value), constructionToken);\n};\n\nconst textFromCSSResult = (value: CSSResult|number) => {\n  if (value instanceof CSSResult) {\n    return value.cssText;\n  } else if (typeof value === 'number') {\n    return value;\n  } else {\n    throw new Error(\n        `Value passed to 'css' function must be a 'css' function result: ${\n            value}. Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security.`);\n  }\n};\n\n/**\n * Template tag which which can be used with LitElement's [[LitElement.styles |\n * `styles`]] property to set element styles. For security reasons, only literal\n * string values may be used. To incorporate non-literal values [[`unsafeCSS`]]\n * may be used inside a template string part.\n */\nexport const css =\n    (strings: TemplateStringsArray, ...values: (CSSResult|number)[]) => {\n      const cssText = values.reduce(\n          (acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1],\n          strings[0]);\n      return new CSSResult(cssText, constructionToken);\n    };\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * The main LitElement module, which defines the [[`LitElement`]] base class and\n * related APIs.\n *\n *  LitElement components can define a template and a set of observed\n * properties. Changing an observed property triggers a re-render of the\n * element.\n *\n *  Import [[`LitElement`]] and [[`html`]] from this module to create a\n * component:\n *\n *  ```js\n * import {LitElement, html} from 'lit-element';\n *\n * class MyElement extends LitElement {\n *\n *   // Declare observed properties\n *   static get properties() {\n *     return {\n *       adjective: {}\n *     }\n *   }\n *\n *   constructor() {\n *     this.adjective = 'awesome';\n *   }\n *\n *   // Define the element's template\n *   render() {\n *     return html`<p>your ${adjective} template here</p>`;\n *   }\n * }\n *\n * customElements.define('my-element', MyElement);\n * ```\n *\n * `LitElement` extends [[`UpdatingElement`]] and adds lit-html templating.\n * The `UpdatingElement` class is provided for users that want to build\n * their own custom element base classes that don't use lit-html.\n *\n * @packageDocumentation\n */\nimport {render, ShadyRenderOptions} from 'lit-html/lib/shady-render.js';\n\nimport {PropertyValues, UpdatingElement} from './lib/updating-element.js';\n\nexport * from './lib/updating-element.js';\nexport {UpdatingElement as ReactiveElement} from './lib/updating-element.js';\nexport * from './lib/decorators.js';\nexport {html, svg, TemplateResult, SVGTemplateResult} from 'lit-html/lit-html.js';\nimport {supportsAdoptingStyleSheets, CSSResult, unsafeCSS} from './lib/css-tag.js';\nexport * from './lib/css-tag.js';\n\ndeclare global {\n  interface Window {\n    litElementVersions: string[];\n  }\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n// TODO(justinfagnani): inject version number at build time\n(window['litElementVersions'] || (window['litElementVersions'] = []))\n    .push('2.5.1');\n\nexport type CSSResultOrNative = CSSResult|CSSStyleSheet;\n\nexport interface CSSResultArray extends\n    Array<CSSResultOrNative|CSSResultArray> {}\n\nexport type CSSResultGroup = CSSResultOrNative|CSSResultArray;\n\n/**\n * Sentinal value used to avoid calling lit-html's render function when\n * subclasses do not implement `render`\n */\nconst renderNotImplemented = {};\n\n/**\n * Base element class that manages element properties and attributes, and\n * renders a lit-html template.\n *\n * To define a component, subclass `LitElement` and implement a\n * `render` method to provide the component's template. Define properties\n * using the [[`properties`]] property or the [[`property`]] decorator.\n */\nexport class LitElement extends UpdatingElement {\n  /**\n   * Ensure this class is marked as `finalized` as an optimization ensuring\n   * it will not needlessly try to `finalize`.\n   *\n   * Note this property name is a string to prevent breaking Closure JS Compiler\n   * optimizations. See updating-element.ts for more information.\n   */\n  protected static['finalized'] = true;\n\n  /**\n   * Reference to the underlying library method used to render the element's\n   * DOM. By default, points to the `render` method from lit-html's shady-render\n   * module.\n   *\n   * **Most users will never need to touch this property.**\n   *\n   * This  property should not be confused with the `render` instance method,\n   * which should be overridden to define a template for the element.\n   *\n   * Advanced users creating a new base class based on LitElement can override\n   * this property to point to a custom render method with a signature that\n   * matches [shady-render's `render`\n   * method](https://lit-html.polymer-project.org/api/modules/shady_render.html#render).\n   *\n   * @nocollapse\n   */\n  static render:\n      (result: unknown, container: Element|DocumentFragment,\n       options: ShadyRenderOptions) => void = render;\n\n  /**\n   * Array of styles to apply to the element. The styles should be defined\n   * using the [[`css`]] tag function or via constructible stylesheets.\n   */\n  static styles?: CSSResultGroup;\n\n  /** @nocollapse */\n  static shadowRootOptions: ShadowRootInit = {mode: 'open'};\n\n  private static _styles: Array<CSSResultOrNative|CSSResult>|undefined;\n\n  /**\n   * Return the array of styles to apply to the element.\n   * Override this method to integrate into a style management system.\n   *\n   * @nocollapse\n   */\n  static getStyles(): CSSResultGroup|undefined {\n    return this.styles;\n  }\n\n  /** @nocollapse */\n  private static _getUniqueStyles() {\n    // Only gather styles once per class\n    if (this.hasOwnProperty(JSCompiler_renameProperty('_styles', this))) {\n      return;\n    }\n    // Take care not to call `this.getStyles()` multiple times since this\n    // generates new CSSResults each time.\n    // TODO(sorvell): Since we do not cache CSSResults by input, any\n    // shared styles will generate new stylesheet objects, which is wasteful.\n    // This should be addressed when a browser ships constructable\n    // stylesheets.\n    const userStyles = this.getStyles();\n\n    if (Array.isArray(userStyles)) {\n      // De-duplicate styles preserving the _last_ instance in the set.\n      // This is a performance optimization to avoid duplicated styles that can\n      // occur especially when composing via subclassing.\n      // The last item is kept to try to preserve the cascade order with the\n      // assumption that it's most important that last added styles override\n      // previous styles.\n      const addStyles = (styles: CSSResultArray, set: Set<CSSResultOrNative>):\n          Set<CSSResultOrNative> => styles.reduceRight(\n              (set: Set<CSSResultOrNative>, s) =>\n                  // Note: On IE set.add() does not return the set\n              Array.isArray(s) ? addStyles(s, set) : (set.add(s), set),\n              set);\n      // Array.from does not work on Set in IE, otherwise return\n      // Array.from(addStyles(userStyles, new Set<CSSResult>())).reverse()\n      const set = addStyles(userStyles, new Set<CSSResultOrNative>());\n      const styles: CSSResultOrNative[] = [];\n      set.forEach((v) => styles.unshift(v));\n      this._styles = styles;\n    } else {\n      this._styles = userStyles === undefined ? [] : [userStyles];\n    }\n\n    // Ensure that there are no invalid CSSStyleSheet instances here. They are\n    // invalid in two conditions.\n    // (1) the sheet is non-constructible (`sheet` of a HTMLStyleElement), but\n    //     this is impossible to check except via .replaceSync or use\n    // (2) the ShadyCSS polyfill is enabled (:. supportsAdoptingStyleSheets is\n    //     false)\n    this._styles = this._styles.map((s) => {\n      if (s instanceof CSSStyleSheet && !supportsAdoptingStyleSheets) {\n        // Flatten the cssText from the passed constructible stylesheet (or\n        // undetectable non-constructible stylesheet). The user might have\n        // expected to update their stylesheets over time, but the alternative\n        // is a crash.\n        const cssText = Array.prototype.slice.call(s.cssRules)\n                            .reduce((css, rule) => css + rule.cssText, '');\n        return unsafeCSS(cssText);\n      }\n      return s;\n    });\n  }\n\n  private _needsShimAdoptedStyleSheets?: boolean;\n\n  /**\n   * Node or ShadowRoot into which element DOM should be rendered. Defaults\n   * to an open shadowRoot.\n   */\n  readonly renderRoot!: Element|DocumentFragment;\n\n  /**\n   * Performs element initialization. By default this calls\n   * [[`createRenderRoot`]] to create the element [[`renderRoot`]] node and\n   * captures any pre-set values for registered properties.\n   */\n  protected initialize() {\n    super.initialize();\n    (this.constructor as typeof LitElement)._getUniqueStyles();\n    (this as {\n      renderRoot: Element|DocumentFragment;\n    }).renderRoot = this.createRenderRoot();\n    // Note, if renderRoot is not a shadowRoot, styles would/could apply to the\n    // element's getRootNode(). While this could be done, we're choosing not to\n    // support this now since it would require different logic around de-duping.\n    if (window.ShadowRoot && this.renderRoot instanceof window.ShadowRoot) {\n      this.adoptStyles();\n    }\n  }\n\n  /**\n   * Returns the node into which the element should render and by default\n   * creates and returns an open shadowRoot. Implement to customize where the\n   * element's DOM is rendered. For example, to render into the element's\n   * childNodes, return `this`.\n   * @returns {Element|DocumentFragment} Returns a node into which to render.\n   */\n  protected createRenderRoot(): Element|ShadowRoot {\n    return this.attachShadow(\n        (this.constructor as typeof LitElement).shadowRootOptions);\n  }\n\n  /**\n   * Applies styling to the element shadowRoot using the [[`styles`]]\n   * property. Styling will apply using `shadowRoot.adoptedStyleSheets` where\n   * available and will fallback otherwise. When Shadow DOM is polyfilled,\n   * ShadyCSS scopes styles and adds them to the document. When Shadow DOM\n   * is available but `adoptedStyleSheets` is not, styles are appended to the\n   * end of the `shadowRoot` to [mimic spec\n   * behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n   */\n  protected adoptStyles() {\n    const styles = (this.constructor as typeof LitElement)._styles!;\n    if (styles.length === 0) {\n      return;\n    }\n    // There are three separate cases here based on Shadow DOM support.\n    // (1) shadowRoot polyfilled: use ShadyCSS\n    // (2) shadowRoot.adoptedStyleSheets available: use it\n    // (3) shadowRoot.adoptedStyleSheets polyfilled: append styles after\n    // rendering\n    if (window.ShadyCSS !== undefined && !window.ShadyCSS.nativeShadow) {\n      window.ShadyCSS.ScopingShim!.prepareAdoptedCssText(\n          styles.map((s) => (s as CSSResult).cssText), this.localName);\n    } else if (supportsAdoptingStyleSheets) {\n      (this.renderRoot as ShadowRoot).adoptedStyleSheets =\n          styles.map((s) => s instanceof CSSStyleSheet ? s : s.styleSheet!);\n    } else {\n      // This must be done after rendering so the actual style insertion is done\n      // in `update`.\n      this._needsShimAdoptedStyleSheets = true;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // Note, first update/render handles styleElement so we only call this if\n    // connected after first update.\n    if (this.hasUpdated && window.ShadyCSS !== undefined) {\n      window.ShadyCSS.styleElement(this);\n    }\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes\n   * and calls `render` to render DOM via lit-html. Setting properties inside\n   * this method will *not* trigger another update.\n   * @param _changedProperties Map of changed properties with old values\n   */\n  protected update(changedProperties: PropertyValues) {\n    // Setting properties in `render` should not trigger an update. Since\n    // updates are allowed after super.update, it's important to call `render`\n    // before that.\n    const templateResult = this.render();\n    super.update(changedProperties);\n    // If render is not implemented by the component, don't call lit-html render\n    if (templateResult !== renderNotImplemented) {\n      (this.constructor as typeof LitElement)\n          .render(\n              templateResult,\n              this.renderRoot,\n              {scopeName: this.localName, eventContext: this});\n    }\n    // When native Shadow DOM is used but adoptedStyles are not supported,\n    // insert styling after rendering to ensure adoptedStyles have highest\n    // priority.\n    if (this._needsShimAdoptedStyleSheets) {\n      this._needsShimAdoptedStyleSheets = false;\n      (this.constructor as typeof LitElement)._styles!.forEach((s) => {\n        const style = document.createElement('style');\n        style.textContent = (s as CSSResult).cssText;\n        this.renderRoot.appendChild(style);\n      });\n    }\n  }\n\n  /**\n   * Invoked on each update to perform rendering tasks. This method may return\n   * any value renderable by lit-html's `NodePart` - typically a\n   * `TemplateResult`. Setting properties inside this method will *not* trigger\n   * the element to update.\n   */\n  protected render(): unknown {\n    return renderNotImplemented;\n  }\n}\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {TemplateInstance} from '../lib/template-instance.js';\nimport {Template} from '../lib/template.js';\nimport {directive, NodePart, Part, reparentNodes, TemplateResult} from '../lit-html.js';\n\ninterface CachedTemplate {\n  readonly instance: TemplateInstance;\n  readonly nodes: DocumentFragment;\n}\nconst templateCaches =\n    new WeakMap<NodePart, WeakMap<Template, CachedTemplate>>();\n\n/**\n * Enables fast switching between multiple templates by caching the DOM nodes\n * and TemplateInstances produced by the templates.\n *\n * Example:\n *\n * ```\n * let checked = false;\n *\n * html`\n *   ${cache(checked ? html`input is checked` : html`input is not checked`)}\n * `\n * ```\n */\nexport const cache = directive((value: unknown) => (part: Part) => {\n  if (!(part instanceof NodePart)) {\n    throw new Error('cache can only be used in text bindings');\n  }\n\n  let templateCache = templateCaches.get(part);\n\n  if (templateCache === undefined) {\n    templateCache = new WeakMap();\n    templateCaches.set(part, templateCache);\n  }\n\n  const previousValue = part.value;\n\n  // First, can we update the current TemplateInstance, or do we need to move\n  // the current nodes into the cache?\n  if (previousValue instanceof TemplateInstance) {\n    if (value instanceof TemplateResult &&\n        previousValue.template === part.options.templateFactory(value)) {\n      // Same Template, just trigger an update of the TemplateInstance\n      part.setValue(value);\n      return;\n    } else {\n      // Not the same Template, move the nodes from the DOM into the cache.\n      let cachedTemplate = templateCache.get(previousValue.template);\n      if (cachedTemplate === undefined) {\n        cachedTemplate = {\n          instance: previousValue,\n          nodes: document.createDocumentFragment(),\n        };\n        templateCache.set(previousValue.template, cachedTemplate);\n      }\n      reparentNodes(\n          cachedTemplate.nodes, part.startNode.nextSibling, part.endNode);\n    }\n  }\n\n  // Next, can we reuse nodes from the cache?\n  if (value instanceof TemplateResult) {\n    const template = part.options.templateFactory(value);\n    const cachedTemplate = templateCache.get(template);\n    if (cachedTemplate !== undefined) {\n      // Move nodes out of cache\n      part.setValue(cachedTemplate.nodes);\n      part.commit();\n      // Set the Part value to the TemplateInstance so it'll update it.\n      part.value = cachedTemplate.instance;\n    }\n  }\n  part.setValue(value);\n});\n","/**\n * @license\n * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {AttributePart, directive, Part, PropertyPart} from '../lit-html.js';\n\n// IE11 doesn't support classList on SVG elements, so we emulate it with a Set\nclass ClassList {\n  element: Element;\n  classes: Set<string> = new Set();\n  changed = false;\n\n  constructor(element: Element) {\n    this.element = element;\n    const classList = (element.getAttribute('class') || '').split(/\\s+/);\n    for (const cls of classList) {\n      this.classes.add(cls);\n    }\n  }\n  add(cls: string) {\n    this.classes.add(cls);\n    this.changed = true;\n  }\n\n  remove(cls: string) {\n    this.classes.delete(cls);\n    this.changed = true;\n  }\n\n  commit() {\n    if (this.changed) {\n      let classString = '';\n      this.classes.forEach((cls) => classString += cls + ' ');\n      this.element.setAttribute('class', classString);\n    }\n  }\n}\n\nexport interface ClassInfo {\n  readonly [name: string]: string|boolean|number;\n}\n\n/**\n * Stores the ClassInfo object applied to a given AttributePart.\n * Used to unset existing values when a new ClassInfo object is applied.\n */\nconst previousClassesCache = new WeakMap<Part, Set<string>>();\n\n/**\n * A directive that applies CSS classes. This must be used in the `class`\n * attribute and must be the only part used in the attribute. It takes each\n * property in the `classInfo` argument and adds the property name to the\n * element's `class` if the property value is truthy; if the property value is\n * falsey, the property name is removed from the element's `class`. For example\n * `{foo: bar}` applies the class `foo` if the value of `bar` is truthy.\n * @param classInfo {ClassInfo}\n */\nexport const classMap = directive((classInfo: ClassInfo) => (part: Part) => {\n  if (!(part instanceof AttributePart) || (part instanceof PropertyPart) ||\n      part.committer.name !== 'class' || part.committer.parts.length > 1) {\n    throw new Error(\n        'The `classMap` directive must be used in the `class` attribute ' +\n        'and must be the only part in the attribute.');\n  }\n\n  const {committer} = part;\n  const {element} = committer;\n\n  let previousClasses = previousClassesCache.get(part);\n  if (previousClasses === undefined) {\n    // Write static classes once\n    // Use setAttribute() because className isn't a string on SVG elements\n    element.setAttribute('class', committer.strings.join(' '));\n    previousClassesCache.set(part, previousClasses = new Set());\n  }\n\n  const classList =\n      (element.classList || new ClassList(element)) as DOMTokenList | ClassList;\n\n  // Remove old classes that no longer apply\n  // We use forEach() instead of for-of so that re don't require down-level\n  // iteration.\n  previousClasses.forEach((name) => {\n    if (!(name in classInfo)) {\n      classList.remove(name);\n      previousClasses!.delete(name);\n    }\n  });\n\n  // Add or remove classes based on their classMap value\n  for (const name in classInfo) {\n    const value = classInfo[name];\n    if (value != previousClasses.has(name)) {\n      // We explicitly want a loose truthy check of `value` because it seems\n      // more convenient that '' and 0 are skipped.\n      if (value) {\n        classList.add(name);\n        previousClasses.add(name);\n      } else {\n        classList.remove(name);\n        previousClasses.delete(name);\n      }\n    }\n  }\n  if (typeof (classList as ClassList).commit === 'function') {\n    (classList as ClassList).commit();\n  }\n});\n","/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {DirectiveFn} from '../lib/directive.js';\nimport {createMarker, directive, NodePart, Part, removeNodes, reparentNodes} from '../lit-html.js';\n\nexport type KeyFn<T> = (item: T, index: number) => unknown;\nexport type ItemTemplate<T> = (item: T, index: number) => unknown;\n\n// Helper functions for manipulating parts\n// TODO(kschaaf): Refactor into Part API?\nconst createAndInsertPart =\n    (containerPart: NodePart, beforePart?: NodePart): NodePart => {\n      const container = containerPart.startNode.parentNode as Node;\n      const beforeNode = beforePart === undefined ? containerPart.endNode :\n                                                    beforePart.startNode;\n      const startNode = container.insertBefore(createMarker(), beforeNode);\n      container.insertBefore(createMarker(), beforeNode);\n      const newPart = new NodePart(containerPart.options);\n      newPart.insertAfterNode(startNode);\n      return newPart;\n    };\n\nconst updatePart = (part: NodePart, value: unknown) => {\n  part.setValue(value);\n  part.commit();\n  return part;\n};\n\nconst insertPartBefore =\n    (containerPart: NodePart, part: NodePart, ref?: NodePart) => {\n      const container = containerPart.startNode.parentNode as Node;\n      const beforeNode = ref ? ref.startNode : containerPart.endNode;\n      const endNode = part.endNode.nextSibling;\n      if (endNode !== beforeNode) {\n        reparentNodes(container, part.startNode, endNode, beforeNode);\n      }\n    };\n\nconst removePart = (part: NodePart) => {\n  removeNodes(\n      part.startNode.parentNode!, part.startNode, part.endNode.nextSibling);\n};\n\n// Helper for generating a map of array item to its index over a subset\n// of an array (used to lazily generate `newKeyToIndexMap` and\n// `oldKeyToIndexMap`)\nconst generateMap = (list: unknown[], start: number, end: number) => {\n  const map = new Map();\n  for (let i = start; i <= end; i++) {\n    map.set(list[i], i);\n  }\n  return map;\n};\n\n// Stores previous ordered list of parts and map of key to index\nconst partListCache = new WeakMap<NodePart, (NodePart | null)[]>();\nconst keyListCache = new WeakMap<NodePart, unknown[]>();\n\n/**\n * A directive that repeats a series of values (usually `TemplateResults`)\n * generated from an iterable, and updates those items efficiently when the\n * iterable changes based on user-provided `keys` associated with each item.\n *\n * Note that if a `keyFn` is provided, strict key-to-DOM mapping is maintained,\n * meaning previous DOM for a given key is moved into the new position if\n * needed, and DOM will never be reused with values for different keys (new DOM\n * will always be created for new keys). This is generally the most efficient\n * way to use `repeat` since it performs minimum unnecessary work for insertions\n * and removals.\n *\n * IMPORTANT: If providing a `keyFn`, keys *must* be unique for all items in a\n * given call to `repeat`. The behavior when two or more items have the same key\n * is undefined.\n *\n * If no `keyFn` is provided, this directive will perform similar to mapping\n * items to values, and DOM will be reused against potentially different items.\n */\nexport const repeat =\n    directive(\n        <T>(items: Iterable<T>,\n            keyFnOrTemplate: KeyFn<T>|ItemTemplate<T>,\n            template?: ItemTemplate<T>):\n            DirectiveFn => {\n              let keyFn: KeyFn<T>;\n              if (template === undefined) {\n                template = keyFnOrTemplate;\n              } else if (keyFnOrTemplate !== undefined) {\n                keyFn = keyFnOrTemplate as KeyFn<T>;\n              }\n\n              return (containerPart: Part): void => {\n                if (!(containerPart instanceof NodePart)) {\n                  throw new Error('repeat can only be used in text bindings');\n                }\n                // Old part & key lists are retrieved from the last update\n                // (associated with the part for this instance of the directive)\n                const oldParts = partListCache.get(containerPart) || [];\n                const oldKeys = keyListCache.get(containerPart) || [];\n\n                // New part list will be built up as we go (either reused from\n                // old parts or created for new keys in this update). This is\n                // saved in the above cache at the end of the update.\n                const newParts: NodePart[] = [];\n\n                // New value list is eagerly generated from items along with a\n                // parallel array indicating its key.\n                const newValues: unknown[] = [];\n                const newKeys: unknown[] = [];\n                let index = 0;\n                for (const item of items) {\n                  newKeys[index] = keyFn ? keyFn(item, index) : index;\n                  newValues[index] = template !(item, index);\n                  index++;\n                }\n\n                // Maps from key to index for current and previous update; these\n                // are generated lazily only when needed as a performance\n                // optimization, since they are only required for multiple\n                // non-contiguous changes in the list, which are less common.\n                let newKeyToIndexMap!: Map<unknown, number>;\n                let oldKeyToIndexMap!: Map<unknown, number>;\n\n                // Head and tail pointers to old parts and new values\n                let oldHead = 0;\n                let oldTail = oldParts.length - 1;\n                let newHead = 0;\n                let newTail = newValues.length - 1;\n\n                // Overview of O(n) reconciliation algorithm (general approach\n                // based on ideas found in ivi, vue, snabbdom, etc.):\n                //\n                // * We start with the list of old parts and new values (and\n                //   arrays of their respective keys), head/tail pointers into\n                //   each, and we build up the new list of parts by updating\n                //   (and when needed, moving) old parts or creating new ones.\n                //   The initial scenario might look like this (for brevity of\n                //   the diagrams, the numbers in the array reflect keys\n                //   associated with the old parts or new values, although keys\n                //   and parts/values are actually stored in parallel arrays\n                //   indexed using the same head/tail pointers):\n                //\n                //      oldHead v                 v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [ ,  ,  ,  ,  ,  ,  ]\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6] <- reflects the user's new\n                //                                      item order\n                //      newHead ^                 ^ newTail\n                //\n                // * Iterate old & new lists from both sides, updating,\n                //   swapping, or removing parts at the head/tail locations\n                //   until neither head nor tail can move.\n                //\n                // * Example below: keys at head pointers match, so update old\n                //   part 0 in-place (no need to move it) and record part 0 in\n                //   the `newParts` list. The last thing we do is advance the\n                //   `oldHead` and `newHead` pointers (will be reflected in the\n                //   next diagram).\n                //\n                //      oldHead v                 v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [0,  ,  ,  ,  ,  ,  ] <- heads matched: update 0\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n                //                                      & newHead\n                //      newHead ^                 ^ newTail\n                //\n                // * Example below: head pointers don't match, but tail\n                //   pointers do, so update part 6 in place (no need to move\n                //   it), and record part 6 in the `newParts` list. Last,\n                //   advance the `oldTail` and `oldHead` pointers.\n                //\n                //         oldHead v              v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [0,  ,  ,  ,  ,  , 6] <- tails matched: update 6\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldTail\n                //                                      & newTail\n                //         newHead ^              ^ newTail\n                //\n                // * If neither head nor tail match; next check if one of the\n                //   old head/tail items was removed. We first need to generate\n                //   the reverse map of new keys to index (`newKeyToIndexMap`),\n                //   which is done once lazily as a performance optimization,\n                //   since we only hit this case if multiple non-contiguous\n                //   changes were made. Note that for contiguous removal\n                //   anywhere in the list, the head and tails would advance\n                //   from either end and pass each other before we get to this\n                //   case and removals would be handled in the final while loop\n                //   without needing to generate the map.\n                //\n                // * Example below: The key at `oldTail` was removed (no longer\n                //   in the `newKeyToIndexMap`), so remove that part from the\n                //   DOM and advance just the `oldTail` pointer.\n                //\n                //         oldHead v           v oldTail\n                //   oldKeys:  [0, 1, 2, 3, 4, 5, 6]\n                //   newParts: [0,  ,  ,  ,  ,  , 6] <- 5 not in new map: remove\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    5 and advance oldTail\n                //         newHead ^           ^ newTail\n                //\n                // * Once head and tail cannot move, any mismatches are due to\n                //   either new or moved items; if a new key is in the previous\n                //   \"old key to old index\" map, move the old part to the new\n                //   location, otherwise create and insert a new part. Note\n                //   that when moving an old part we null its position in the\n                //   oldParts array if it lies between the head and tail so we\n                //   know to skip it when the pointers get there.\n                //\n                // * Example below: neither head nor tail match, and neither\n                //   were removed; so find the `newHead` key in the\n                //   `oldKeyToIndexMap`, and move that old part's DOM into the\n                //   next head position (before `oldParts[oldHead]`). Last,\n                //   null the part in the `oldPart` array since it was\n                //   somewhere in the remaining oldParts still to be scanned\n                //   (between the head and tail pointers) so that we know to\n                //   skip that old part on future iterations.\n                //\n                //         oldHead v        v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2,  ,  ,  ,  , 6] <- stuck: update & move 2\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    into place and advance\n                //                                      newHead\n                //         newHead ^           ^ newTail\n                //\n                // * Note that for moves/insertions like the one above, a part\n                //   inserted at the head pointer is inserted before the\n                //   current `oldParts[oldHead]`, and a part inserted at the\n                //   tail pointer is inserted before `newParts[newTail+1]`. The\n                //   seeming asymmetry lies in the fact that new parts are\n                //   moved into place outside in, so to the right of the head\n                //   pointer are old parts, and to the right of the tail\n                //   pointer are new parts.\n                //\n                // * We always restart back from the top of the algorithm,\n                //   allowing matching and simple updates in place to\n                //   continue...\n                //\n                // * Example below: the head pointers once again match, so\n                //   simply update part 1 and record it in the `newParts`\n                //   array.  Last, advance both head pointers.\n                //\n                //         oldHead v        v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1,  ,  ,  , 6] <- heads matched: update 1\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance both oldHead\n                //                                      & newHead\n                //            newHead ^        ^ newTail\n                //\n                // * As mentioned above, items that were moved as a result of\n                //   being stuck (the final else clause in the code below) are\n                //   marked with null, so we always advance old pointers over\n                //   these so we're comparing the next actual old value on\n                //   either end.\n                //\n                // * Example below: `oldHead` is null (already placed in\n                //   newParts), so advance `oldHead`.\n                //\n                //            oldHead v     v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6] <- old head already used:\n                //   newParts: [0, 2, 1,  ,  ,  , 6]    advance oldHead\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n                //               newHead ^     ^ newTail\n                //\n                // * Note it's not critical to mark old parts as null when they\n                //   are moved from head to tail or tail to head, since they\n                //   will be outside the pointer range and never visited again.\n                //\n                // * Example below: Here the old tail key matches the new head\n                //   key, so the part at the `oldTail` position and move its\n                //   DOM to the new head position (before `oldParts[oldHead]`).\n                //   Last, advance `oldTail` and `newHead` pointers.\n                //\n                //               oldHead v  v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1, 4,  ,  , 6] <- old tail matches new\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]   head: update & move 4,\n                //                                     advance oldTail & newHead\n                //               newHead ^     ^ newTail\n                //\n                // * Example below: Old and new head keys match, so update the\n                //   old head part in place, and advance the `oldHead` and\n                //   `newHead` pointers.\n                //\n                //               oldHead v oldTail\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1, 4, 3,   ,6] <- heads match: update 3\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]    and advance oldHead &\n                //                                      newHead\n                //                  newHead ^  ^ newTail\n                //\n                // * Once the new or old pointers move past each other then all\n                //   we have left is additions (if old list exhausted) or\n                //   removals (if new list exhausted). Those are handled in the\n                //   final while loops at the end.\n                //\n                // * Example below: `oldHead` exceeded `oldTail`, so we're done\n                //   with the main loop.  Create the remaining part and insert\n                //   it at the new head position, and the update is complete.\n                //\n                //                   (oldHead > oldTail)\n                //   oldKeys:  [0, 1, -, 3, 4, 5, 6]\n                //   newParts: [0, 2, 1, 4, 3, 7 ,6] <- create and insert 7\n                //   newKeys:  [0, 2, 1, 4, 3, 7, 6]\n                //                     newHead ^ newTail\n                //\n                // * Note that the order of the if/else clauses is not\n                //   important to the algorithm, as long as the null checks\n                //   come first (to ensure we're always working on valid old\n                //   parts) and that the final else clause comes last (since\n                //   that's where the expensive moves occur). The order of\n                //   remaining clauses is is just a simple guess at which cases\n                //   will be most common.\n                //\n                // * TODO(kschaaf) Note, we could calculate the longest\n                //   increasing subsequence (LIS) of old items in new position,\n                //   and only move those not in the LIS set. However that costs\n                //   O(nlogn) time and adds a bit more code, and only helps\n                //   make rare types of mutations require fewer moves. The\n                //   above handles removes, adds, reversal, swaps, and single\n                //   moves of contiguous items in linear time, in the minimum\n                //   number of moves. As the number of multiple moves where LIS\n                //   might help approaches a random shuffle, the LIS\n                //   optimization becomes less helpful, so it seems not worth\n                //   the code at this point. Could reconsider if a compelling\n                //   case arises.\n\n                while (oldHead <= oldTail && newHead <= newTail) {\n                  if (oldParts[oldHead] === null) {\n                    // `null` means old part at head has already been used\n                    // below; skip\n                    oldHead++;\n                  } else if (oldParts[oldTail] === null) {\n                    // `null` means old part at tail has already been used\n                    // below; skip\n                    oldTail--;\n                  } else if (oldKeys[oldHead] === newKeys[newHead]) {\n                    // Old head matches new head; update in place\n                    newParts[newHead] =\n                        updatePart(oldParts[oldHead]!, newValues[newHead]);\n                    oldHead++;\n                    newHead++;\n                  } else if (oldKeys[oldTail] === newKeys[newTail]) {\n                    // Old tail matches new tail; update in place\n                    newParts[newTail] =\n                        updatePart(oldParts[oldTail]!, newValues[newTail]);\n                    oldTail--;\n                    newTail--;\n                  } else if (oldKeys[oldHead] === newKeys[newTail]) {\n                    // Old head matches new tail; update and move to new tail\n                    newParts[newTail] =\n                        updatePart(oldParts[oldHead]!, newValues[newTail]);\n                    insertPartBefore(\n                        containerPart,\n                        oldParts[oldHead]!,\n                        newParts[newTail + 1]);\n                    oldHead++;\n                    newTail--;\n                  } else if (oldKeys[oldTail] === newKeys[newHead]) {\n                    // Old tail matches new head; update and move to new head\n                    newParts[newHead] =\n                        updatePart(oldParts[oldTail]!, newValues[newHead]);\n                    insertPartBefore(\n                        containerPart, oldParts[oldTail]!, oldParts[oldHead]!);\n                    oldTail--;\n                    newHead++;\n                  } else {\n                    if (newKeyToIndexMap === undefined) {\n                      // Lazily generate key-to-index maps, used for removals &\n                      // moves below\n                      newKeyToIndexMap = generateMap(newKeys, newHead, newTail);\n                      oldKeyToIndexMap = generateMap(oldKeys, oldHead, oldTail);\n                    }\n                    if (!newKeyToIndexMap.has(oldKeys[oldHead])) {\n                      // Old head is no longer in new list; remove\n                      removePart(oldParts[oldHead]!);\n                      oldHead++;\n                    } else if (!newKeyToIndexMap.has(oldKeys[oldTail])) {\n                      // Old tail is no longer in new list; remove\n                      removePart(oldParts[oldTail]!);\n                      oldTail--;\n                    } else {\n                      // Any mismatches at this point are due to additions or\n                      // moves; see if we have an old part we can reuse and move\n                      // into place\n                      const oldIndex = oldKeyToIndexMap.get(newKeys[newHead]);\n                      const oldPart =\n                          oldIndex !== undefined ? oldParts[oldIndex] : null;\n                      if (oldPart === null) {\n                        // No old part for this value; create a new one and\n                        // insert it\n                        const newPart = createAndInsertPart(\n                            containerPart, oldParts[oldHead]!);\n                        updatePart(newPart, newValues[newHead]);\n                        newParts[newHead] = newPart;\n                      } else {\n                        // Reuse old part\n                        newParts[newHead] =\n                            updatePart(oldPart, newValues[newHead]);\n                        insertPartBefore(\n                            containerPart, oldPart, oldParts[oldHead]!);\n                        // This marks the old part as having been used, so that\n                        // it will be skipped in the first two checks above\n                        oldParts[oldIndex as number] = null;\n                      }\n                      newHead++;\n                    }\n                  }\n                }\n                // Add parts for any remaining new values\n                while (newHead <= newTail) {\n                  // For all remaining additions, we insert before last new\n                  // tail, since old pointers are no longer valid\n                  const newPart =\n                      createAndInsertPart(containerPart, newParts[newTail + 1]);\n                  updatePart(newPart, newValues[newHead]);\n                  newParts[newHead++] = newPart;\n                }\n                // Remove any remaining unused old parts\n                while (oldHead <= oldTail) {\n                  const oldPart = oldParts[oldHead++];\n                  if (oldPart !== null) {\n                    removePart(oldPart);\n                  }\n                }\n                // Save order of new parts for next round\n                partListCache.set(containerPart, newParts);\n                keyListCache.set(containerPart, newKeys);\n              };\n            }) as\n    <T>(items: Iterable<T>,\n        keyFnOrTemplate: KeyFn<T>|ItemTemplate<T>,\n        template?: ItemTemplate<T>) => DirectiveFn;\n","export function toUTCDate(y: number, m: number, d: number): Date {\n  return new Date(Date.UTC(y, m, d));\n}\n","import { html } from 'lit-element';\nexport const iconChevronLeft = html `<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"></path></svg>`;\nexport const iconChevronRight = html `<svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"></path></svg>`;\n","import { css } from 'lit-element';\nexport const resetButton = css `\nbutton {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n\n  position: relative;\n  display: block;\n  margin: 0;\n  padding: 0;\n  background: none; /** NOTE: IE11 fix */\n  color: inherit;\n  border: none;\n  font: inherit;\n  text-align: left;\n  text-transform: inherit;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n`;\nexport const resetAnchor = css `\na {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\n  position: relative;\n  display: inline-block;\n  background: initial;\n  color: inherit;\n  font: inherit;\n  text-transform: inherit;\n  text-decoration: none;\n  outline: none;\n}\na:focus,\na:focus.page-selected {\n  text-decoration: underline;\n}\n`;\nexport const resetSvgIcon = css `\nsvg {\n  display: block;\n  min-width: var(--svg-icon-min-width, 24px);\n  min-height: var(--svg-icon-min-height, 24px);\n  fill: var(--svg-icon-fill, currentColor);\n  pointer-events: none;\n}\n`;\nexport const absoluteHidden = css `[hidden] { display: none !important; }`;\nexport const datepickerVariables = css `\n:host {\n  display: block;\n\n  /* --app-datepicker-width: 300px; */\n  /* --app-datepicker-primary-color: #4285f4; */\n  /* --app-datepicker-header-height: 80px; */\n}\n\n* {\n  box-sizing: border-box;\n}\n`;\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export async function animateElement(node, opts) {\n    const { hasNativeWebAnimation = false, keyframes = [], options = { duration: 100 }, } = opts || {};\n    if (!Array.isArray(keyframes) || !keyframes.length)\n        return;\n    return new Promise((y) => {\n        if (hasNativeWebAnimation) {\n            const animationEnd = node.animate(keyframes, options);\n            animationEnd.onfinish = () => y();\n        }\n        else {\n            const [, endFrame] = keyframes || [];\n            const transitionEnd = () => {\n                node.removeEventListener('transitionend', transitionEnd);\n                y();\n            };\n            node.addEventListener('transitionend', transitionEnd);\n            node.style.transitionDuration = `${options.duration}ms`;\n            if (options.easing)\n                node.style.transitionTimingFunction = options.easing;\n            Object.keys(endFrame).forEach((n) => {\n                if (n)\n                    node.style[n] = endFrame[n];\n            });\n        }\n    });\n}\n","export function getDateRange(min, max) {\n    return +max - +min;\n}\n","import { toUTCDate } from 'nodemod/dist/calendar/helpers/to-utc-date.js';\nimport { NEXT_DAY_KEY_CODES_SET, PREV_DAY_KEY_CODES_SET } from '../constants.js';\nimport { getDateRange } from './get-date-range.js';\nexport function getNextSelectableDate({ keyCode, disabledDaysSet, disabledDatesSet, focusedDate, maxTime, minTime, }) {\n    const focusedDateTime = +focusedDate;\n    let isLessThanMinTime = focusedDateTime < minTime;\n    let isMoreThanMaxTime = focusedDateTime > maxTime;\n    if (getDateRange(minTime, maxTime) < 864e5)\n        return focusedDate;\n    let isDisabledDay = isLessThanMinTime ||\n        isMoreThanMaxTime ||\n        disabledDaysSet.has(focusedDate.getUTCDay()) ||\n        disabledDatesSet.has(focusedDateTime);\n    if (!isDisabledDay)\n        return focusedDate;\n    let selectableFocusedDateTime = 0;\n    let selectableFocusedDate = isLessThanMinTime === isMoreThanMaxTime ?\n        focusedDate : new Date(isLessThanMinTime ? minTime - 864e5 : 864e5 + maxTime);\n    const fy = selectableFocusedDate.getUTCFullYear();\n    const m = selectableFocusedDate.getUTCMonth();\n    let d = selectableFocusedDate.getUTCDate();\n    while (isDisabledDay) {\n        if (isLessThanMinTime || (!isMoreThanMaxTime && NEXT_DAY_KEY_CODES_SET.has(keyCode)))\n            d += 1;\n        if (isMoreThanMaxTime || (!isLessThanMinTime && PREV_DAY_KEY_CODES_SET.has(keyCode)))\n            d -= 1;\n        selectableFocusedDate = toUTCDate(fy, m, d);\n        selectableFocusedDateTime = +selectableFocusedDate;\n        if (!isLessThanMinTime) {\n            isLessThanMinTime = selectableFocusedDateTime < minTime;\n            if (isLessThanMinTime) {\n                selectableFocusedDate = new Date(minTime);\n                selectableFocusedDateTime = +selectableFocusedDate;\n                d = selectableFocusedDate.getUTCDate();\n            }\n        }\n        if (!isMoreThanMaxTime) {\n            isMoreThanMaxTime = selectableFocusedDateTime > maxTime;\n            if (isMoreThanMaxTime) {\n                selectableFocusedDate = new Date(maxTime);\n                selectableFocusedDateTime = +selectableFocusedDate;\n                d = selectableFocusedDate.getUTCDate();\n            }\n        }\n        isDisabledDay =\n            disabledDaysSet.has(selectableFocusedDate.getUTCDay()) ||\n                disabledDatesSet.has(selectableFocusedDateTime);\n    }\n    return selectableFocusedDate;\n}\n","import { toUTCDate } from 'nodemod/dist/calendar/helpers/to-utc-date.js';\nimport { NEXT_KEY_CODES_SET, PREV_KEY_CODES_SET } from '../constants.js';\nimport '../custom_typings.js';\nimport { getNextSelectableDate } from './get-selectable-date.js';\nexport function computeNextFocusedDate({ hasAltKey, keyCode, focusedDate, selectedDate, disabledDaysSet, disabledDatesSet, minTime, maxTime, }) {\n    const oldFy = focusedDate.getUTCFullYear();\n    const oldM = focusedDate.getUTCMonth();\n    const oldD = focusedDate.getUTCDate();\n    const focusedDateTime = +focusedDate;\n    const sdFy = selectedDate.getUTCFullYear();\n    const sdM = selectedDate.getUTCMonth();\n    const notInCurrentMonth = sdM !== oldM || sdFy !== oldFy;\n    let fy = oldFy;\n    let m = oldM;\n    let d = oldD;\n    let shouldRunSwitch = true;\n    if (notInCurrentMonth) {\n        fy = sdFy;\n        m = sdM;\n        d = 1;\n        shouldRunSwitch =\n            keyCode === 34 ||\n                keyCode === 33 ||\n                keyCode === 35;\n    }\n    switch (shouldRunSwitch) {\n        case focusedDateTime === minTime && PREV_KEY_CODES_SET.has(keyCode):\n        case focusedDateTime === maxTime && NEXT_KEY_CODES_SET.has(keyCode):\n            break;\n        case keyCode === 38: {\n            d -= 7;\n            break;\n        }\n        case keyCode === 40: {\n            d += 7;\n            break;\n        }\n        case keyCode === 37: {\n            d -= 1;\n            break;\n        }\n        case keyCode === 39: {\n            d += 1;\n            break;\n        }\n        case keyCode === 34: {\n            hasAltKey ? fy += 1 : m += 1;\n            break;\n        }\n        case keyCode === 33: {\n            hasAltKey ? fy -= 1 : m -= 1;\n            break;\n        }\n        case keyCode === 35: {\n            m += 1;\n            d = 0;\n            break;\n        }\n        case keyCode === 36:\n        default: {\n            d = 1;\n        }\n    }\n    if (keyCode === 34 || keyCode === 33) {\n        const totalDaysOfMonth = toUTCDate(fy, m + 1, 0).getUTCDate();\n        if (d > totalDaysOfMonth) {\n            d = totalDaysOfMonth;\n        }\n    }\n    const newFocusedDate = getNextSelectableDate({\n        keyCode,\n        maxTime,\n        minTime,\n        disabledDaysSet,\n        disabledDatesSet,\n        focusedDate: toUTCDate(fy, m, d),\n    });\n    return newFocusedDate;\n}\n","export function dispatchCustomEvent(target, eventName, detail) {\n    return target.dispatchEvent(new CustomEvent(eventName, {\n        detail,\n        bubbles: true,\n        composed: true,\n    }));\n}\n","export function findShadowTarget(ev, callback) {\n    return ev.composedPath().find((n) => {\n        if (n instanceof HTMLElement)\n            return callback(n);\n        return false;\n    });\n}\n","import { getFormatter } from 'nodemod/dist/calendar/helpers/get-formatter.js';\nimport { INTL_DATE_TIME_FORMAT } from '../constants.js';\nexport function getFormatters(locale) {\n    const dateFmt = INTL_DATE_TIME_FORMAT(locale, {\n        timeZone: 'UTC',\n        weekday: 'short',\n        month: 'short',\n        day: 'numeric',\n    });\n    const dayFmt = INTL_DATE_TIME_FORMAT(locale, { timeZone: 'UTC', day: 'numeric' });\n    const fullDateFmt = INTL_DATE_TIME_FORMAT(locale, {\n        timeZone: 'UTC',\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n    });\n    const longMonthYearFmt = INTL_DATE_TIME_FORMAT(locale, {\n        timeZone: 'UTC',\n        year: 'numeric',\n        month: 'long',\n    });\n    const longWeekdayFmt = INTL_DATE_TIME_FORMAT(locale, { timeZone: 'UTC', weekday: 'long' });\n    const narrowWeekdayFmt = INTL_DATE_TIME_FORMAT(locale, { timeZone: 'UTC', weekday: 'narrow' });\n    const yearFmt = INTL_DATE_TIME_FORMAT(locale, { timeZone: 'UTC', year: 'numeric' });\n    return {\n        locale,\n        dateFormat: getFormatter(dateFmt),\n        dayFormat: getFormatter(dayFmt),\n        fullDateFormat: getFormatter(fullDateFmt),\n        longMonthYearFormat: getFormatter(longMonthYearFmt),\n        longWeekdayFormat: getFormatter(longWeekdayFmt),\n        narrowWeekdayFormat: getFormatter(narrowWeekdayFmt),\n        yearFormat: getFormatter(yearFmt),\n    };\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import type { CalendarWeekday } from '../typings.js';\nimport { toUTCDate } from './to-utc-date.js';\nimport type { GetWeekdaysInit } from './typings.js';\n\nexport function getWeekdays(init: GetWeekdaysInit): CalendarWeekday[] {\n  const {\n    firstDayOfWeek = 0,\n    showWeekNumber = false,\n    weekLabel,\n\n    longWeekdayFormat,\n    narrowWeekdayFormat,\n  } = init || {};\n\n  const fixedFirstDayOfWeek = 1 + ((firstDayOfWeek + (firstDayOfWeek < 0 ? 7 : 0)) % 7);\n  const weekLabel2 = weekLabel || 'Wk';\n  const initialValue: CalendarWeekday[] =\n    showWeekNumber ?\n    [{\n      label: weekLabel2 === 'Wk' ? 'Week' : weekLabel2,\n      value: weekLabel2,\n    }] :\n    [];\n\n  const weekdays = Array.from(Array(7)).reduce<CalendarWeekday[]>((p, _, i) => {\n    const d = toUTCDate(2017, 0, fixedFirstDayOfWeek + i);\n\n    /** NOTE: Stripping LTR mark away for x-browser compatibilities and consistency reason */\n    p.push({\n      label: longWeekdayFormat(d),\n      value: narrowWeekdayFormat(d),\n    });\n\n    return p;\n  }, initialValue);\n\n  return weekdays;\n}\n","import type { WeekNumberType } from '../typings.js';\nimport { toUTCDate } from './to-utc-date.js';\n\nfunction getNormalizedDate(weekNumberType: WeekNumberType, date: Date): Date {\n  const fy = date.getUTCFullYear();\n  const m = date.getUTCMonth();\n  const d = date.getUTCDate();\n  const wd = date.getUTCDay();\n\n  let offset = wd;\n\n  if (weekNumberType === 'first-4-day-week') offset = 3;\n  if (weekNumberType === 'first-day-of-year') offset = 6;\n  if (weekNumberType === 'first-full-week') offset = 0;\n\n  return toUTCDate(fy, m, d - wd + offset);\n}\n\n/**\n * {@link https://bit.ly/2UvEN2y Compute week number by type}\n */\nexport function getWeekNumber(weekNumberType: WeekNumberType, date: Date): number {\n  const normalizedDate = getNormalizedDate(weekNumberType, date);\n  const firstDayOfYear = toUTCDate(normalizedDate.getUTCFullYear(), 0, 1);\n  const numDays = 1 + ((+normalizedDate - +firstDayOfYear) / 864e5);\n\n  return Math.ceil(numDays / 7);\n}\n","export function toValidWeekday(weekday: number): number {\n  if (weekday >= 0 && weekday < 7) return Math.abs(weekday);\n\n  const weekdayOffset = weekday < 0 ? 7 * Math.ceil(Math.abs(weekday)) : 0;\n\n  return (weekdayOffset + weekday) % 7;\n}\n","import { getWeekNumber } from './helpers/get-week-number.js';\nimport { normalizeWeekday } from './helpers/normalize-weekday.js';\nimport { toUTCDate } from './helpers/to-utc-date.js';\nimport { toValidWeekday } from './helpers/to-valid-weekday.js';\nimport type { Calendar, CalendarDay, CalendarInit } from './typings.js';\n\n//  Month Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\n//  Days   31  28  31  30  31  30  31  31  30  31  30  31\n//   31?    0       2       4       6   7       9      11\n//   30?                3       5           8      10\n//  Feb?        1\n//  Su Mo Tu We Th Fr Sa    startDay - _firstDayOfWeek\n//                  1  2        5 - 0 < 0 ? 6 : 5 - 0;\n//  Mo Tu We Th Fr Sa Su\n//               1  2  3        5 - 1 < 0 ? 6 : 5 - 1;\n//  Tu We Th Fr Sa Su Mo\n//            1  2  3  4        5 - 2 < 0 ? 6 : 5 - 2;\n//  We Th Fr Sa Su Mo Tu\n//         1  2  3  4  5        5 - 3 < 0 ? 6 : 5 - 3;\n//  Th Fr Sa Su Mo Tu We\n//      1  2  3  4  5  6        5 - 4 < 0 ? 6 : 5 - 4;\n//  Fr Sa Su Mo Tu We Th\n//   1  2  3  4  5  6  7        5 - 5 < 0 ? 6 : 5 - 5;\n//  Sa Su Mo Tu We Th Fr\n//                     1        5 - 6 < 0 ? 6 : 5 - 6;\nexport function calendar(init: CalendarInit): Calendar {\n  const {\n    date,\n    dayFormat,\n    disabledDates = [],\n    disabledDays = [],\n    firstDayOfWeek = 0,\n    fullDateFormat,\n    locale = 'en-US',\n    max,\n    min,\n    showWeekNumber = false,\n    weekLabel = 'Week',\n    weekNumberType = 'first-4-day-week',\n  }: CalendarInit = init || {};\n\n  const firstDayOfWeek2 = toValidWeekday(firstDayOfWeek);\n\n  const dateYear = date.getUTCFullYear();\n  const dateMonth = date.getUTCMonth();\n  const firstDateOfMonth = toUTCDate(dateYear, dateMonth, 1);\n\n  const disabledDaysSet = new Set(\n    disabledDays.map(n => normalizeWeekday(n, firstDayOfWeek2, showWeekNumber))\n  );\n  const disabledDatesSet = new Set(disabledDates.map(n => +n));\n  const calendarKey = [\n    firstDateOfMonth.toJSON(),\n    firstDayOfWeek2,\n    locale,\n    null == max ? '' : max.toJSON(),\n    null == min ? '' : min.toJSON(),\n    Array.from(disabledDaysSet).join(','),\n    Array.from(disabledDatesSet).join(','),\n    weekNumberType,\n  ].filter(Boolean).join(':');\n\n  const firstDayOfWeekOffset =\n    normalizeWeekday(firstDateOfMonth.getUTCDay(), firstDayOfWeek2, showWeekNumber);\n  const minTime = null == min ? +new Date('2000-01-01') : +min;\n  const maxTime = null == max ? +new Date('2100-12-31') : +max;\n  const colNum = showWeekNumber ? 8 : 7;\n  const totalDays = toUTCDate(dateYear, 1 + dateMonth, 0).getUTCDate();\n  const rows: CalendarDay[][] = [];\n\n  let cols: CalendarDay[] = [];\n  let calendarComplete = false;\n  let curDay = 1;\n\n  /**\n   * This would be constant since there are only in total of 6x7 cells in calendar month.\n   * Only some cells will be filled with day depends on the value of `totalDays`.\n   * Others will be empty (not-filled cells).\n   */\n  for (const row of [0, 1, 2, 3, 4, 5]) {\n    for (const col of ([0, 1, 2, 3, 4, 5, 6].concat(colNum === 7 ? [] : [7]))) {\n      const idx = col + (row * colNum);\n\n      // Week label when week number needs to be shown\n      if (!calendarComplete && showWeekNumber && col === 0) {\n        const weekNumberOffset = row < 1 ? firstDayOfWeek2 : 0;\n\n        const weekNumber = getWeekNumber(\n          weekNumberType,\n          toUTCDate(dateYear, dateMonth, curDay - weekNumberOffset)\n        );\n        const wkLabel = `${weekLabel} ${weekNumber}`;\n\n        cols.push({\n          fullDate: null,\n          label: wkLabel,\n          value: `${weekNumber}`,\n          key: `${calendarKey}:${wkLabel}`,\n          disabled: true,\n        });\n\n        continue;\n      }\n\n      // Empty days before and after the actual calendar days of the month\n      if (calendarComplete || idx < firstDayOfWeekOffset) {\n        cols.push({\n          fullDate: null,\n          label: '',\n          value: '',\n          key: `${calendarKey}:${idx}`,\n          disabled: true,\n        });\n\n        continue;\n      }\n\n      const curDate = toUTCDate(dateYear, dateMonth, curDay);\n      const curTime = +curDate;\n      const isDisabledDay =\n        disabledDaysSet.has(col) ||\n        disabledDatesSet.has(curTime) ||\n        (curTime < minTime || curTime > maxTime);\n\n      if (isDisabledDay) disabledDatesSet.add(curTime);\n\n      cols.push({\n        fullDate: curDate,\n        /** NOTE: Stripping LTR mark away for x-browser compatibilities and consistency reason */\n        label: fullDateFormat(curDate),\n        value: dayFormat(curDate),\n        key: `${calendarKey}:${curDate.toJSON()}`,\n        disabled: isDisabledDay,\n      });\n\n      curDay += 1;\n\n      if (curDay > totalDays) calendarComplete = true;\n    }\n\n    rows.push(cols);\n    cols = [];\n  }\n\n  return {\n    disabledDatesSet,\n    calendar: rows,\n    disabledDaysSet: new Set(disabledDays.map(n => toValidWeekday(n))),\n    key: calendarKey,\n  };\n}\n","import { getWeekdays } from 'nodemod/dist/calendar/helpers/get-weekdays.js';\nimport { toUTCDate } from 'nodemod/dist/calendar/helpers/to-utc-date.js';\nimport { calendar } from 'nodemod/dist/calendar/index.js';\nexport function getMultiCalendars(options) {\n    const { dayFormat, fullDateFormat, locale, longWeekdayFormat, narrowWeekdayFormat, selectedDate, disabledDates, disabledDays, firstDayOfWeek, max, min, showWeekNumber, weekLabel, weekNumberType, } = options;\n    const minTime = min == null ? Number.MIN_SAFE_INTEGER : +min;\n    const maxTime = max == null ? Number.MAX_SAFE_INTEGER : +max;\n    const weekdays = getWeekdays({\n        longWeekdayFormat,\n        narrowWeekdayFormat,\n        firstDayOfWeek,\n        showWeekNumber,\n        weekLabel,\n    });\n    const getKey = (date) => [\n        locale,\n        date.toJSON(),\n        disabledDates === null || disabledDates === void 0 ? void 0 : disabledDates.join('_'),\n        disabledDays === null || disabledDays === void 0 ? void 0 : disabledDays.join('_'),\n        firstDayOfWeek,\n        max === null || max === void 0 ? void 0 : max.toJSON(),\n        min === null || min === void 0 ? void 0 : min.toJSON(),\n        showWeekNumber,\n        weekLabel,\n        weekNumberType,\n    ].filter(Boolean).join(':');\n    const ify = selectedDate.getUTCFullYear();\n    const im = selectedDate.getUTCMonth();\n    const calendarsList = [-1, 0, 1].map((n) => {\n        const firstDayOfMonth = toUTCDate(ify, im + n, 1);\n        const lastDayOfMonthTime = +toUTCDate(ify, im + n + 1, 0);\n        const key = getKey(firstDayOfMonth);\n        if (lastDayOfMonthTime < minTime || +firstDayOfMonth > maxTime) {\n            return {\n                key,\n                calendar: [],\n                disabledDatesSet: new Set(),\n                disabledDaysSet: new Set(),\n            };\n        }\n        const calendarDays = calendar({\n            dayFormat,\n            fullDateFormat,\n            locale,\n            disabledDates,\n            disabledDays,\n            firstDayOfWeek,\n            max,\n            min,\n            showWeekNumber,\n            weekLabel,\n            weekNumberType,\n            date: firstDayOfMonth,\n        });\n        return { ...calendarDays, key };\n    });\n    const calendars = [];\n    const $disabledDatesSet = new Set();\n    const $disabledDaysSet = new Set();\n    for (const cal of calendarsList) {\n        const { disabledDatesSet, disabledDaysSet, ...rest } = cal;\n        if (rest.calendar.length > 0) {\n            if (disabledDaysSet.size > 0) {\n                for (const o of disabledDaysSet)\n                    $disabledDaysSet.add(o);\n            }\n            if (disabledDatesSet.size > 0) {\n                for (const o of disabledDatesSet)\n                    $disabledDatesSet.add(o);\n            }\n        }\n        calendars.push(rest);\n    }\n    return {\n        calendars,\n        weekdays,\n        disabledDatesSet: $disabledDatesSet,\n        disabledDaysSet: $disabledDaysSet,\n        key: getKey(selectedDate),\n    };\n}\n","import { toUTCDate } from 'nodemod/dist/calendar/helpers/to-utc-date.js';\nexport function getResolvedDate(date) {\n    const dateDate = date == null ? new Date() : new Date(date);\n    const isUTCDateFormat = typeof date === 'string' && (/^\\d{4}-\\d{2}-\\d{2}$/i.test(date) ||\n        /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}(Z|\\+00:00|-00:00)$/i.test(date));\n    const isUnixTimestamp = typeof date === 'number' && date > 0 && isFinite(date);\n    let fy = dateDate.getFullYear();\n    let m = dateDate.getMonth();\n    let d = dateDate.getDate();\n    if (isUTCDateFormat || isUnixTimestamp) {\n        fy = dateDate.getUTCFullYear();\n        m = dateDate.getUTCMonth();\n        d = dateDate.getUTCDate();\n    }\n    return toUTCDate(fy, m, d);\n}\n","import { INTL_DATE_TIME_FORMAT } from '../constants.js';\nexport function getResolvedLocale() {\n    return (INTL_DATE_TIME_FORMAT &&\n        INTL_DATE_TIME_FORMAT().resolvedOptions &&\n        INTL_DATE_TIME_FORMAT().resolvedOptions().locale) || 'en-US';\n}\n","export function hasClass(target, className) {\n    return target.classList.contains(className);\n}\n","export function isValidDate(date, dateDate) {\n    return !(date == null || !(dateDate instanceof Date) || isNaN(+dateDate));\n}\n","export function makeNumberPrecise(num) {\n    return (num - Math.floor(num)) > 0 ? +num.toFixed(3) : num;\n}\n","export function passiveHandler(cb) {\n    return { passive: true, handleEvent: cb };\n}\n","export function splitString(dateString, cb) {\n    const dateList = typeof dateString === 'string' && dateString.length > 0\n        ? dateString.split(/,\\s*/i)\n        : [];\n    if (!dateList.length)\n        return [];\n    return typeof cb === 'function' ? dateList.map(cb) : dateList;\n}\n","export function targetScrollTo(target, scrollToOptions) {\n    if (target.scrollTo == null) {\n        const { top, left } = scrollToOptions || {};\n        target.scrollTop = top || 0;\n        target.scrollLeft = left || 0;\n    }\n    else {\n        target.scrollTo(scrollToOptions);\n    }\n}\n","export function toFormattedDateString(date) {\n    if (date instanceof Date && !isNaN(+date)) {\n        const dateString = date.toJSON();\n        return dateString == null ? '' : dateString.replace(/^(.+)T.+/i, '$1');\n    }\n    return '';\n}\n","import { getDateRange } from './get-date-range.js';\nexport function toYearList(min, max) {\n    if (getDateRange(min, max) < 864e5)\n        return [];\n    const fy = min.getUTCFullYear();\n    return Array.from(Array(max.getUTCFullYear() - fy + 1), (_, i) => i + fy);\n}\n","export function updateYearWithMinMax(date, min, max) {\n    const dateTime = typeof date === 'number' ? date : +date;\n    const minTime = +min;\n    const maxTime = +max;\n    if (dateTime < minTime)\n        return minTime;\n    if (dateTime > maxTime)\n        return maxTime;\n    return date;\n}\n","/**\n@license\nCopyright 2018 Google Inc. All Rights Reserved.\n\nLicensed under the Apache License, Version 2.0 (the \"License\");\nyou may not use this file except in compliance with the License.\nYou may obtain a copy of the License at\n\n    http://www.apache.org/licenses/LICENSE-2.0\n\nUnless required by applicable law or agreed to in writing, software\ndistributed under the License is distributed on an \"AS IS\" BASIS,\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\nSee the License for the specific language governing permissions and\nlimitations under the License.\n*/\n\n/**\n * Return an element assigned to a given slot that matches the given selector\n */\n\nimport {matches} from '@material/dom/ponyfill';\n\n/**\n * Determines whether a node is an element.\n *\n * @param node Node to check\n */\nexport const isNodeElement = (node: Node): node is Element => {\n  return node.nodeType === Node.ELEMENT_NODE;\n};\n\nexport function findAssignedElement(slot: HTMLSlotElement, selector: string) {\n  for (const node of slot.assignedNodes({flatten: true})) {\n    if (isNodeElement(node)) {\n      const el = (node as HTMLElement);\n      if (matches(el, selector)) {\n        return el;\n      }\n    }\n  }\n\n  return null;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type Constructor<T> = new (...args: any[]) => T;\n\nexport function addHasRemoveClass(element: HTMLElement) {\n  return {\n    addClass: (className: string) => {\n      element.classList.add(className);\n    },\n    removeClass: (className: string) => {\n      element.classList.remove(className);\n    },\n    hasClass: (className: string) => element.classList.contains(className),\n  };\n}\n\nlet supportsPassive = false;\nconst fn = () => { /* empty listener */ };\nconst optionsBlock: AddEventListenerOptions = {\n  get passive() {\n    supportsPassive = true;\n    return false;\n  }\n};\ndocument.addEventListener('x', fn, optionsBlock);\ndocument.removeEventListener('x', fn);\n/**\n * Do event listeners suport the `passive` option?\n */\nexport const supportsPassiveEventListener = supportsPassive;\n\nexport const deepActiveElementPath = (doc = window.document): Element[] => {\n  let activeElement = doc.activeElement;\n  const path: Element[] = [];\n\n  if (!activeElement) {\n    return path;\n  }\n\n  while (activeElement) {\n    path.push(activeElement);\n    if (activeElement.shadowRoot) {\n      activeElement = activeElement.shadowRoot.activeElement;\n    } else {\n      break;\n    }\n  }\n\n  return path;\n};\n\nexport const doesElementContainFocus = (element: HTMLElement): boolean => {\n  const activePath = deepActiveElementPath();\n\n  if (!activePath.length) {\n    return false;\n  }\n\n  const deepActiveElement = activePath[activePath.length - 1];\n  const focusEv =\n      new Event('check-if-focused', {bubbles: true, composed: true});\n  let composedPath: EventTarget[] = [];\n  const listener = (ev: Event) => {\n    composedPath = ev.composedPath();\n  };\n\n  document.body.addEventListener('check-if-focused', listener);\n  deepActiveElement.dispatchEvent(focusEv);\n  document.body.removeEventListener('check-if-focused', listener);\n\n  return composedPath.indexOf(element) !== -1;\n};\n\nexport interface RippleInterface {\n  startPress: (e?: Event) => void;\n  endPress: () => void;\n  startFocus: () => void;\n  endFocus: () => void;\n  startHover: () => void;\n  endHover: () => void;\n}\n","import { supportsPassiveEventListener } from '@material/mwc-base/utils.js';\nfunction toPointer(ev) {\n    const { clientX, clientY, pageX, pageY } = ev;\n    const x = Math.max(pageX, clientX);\n    const y = Math.max(pageY, clientY);\n    const id = ev.identifier || ev.pointerId;\n    return { x, y, id: id == null ? 0 : id };\n}\nfunction getFirstTouch(startPointer, ev) {\n    const changedTouches = ev.changedTouches;\n    if (changedTouches == null)\n        return { newPointer: toPointer(ev), oldPointer: startPointer };\n    const touches = Array.from(changedTouches, n => toPointer(n));\n    const newPointer = startPointer == null\n        ? touches[0]\n        : touches.find(n => n.id === startPointer.id);\n    return { newPointer, oldPointer: startPointer };\n}\nfunction addPassiveEventListener(node, event, callback) {\n    node.addEventListener(event, callback, supportsPassiveEventListener ? { passive: true } : false);\n}\nexport class Tracker {\n    constructor(_element, handlers) {\n        this._element = _element;\n        this._startPointer = null;\n        const { down, move, up } = handlers;\n        this._down = this._onDown(down);\n        this._move = this._onMove(move);\n        this._up = this._onUp(up);\n        if (_element && _element.addEventListener) {\n            _element.addEventListener('mousedown', this._down);\n            addPassiveEventListener(_element, 'touchstart', this._down);\n            addPassiveEventListener(_element, 'touchmove', this._move);\n            addPassiveEventListener(_element, 'touchend', this._up);\n        }\n    }\n    disconnect() {\n        const rootEl = this._element;\n        if (rootEl && rootEl.removeEventListener) {\n            rootEl.removeEventListener('mousedown', this._down);\n            rootEl.removeEventListener('touchstart', this._down);\n            rootEl.removeEventListener('touchmove', this._move);\n            rootEl.removeEventListener('touchend', this._up);\n        }\n    }\n    _onDown(down) {\n        return (ev) => {\n            if (ev instanceof MouseEvent) {\n                this._element.addEventListener('mousemove', this._move);\n                this._element.addEventListener('mouseup', this._up);\n                this._element.addEventListener('mouseleave', this._up);\n            }\n            const { newPointer } = getFirstTouch(this._startPointer, ev);\n            down(newPointer, ev);\n            this._startPointer = newPointer;\n        };\n    }\n    _onMove(move) {\n        return (ev) => {\n            this._updatePointers(move, ev);\n        };\n    }\n    _onUp(up) {\n        return (ev) => {\n            this._updatePointers(up, ev, true);\n        };\n    }\n    _updatePointers(cb, ev, shouldReset) {\n        if (shouldReset && ev instanceof MouseEvent) {\n            this._element.removeEventListener('mousemove', this._move);\n            this._element.removeEventListener('mouseup', this._up);\n            this._element.removeEventListener('mouseleave', this._up);\n        }\n        const { newPointer, oldPointer } = getFirstTouch(this._startPointer, ev);\n        cb(newPointer, oldPointer, ev);\n        this._startPointer = shouldReset ? null : newPointer;\n    }\n}\n","import { __decorate } from \"tslib\";\nimport { css, eventOptions, html, LitElement, property, query, } from 'lit-element';\nimport { cache } from 'lit-html/directives/cache.js';\nimport { classMap } from 'lit-html/directives/class-map.js';\nimport { repeat } from 'lit-html/directives/repeat.js';\nimport { toUTCDate } from 'nodemod/dist/calendar/helpers/to-utc-date.js';\nimport { iconChevronLeft, iconChevronRight } from './app-datepicker-icons.js';\nimport { datepickerVariables, resetButton } from './common-styles.js';\nimport { ALL_NAV_KEYS_SET } from './constants.js';\nimport './custom_typings.js';\nimport { animateElement } from './helpers/animate-element.js';\nimport { computeNextFocusedDate } from './helpers/compute-next-focus-date.js';\nimport { dispatchCustomEvent } from './helpers/dispatch-custom-event.js';\nimport { findShadowTarget } from './helpers/find-shadow-target.js';\nimport { getDateRange } from './helpers/get-date-range.js';\nimport { getFormatters } from './helpers/get-formatters.js';\nimport { getMultiCalendars } from './helpers/get-multi-calendars.js';\nimport { getResolvedDate } from './helpers/get-resolved-date.js';\nimport { getResolvedLocale } from './helpers/get-resolved-locale.js';\nimport { hasClass } from './helpers/has-class.js';\nimport { isValidDate } from './helpers/is-valid-date.js';\nimport { makeNumberPrecise } from './helpers/make-number-precise.js';\nimport { passiveHandler } from './helpers/passive-handler.js';\nimport { splitString } from './helpers/split-string.js';\nimport { targetScrollTo } from './helpers/target-scroll-to.js';\nimport { toFormattedDateString } from './helpers/to-formatted-date-string.js';\nimport { toYearList } from './helpers/to-year-list.js';\nimport { updateYearWithMinMax } from './helpers/update-year-with-min-max.js';\nimport { Tracker } from './tracker.js';\nexport class Datepicker extends LitElement {\n    constructor() {\n        super();\n        this.firstDayOfWeek = 0;\n        this.showWeekNumber = false;\n        this.weekNumberType = 'first-4-day-week';\n        this.landscape = false;\n        this.locale = getResolvedLocale();\n        this.disabledDays = '';\n        this.disabledDates = '';\n        this.weekLabel = 'Wk';\n        this.inline = false;\n        this.dragRatio = .15;\n        this._hasMin = false;\n        this._hasMax = false;\n        this._disabledDaysSet = new Set();\n        this._disabledDatesSet = new Set();\n        this._dx = -Infinity;\n        this._hasNativeWebAnimation = 'animate' in HTMLElement.prototype;\n        this._updatingDateWithKey = false;\n        const todayDate = getResolvedDate();\n        const allFormatters = getFormatters(this.locale);\n        const formattedTodayDate = toFormattedDateString(todayDate);\n        const max = getResolvedDate('2100-12-31');\n        this.value = formattedTodayDate;\n        this.startView = 'calendar';\n        this._min = new Date(todayDate);\n        this._max = new Date(max);\n        this._todayDate = todayDate;\n        this._maxDate = max;\n        this._yearList = toYearList(todayDate, max);\n        this._selectedDate = new Date(todayDate);\n        this._focusedDate = new Date(todayDate);\n        this._formatters = allFormatters;\n    }\n    get startView() {\n        return this._startView;\n    }\n    set startView(val) {\n        const defaultVal = !val ? 'calendar' : val;\n        if (defaultVal !== 'calendar' && defaultVal !== 'yearList')\n            return;\n        const oldVal = this._startView;\n        this._startView = defaultVal;\n        this.requestUpdate('startView', oldVal);\n    }\n    get min() {\n        return this._hasMin ? toFormattedDateString(this._min) : '';\n    }\n    set min(val) {\n        const valDate = getResolvedDate(val);\n        const isValidMin = isValidDate(val, valDate);\n        this._min = isValidMin ? valDate : this._todayDate;\n        this._hasMin = isValidMin;\n        this.requestUpdate('min');\n    }\n    get max() {\n        return this._hasMax ? toFormattedDateString(this._max) : '';\n    }\n    set max(val) {\n        const valDate = getResolvedDate(val);\n        const isValidMax = isValidDate(val, valDate);\n        this._max = isValidMax ? valDate : this._maxDate;\n        this._hasMax = isValidMax;\n        this.requestUpdate('max');\n    }\n    get value() {\n        return toFormattedDateString(this._focusedDate);\n    }\n    set value(val) {\n        const valDate = getResolvedDate(val);\n        const validValue = isValidDate(val, valDate) ? valDate : this._todayDate;\n        this._focusedDate = new Date(validValue);\n        this._selectedDate = this._lastSelectedDate = new Date(validValue);\n    }\n    get datepickerBodyCalendarView() {\n        return this.shadowRoot.querySelector('.datepicker-body__calendar-view');\n    }\n    get calendarsContainer() {\n        return this.shadowRoot.querySelector('.calendars-container');\n    }\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        if (this._tracker) {\n            this._tracker.disconnect();\n            this._tracker = undefined;\n        }\n    }\n    render() {\n        if (this._formatters.locale !== this.locale)\n            this._formatters = getFormatters(this.locale);\n        const datepickerBodyContent = 'yearList' === this._startView ?\n            this._renderDatepickerYearList() : this._renderDatepickerCalendar();\n        const datepickerHeaderContent = this.inline ?\n            null :\n            html `<div class=\"datepicker-header\" part=\"header\">${this._renderHeaderSelectorButton()}</div>`;\n        return html `\n    ${datepickerHeaderContent}\n    <div class=\"datepicker-body\" part=\"body\">${cache(datepickerBodyContent)}</div>\n    `;\n    }\n    firstUpdated() {\n        let firstFocusableElement;\n        if ('calendar' === this._startView) {\n            firstFocusableElement = (this.inline ?\n                this.shadowRoot.querySelector('.btn__month-selector') :\n                this._buttonSelectorYear);\n        }\n        else {\n            firstFocusableElement = this._yearViewListItem;\n        }\n        dispatchCustomEvent(this, 'datepicker-first-updated', { firstFocusableElement, value: this.value });\n    }\n    updated(changed) {\n        const startView = this._startView;\n        if (changed.has('min') || changed.has('max')) {\n            this._yearList = toYearList(this._min, this._max);\n            if ('yearList' === startView)\n                this.requestUpdate();\n            const minTime = +this._min;\n            const maxTime = +this._max;\n            if (getDateRange(minTime, maxTime) > 864e5) {\n                const focusedDateTime = +this._focusedDate;\n                let newValue = focusedDateTime;\n                if (focusedDateTime < minTime)\n                    newValue = minTime;\n                if (focusedDateTime > maxTime)\n                    newValue = maxTime;\n                this.value = toFormattedDateString(new Date(newValue));\n            }\n        }\n        if (changed.has('_startView') || changed.has('startView')) {\n            if ('yearList' === startView) {\n                const selectedYearScrollTop = 48 * (this._selectedDate.getUTCFullYear() - this._min.getUTCFullYear() - 2);\n                targetScrollTo(this._yearViewFullList, { top: selectedYearScrollTop, left: 0 });\n            }\n            if ('calendar' === startView && null == this._tracker) {\n                const calendarsContainer = this.calendarsContainer;\n                let $down = false;\n                let $move = false;\n                let $transitioning = false;\n                if (calendarsContainer) {\n                    const handlers = {\n                        down: () => {\n                            if ($transitioning)\n                                return;\n                            $down = true;\n                            this._dx = 0;\n                        },\n                        move: (pointer, oldPointer) => {\n                            if ($transitioning || !$down)\n                                return;\n                            const dx = this._dx;\n                            const hasMin = (dx < 0 && hasClass(calendarsContainer, 'has-max-date')) ||\n                                (dx > 0 && hasClass(calendarsContainer, 'has-min-date'));\n                            if (!hasMin && Math.abs(dx) > 0 && $down) {\n                                $move = true;\n                                calendarsContainer.style.transform = `translateX(${makeNumberPrecise(dx)}px)`;\n                            }\n                            this._dx = hasMin ? 0 : dx + (pointer.x - oldPointer.x);\n                        },\n                        up: async (_$, _$$, ev) => {\n                            if ($down && $move) {\n                                const dx = this._dx;\n                                const maxWidth = calendarsContainer.getBoundingClientRect().width / 3;\n                                const didPassThreshold = Math.abs(dx) > (Number(this.dragRatio) * maxWidth);\n                                const transitionDuration = 350;\n                                const transitionEasing = 'cubic-bezier(0, 0, .4, 1)';\n                                const transformTo = didPassThreshold ? makeNumberPrecise(maxWidth * (dx < 0 ? -1 : 1)) : 0;\n                                $transitioning = true;\n                                await animateElement(calendarsContainer, {\n                                    hasNativeWebAnimation: this._hasNativeWebAnimation,\n                                    keyframes: [\n                                        { transform: `translateX(${dx}px)` },\n                                        {\n                                            transform: `translateX(${transformTo}px)`,\n                                        },\n                                    ],\n                                    options: {\n                                        duration: transitionDuration,\n                                        easing: transitionEasing,\n                                    },\n                                });\n                                if (didPassThreshold) {\n                                    this._updateMonth(dx < 0 ? 'next' : 'previous').handleEvent();\n                                }\n                                $down = $move = $transitioning = false;\n                                this._dx = -Infinity;\n                                calendarsContainer.removeAttribute('style');\n                                dispatchCustomEvent(this, 'datepicker-animation-finished');\n                            }\n                            else if ($down) {\n                                this._updateFocusedDate(ev);\n                                $down = $move = false;\n                                this._dx = -Infinity;\n                            }\n                        },\n                    };\n                    this._tracker = new Tracker(calendarsContainer, handlers);\n                }\n            }\n            if (changed.get('_startView') && 'calendar' === startView) {\n                this._focusElement('[part=\"year-selector\"]');\n            }\n        }\n        if (this._updatingDateWithKey) {\n            this._focusElement('[part=\"calendars\"]:nth-of-type(2) .day--focused');\n            this._updatingDateWithKey = false;\n        }\n    }\n    _focusElement(selector) {\n        const focusedTarget = this.shadowRoot.querySelector(selector);\n        if (focusedTarget)\n            focusedTarget.focus();\n    }\n    _renderHeaderSelectorButton() {\n        const { yearFormat, dateFormat } = this._formatters;\n        const isCalendarView = this.startView === 'calendar';\n        const focusedDate = this._focusedDate;\n        const formattedDate = dateFormat(focusedDate);\n        const formatterFy = yearFormat(focusedDate);\n        return html `\n    <button\n      class=\"${classMap({ 'btn__year-selector': true, selected: !isCalendarView })}\"\n      type=\"button\"\n      part=\"year-selector\"\n      data-view=\"${'yearList'}\"\n      @click=\"${this._updateView('yearList')}\">${formatterFy}</button>\n\n    <div class=\"datepicker-toolbar\" part=\"toolbar\">\n      <button\n        class=\"${classMap({ 'btn__calendar-selector': true, selected: isCalendarView })}\"\n        type=\"button\"\n        part=\"calendar-selector\"\n        data-view=\"${'calendar'}\"\n        @click=\"${this._updateView('calendar')}\">${formattedDate}</button>\n    </div>\n    `;\n    }\n    _renderDatepickerYearList() {\n        const { yearFormat } = this._formatters;\n        const focusedDateFy = this._focusedDate.getUTCFullYear();\n        return html `\n    <div class=\"datepicker-body__year-list-view\" part=\"year-list-view\">\n      <div class=\"year-list-view__full-list\" part=\"year-list\" @click=\"${this._updateYear}\">\n      ${this._yearList.map(n => html `<button\n        class=\"${classMap({\n            'year-list-view__list-item': true,\n            'year--selected': focusedDateFy === n,\n        })}\"\n        type=\"button\"\n        part=\"year\"\n        .year=\"${n}\">${yearFormat(toUTCDate(n, 0, 1))}</button>`)}</div>\n    </div>\n    `;\n    }\n    _renderDatepickerCalendar() {\n        const { longMonthYearFormat, dayFormat, fullDateFormat, longWeekdayFormat, narrowWeekdayFormat, } = this._formatters;\n        const disabledDays = splitString(this.disabledDays, Number);\n        const disabledDates = splitString(this.disabledDates, getResolvedDate);\n        const showWeekNumber = this.showWeekNumber;\n        const $focusedDate = this._focusedDate;\n        const firstDayOfWeek = this.firstDayOfWeek;\n        const todayDate = getResolvedDate();\n        const $selectedDate = this._selectedDate;\n        const $max = this._max;\n        const $min = this._min;\n        const { calendars, disabledDaysSet, disabledDatesSet, weekdays } = getMultiCalendars({\n            dayFormat,\n            fullDateFormat,\n            longWeekdayFormat,\n            narrowWeekdayFormat,\n            firstDayOfWeek,\n            disabledDays,\n            disabledDates,\n            locale: this.locale,\n            selectedDate: $selectedDate,\n            showWeekNumber: this.showWeekNumber,\n            weekNumberType: this.weekNumberType,\n            max: $max,\n            min: $min,\n            weekLabel: this.weekLabel,\n        });\n        const hasMinDate = !calendars[0].calendar.length;\n        const hasMaxDate = !calendars[2].calendar.length;\n        const weekdaysContent = weekdays.map(o => html `<th\n        class=\"calendar-weekday\"\n        part=\"calendar-weekday\"\n        role=\"columnheader\"\n        aria-label=\"${o.label}\"\n      >\n        <div class=\"weekday\" part=\"weekday\">${o.value}</div>\n      </th>`);\n        const calendarsContent = repeat(calendars, n => n.key, ({ calendar }, ci) => {\n            if (!calendar.length) {\n                return html `<div class=\"calendar-container\" part=\"calendar\"></div>`;\n            }\n            const calendarAriaId = `calendarcaption${ci}`;\n            const midCalendarFullDate = calendar[1][1].fullDate;\n            const isMidCalendar = ci === 1;\n            const $newFocusedDate = isMidCalendar && !this._isInVisibleMonth($focusedDate, $selectedDate) ?\n                computeNextFocusedDate({\n                    disabledDaysSet,\n                    disabledDatesSet,\n                    hasAltKey: false,\n                    keyCode: 36,\n                    focusedDate: $focusedDate,\n                    selectedDate: $selectedDate,\n                    minTime: +$min,\n                    maxTime: +$max,\n                }) :\n                $focusedDate;\n            return html `\n      <div class=\"calendar-container\" part=\"calendar\">\n        <table class=\"calendar-table\" part=\"table\" role=\"grid\" aria-labelledby=\"${calendarAriaId}\">\n          <caption id=\"${calendarAriaId}\">\n            <div class=\"calendar-label\" part=\"label\">${midCalendarFullDate ? longMonthYearFormat(midCalendarFullDate) : ''}</div>\n          </caption>\n\n          <thead role=\"rowgroup\">\n            <tr class=\"calendar-weekdays\" part=\"weekdays\" role=\"row\">${weekdaysContent}</tr>\n          </thead>\n\n          <tbody role=\"rowgroup\">${calendar.map((calendarRow) => {\n                return html `<tr role=\"row\">${calendarRow.map((calendarCol, i) => {\n                    const { disabled, fullDate, label, value } = calendarCol;\n                    if (!fullDate && value && showWeekNumber && i < 1) {\n                        return html `<th\n                      class=\"full-calendar__day weekday-label\"\n                      part=\"calendar-day\"\n                      scope=\"row\"\n                      role=\"rowheader\"\n                      abbr=\"${label}\"\n                      aria-label=\"${label}\"\n                    >${value}</th>`;\n                    }\n                    if (!value || !fullDate) {\n                        return html `<td class=\"full-calendar__day day--empty\" part=\"calendar-day\"></td>`;\n                    }\n                    const curTime = +new Date(fullDate);\n                    const isCurrentDate = +$focusedDate === curTime;\n                    const shouldTab = isMidCalendar && $newFocusedDate.getUTCDate() === Number(value);\n                    return html `\n                  <td\n                    tabindex=\"${shouldTab ? '0' : '-1'}\"\n                    class=\"${classMap({\n                        'full-calendar__day': true,\n                        'day--disabled': disabled,\n                        'day--today': +todayDate === curTime,\n                        'day--focused': !disabled && isCurrentDate,\n                    })}\"\n                    part=\"calendar-day\"\n                    role=\"gridcell\"\n                    aria-disabled=\"${disabled ? 'true' : 'false'}\"\n                    aria-label=\"${label}\"\n                    aria-selected=\"${isCurrentDate ? 'true' : 'false'}\"\n                    .fullDate=\"${fullDate}\"\n                    .day=\"${value}\"\n                  >\n                    <div class=\"calendar-day\" part=\"day\">${value}</div>\n                  </td>\n                  `;\n                })}</tr>`;\n            })}</tbody>\n        </table>\n      </div>\n      `;\n        });\n        this._disabledDatesSet = disabledDatesSet;\n        this._disabledDaysSet = disabledDaysSet;\n        return html `\n    <div class=\"datepicker-body__calendar-view\" part=\"calendar-view\">\n      <div class=\"calendar-view__month-selector\" part=\"month-selectors\">\n        <div class=\"month-selector-container\">${hasMinDate ? null : html `\n          <button\n            class=\"btn__month-selector\"\n            type=\"button\"\n            part=\"month-selector\"\n            aria-label=\"Previous month\"\n            @click=\"${this._updateMonth('previous')}\"\n          >${iconChevronLeft}</button>\n        `}</div>\n\n        <div class=\"month-selector-container\">${hasMaxDate ? null : html `\n          <button\n            class=\"btn__month-selector\"\n            type=\"button\"\n            part=\"month-selector\"\n            aria-label=\"Next month\"\n            @click=\"${this._updateMonth('next')}\"\n          >${iconChevronRight}</button>\n        `}</div>\n      </div>\n\n      <div\n        class=\"${classMap({\n            'calendars-container': true,\n            'has-min-date': hasMinDate,\n            'has-max-date': hasMaxDate,\n        })}\"\n        part=\"calendars\"\n        @keyup=\"${this._updateFocusedDateWithKeyboard}\"\n      >${calendarsContent}</div>\n    </div>\n    `;\n    }\n    _updateView(view) {\n        const handleUpdateView = () => {\n            if ('calendar' === view) {\n                this._selectedDate = this._lastSelectedDate =\n                    new Date(updateYearWithMinMax(this._focusedDate, this._min, this._max));\n            }\n            this._startView = view;\n        };\n        return passiveHandler(handleUpdateView);\n    }\n    _updateMonth(updateType) {\n        const handleUpdateMonth = () => {\n            const calendarsContainer = this.calendarsContainer;\n            if (null == calendarsContainer)\n                return this.updateComplete;\n            const dateDate = this._lastSelectedDate || this._selectedDate;\n            const minDate = this._min;\n            const maxDate = this._max;\n            const isPreviousMonth = updateType === 'previous';\n            const newSelectedDate = toUTCDate(dateDate.getUTCFullYear(), dateDate.getUTCMonth() + (isPreviousMonth ? -1 : 1), 1);\n            const newSelectedDateFy = newSelectedDate.getUTCFullYear();\n            const newSelectedDateM = newSelectedDate.getUTCMonth();\n            const minDateFy = minDate.getUTCFullYear();\n            const minDateM = minDate.getUTCMonth();\n            const maxDateFy = maxDate.getUTCFullYear();\n            const maxDateM = maxDate.getUTCMonth();\n            const isLessThanYearAndMonth = newSelectedDateFy < minDateFy ||\n                (newSelectedDateFy <= minDateFy && newSelectedDateM < minDateM);\n            const isMoreThanYearAndMonth = newSelectedDateFy > maxDateFy ||\n                (newSelectedDateFy >= maxDateFy && newSelectedDateM > maxDateM);\n            if (isLessThanYearAndMonth || isMoreThanYearAndMonth)\n                return this.updateComplete;\n            this._lastSelectedDate = newSelectedDate;\n            this._selectedDate = this._lastSelectedDate;\n            return this.updateComplete;\n        };\n        return passiveHandler(handleUpdateMonth);\n    }\n    _updateYear(ev) {\n        const selectedYearEl = findShadowTarget(ev, (n) => hasClass(n, 'year-list-view__list-item'));\n        if (selectedYearEl == null)\n            return;\n        const newFocusedDate = updateYearWithMinMax(new Date(this._focusedDate).setUTCFullYear(+selectedYearEl.year), this._min, this._max);\n        this._selectedDate = this._lastSelectedDate = new Date(newFocusedDate);\n        this._focusedDate = new Date(newFocusedDate);\n        this._startView = 'calendar';\n    }\n    _updateFocusedDate(ev) {\n        const selectedDayEl = findShadowTarget(ev, (n) => hasClass(n, 'full-calendar__day'));\n        if (selectedDayEl == null ||\n            [\n                'day--empty',\n                'day--disabled',\n                'day--focused',\n                'weekday-label',\n            ].some(n => hasClass(selectedDayEl, n)))\n            return;\n        this._focusedDate = new Date(selectedDayEl.fullDate);\n        dispatchCustomEvent(this, 'datepicker-value-updated', {\n            isKeypress: false,\n            value: this.value,\n        });\n    }\n    _updateFocusedDateWithKeyboard(ev) {\n        const keyCode = ev.keyCode;\n        if (13 === keyCode || 32 === keyCode) {\n            dispatchCustomEvent(this, 'datepicker-value-updated', {\n                keyCode,\n                isKeypress: true,\n                value: this.value,\n            });\n            this._focusedDate = new Date(this._selectedDate);\n            return;\n        }\n        if (keyCode === 9 || !ALL_NAV_KEYS_SET.has(keyCode))\n            return;\n        const selectedDate = this._selectedDate;\n        const nextFocusedDate = computeNextFocusedDate({\n            keyCode,\n            selectedDate,\n            disabledDatesSet: this._disabledDatesSet,\n            disabledDaysSet: this._disabledDaysSet,\n            focusedDate: this._focusedDate,\n            hasAltKey: ev.altKey,\n            maxTime: +this._max,\n            minTime: +this._min,\n        });\n        if (!this._isInVisibleMonth(nextFocusedDate, selectedDate)) {\n            this._selectedDate = this._lastSelectedDate = nextFocusedDate;\n        }\n        this._focusedDate = nextFocusedDate;\n        this._updatingDateWithKey = true;\n        dispatchCustomEvent(this, 'datepicker-value-updated', {\n            keyCode,\n            isKeypress: true,\n            value: this.value,\n        });\n    }\n    _isInVisibleMonth(dateA, dateB) {\n        const dateAFy = dateA.getUTCFullYear();\n        const dateAM = dateA.getUTCMonth();\n        const dateBFY = dateB.getUTCFullYear();\n        const dateBM = dateB.getUTCMonth();\n        return dateAFy === dateBFY && dateAM === dateBM;\n    }\n}\nDatepicker.styles = [\n    datepickerVariables,\n    resetButton,\n    css `\n    :host {\n      width: 312px;\n      /** NOTE: Magic number as 16:9 aspect ratio does not look good */\n      /* height: calc((var(--app-datepicker-width) / .66) - var(--app-datepicker-footer-height, 56px)); */\n      background-color: var(--app-datepicker-bg-color, #fff);\n      color: var(--app-datepicker-color, #000);\n      border-radius:\n        var(--app-datepicker-border-top-left-radius, 0)\n        var(--app-datepicker-border-top-right-radius, 0)\n        var(--app-datepicker-border-bottom-right-radius, 0)\n        var(--app-datepicker-border-bottom-left-radius, 0);\n      contain: content;\n      overflow: hidden;\n    }\n    :host([landscape]) {\n      display: flex;\n\n      /** <iphone-5-landscape-width> - <standard-side-margin-width> */\n      min-width: calc(568px - 16px * 2);\n      width: calc(568px - 16px * 2);\n    }\n\n    .datepicker-header + .datepicker-body {\n      border-top: 1px solid var(--app-datepicker-separator-color, #ddd);\n    }\n    :host([landscape]) > .datepicker-header + .datepicker-body {\n      border-top: none;\n      border-left: 1px solid var(--app-datepicker-separator-color, #ddd);\n    }\n\n    .datepicker-header {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n\n      position: relative;\n      padding: 16px 24px;\n    }\n    :host([landscape]) > .datepicker-header {\n      /** :this.<one-liner-month-day-width> + :this.<side-padding-width> */\n      min-width: calc(14ch + 24px * 2);\n    }\n\n    .btn__year-selector,\n    .btn__calendar-selector {\n      color: var(--app-datepicker-selector-color, rgba(0, 0, 0, .55));\n      cursor: pointer;\n      /* outline: none; */\n    }\n    .btn__year-selector.selected,\n    .btn__calendar-selector.selected {\n      color: currentColor;\n    }\n\n    /**\n      * NOTE: IE11-only fix. This prevents formatted focused date from overflowing the container.\n      */\n    .datepicker-toolbar {\n      width: 100%;\n    }\n\n    .btn__year-selector {\n      font-size: 16px;\n      font-weight: 700;\n    }\n    .btn__calendar-selector {\n      font-size: 36px;\n      font-weight: 700;\n      line-height: 1;\n    }\n\n    .datepicker-body {\n      position: relative;\n      width: 100%;\n      overflow: hidden;\n    }\n\n    .datepicker-body__calendar-view {\n      min-height: 56px;\n    }\n\n    .calendar-view__month-selector {\n      display: flex;\n      align-items: center;\n\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      padding: 0 8px;\n      z-index: 1;\n    }\n\n    .month-selector-container {\n      max-height: 56px;\n      height: 100%;\n    }\n    .month-selector-container + .month-selector-container {\n      margin: 0 0 0 auto;\n    }\n\n    .btn__month-selector {\n      padding: calc((56px - 24px) / 2);\n      /**\n        * NOTE: button element contains no text, only SVG.\n        * No extra height will incur with such setting.\n        */\n      line-height: 0;\n    }\n    .btn__month-selector > svg {\n      fill: currentColor;\n    }\n\n    .calendars-container {\n      display: flex;\n      justify-content: center;\n\n      position: relative;\n      top: 0;\n      left: calc(-100%);\n      width: calc(100% * 3);\n      transform: translateZ(0);\n      will-change: transform;\n      /**\n        * NOTE: Required for Pointer Events API to work on touch devices.\n        * Native \\`pan-y\\` action will be fired by the browsers since we only care about the\n        * horizontal direction. This is great as vertical scrolling still works even when touch\n        * event happens on a datepicker's calendar.\n        */\n      touch-action: pan-y;\n      /* outline: none; */\n    }\n\n    .year-list-view__full-list {\n      max-height: calc(48px * 7);\n      overflow-y: auto;\n\n      scrollbar-color: var(--app-datepicker-scrollbar-thumb-bg-color, rgba(0, 0, 0, .35)) rgba(0, 0, 0, 0);\n      scrollbar-width: thin;\n    }\n    .year-list-view__full-list::-webkit-scrollbar {\n      width: 8px;\n      background-color: rgba(0, 0, 0, 0);\n    }\n    .year-list-view__full-list::-webkit-scrollbar-thumb {\n      background-color: var(--app-datepicker-scrollbar-thumb-bg-color, rgba(0, 0, 0, .35));\n      border-radius: 50px;\n    }\n    .year-list-view__full-list::-webkit-scrollbar-thumb:hover {\n      background-color: var(--app-datepicker-scrollbar-thumb-hover-bg-color, rgba(0, 0, 0, .5));\n    }\n\n    .calendar-weekdays > th,\n    .weekday-label {\n      color: var(--app-datepicker-weekday-color, rgba(0, 0, 0, .55));\n      font-weight: 400;\n      transform: translateZ(0);\n      will-change: transform;\n    }\n\n    .calendar-container,\n    .calendar-label,\n    .calendar-table {\n      width: 100%;\n    }\n\n    .calendar-container {\n      position: relative;\n      padding: 0 16px 16px;\n    }\n\n    .calendar-table {\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n\n      border-collapse: collapse;\n      border-spacing: 0;\n      text-align: center;\n    }\n\n    .calendar-label {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      height: 56px;\n      font-weight: 500;\n      text-align: center;\n    }\n\n    .calendar-weekday,\n    .full-calendar__day {\n      position: relative;\n      width: calc(100% / 7);\n      height: 0;\n      padding: calc(100% / 7 / 2) 0;\n      outline: none;\n      text-align: center;\n    }\n    .full-calendar__day:not(.day--disabled):focus {\n      outline: #000 dotted 1px;\n      outline: -webkit-focus-ring-color auto 1px;\n    }\n    :host([showweeknumber]) .calendar-weekday,\n    :host([showweeknumber]) .full-calendar__day {\n      width: calc(100% / 8);\n      padding-top: calc(100% / 8);\n      padding-bottom: 0;\n    }\n    :host([showweeknumber]) th.weekday-label {\n      padding: 0;\n    }\n\n    /**\n      * NOTE: Interesting fact! That is ::after will trigger paint when dragging. This will trigger\n      * layout and paint on **ONLY** affected nodes. This is much cheaper as compared to rendering\n      * all :::after of all calendar day elements. When dragging the entire calendar container,\n      * because of all layout and paint trigger on each and every ::after, this becomes a expensive\n      * task for the browsers especially on low-end devices. Even though animating opacity is much\n      * cheaper, the technique does not work here. Adding 'will-change' will further reduce overall\n      * painting at the expense of memory consumption as many cells in a table has been promoted\n      * a its own layer.\n      */\n    .full-calendar__day:not(.day--empty):not(.day--disabled):not(.weekday-label) {\n      transform: translateZ(0);\n      will-change: transform;\n    }\n    .full-calendar__day:not(.day--empty):not(.day--disabled):not(.weekday-label).day--focused::after,\n    .full-calendar__day:not(.day--empty):not(.day--disabled):not(.day--focused):not(.weekday-label):hover::after {\n      content: '';\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: var(--app-datepicker-accent-color, #1a73e8);\n      border-radius: 50%;\n      opacity: 0;\n      pointer-events: none;\n    }\n    .full-calendar__day:not(.day--empty):not(.day--disabled):not(.weekday-label) {\n      cursor: pointer;\n      pointer-events: auto;\n      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    }\n    .full-calendar__day.day--focused:not(.day--empty):not(.day--disabled):not(.weekday-label)::after,\n    .full-calendar__day.day--today.day--focused:not(.day--empty):not(.day--disabled):not(.weekday-label)::after {\n      opacity: 1;\n    }\n\n    .calendar-weekday > .weekday,\n    .full-calendar__day > .calendar-day {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      position: absolute;\n      top: 5%;\n      left: 5%;\n      width: 90%;\n      height: 90%;\n      color: currentColor;\n      font-size: 14px;\n      pointer-events: none;\n      z-index: 1;\n    }\n    .full-calendar__day.day--today {\n      color: var(--app-datepicker-accent-color, #1a73e8);\n    }\n    .full-calendar__day.day--focused,\n    .full-calendar__day.day--today.day--focused {\n      color: var(--app-datepicker-focused-day-color, #fff);\n    }\n    .full-calendar__day.day--empty,\n    .full-calendar__day.weekday-label,\n    .full-calendar__day.day--disabled > .calendar-day {\n      pointer-events: none;\n    }\n    .full-calendar__day.day--disabled:not(.day--today) {\n      color: var(--app-datepicker-disabled-day-color, rgba(0, 0, 0, .55));\n    }\n\n    .year-list-view__list-item {\n      position: relative;\n      width: 100%;\n      padding: 12px 16px;\n      text-align: center;\n      /** NOTE: Reduce paint when hovering and scrolling, but this increases memory usage */\n      /* will-change: opacity; */\n      /* outline: none; */\n    }\n    .year-list-view__list-item::after {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: var(--app-datepicker-focused-year-bg-color, #000);\n      opacity: 0;\n      pointer-events: none;\n    }\n    .year-list-view__list-item:focus::after {\n      opacity: .05;\n    }\n    .year-list-view__list-item.year--selected {\n      color: var(--app-datepicker-accent-color, #1a73e8);\n      font-size: 24px;\n      font-weight: 500;\n    }\n\n    @media (any-hover: hover) {\n      .btn__month-selector:hover,\n      .year-list-view__list-item:hover {\n        cursor: pointer;\n      }\n      .full-calendar__day:not(.day--empty):not(.day--disabled):not(.day--focused):not(.weekday-label):hover::after {\n        opacity: .15;\n      }\n      .year-list-view__list-item:hover::after {\n        opacity: .05;\n      }\n    }\n\n    @supports (background: -webkit-canvas(squares)) {\n      .calendar-container {\n        padding: 56px 16px 16px;\n      }\n\n      table > caption {\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translate3d(-50%, 0, 0);\n        will-change: transform;\n      }\n    }\n    `,\n];\n__decorate([\n    property({ type: Number, reflect: true })\n], Datepicker.prototype, \"firstDayOfWeek\", void 0);\n__decorate([\n    property({ type: Boolean, reflect: true })\n], Datepicker.prototype, \"showWeekNumber\", void 0);\n__decorate([\n    property({ type: String, reflect: true })\n], Datepicker.prototype, \"weekNumberType\", void 0);\n__decorate([\n    property({ type: Boolean, reflect: true })\n], Datepicker.prototype, \"landscape\", void 0);\n__decorate([\n    property({ type: String, reflect: true })\n], Datepicker.prototype, \"startView\", null);\n__decorate([\n    property({ type: String, reflect: true })\n], Datepicker.prototype, \"min\", null);\n__decorate([\n    property({ type: String, reflect: true })\n], Datepicker.prototype, \"max\", null);\n__decorate([\n    property({ type: String })\n], Datepicker.prototype, \"value\", null);\n__decorate([\n    property({ type: String })\n], Datepicker.prototype, \"locale\", void 0);\n__decorate([\n    property({ type: String })\n], Datepicker.prototype, \"disabledDays\", void 0);\n__decorate([\n    property({ type: String })\n], Datepicker.prototype, \"disabledDates\", void 0);\n__decorate([\n    property({ type: String })\n], Datepicker.prototype, \"weekLabel\", void 0);\n__decorate([\n    property({ type: Boolean })\n], Datepicker.prototype, \"inline\", void 0);\n__decorate([\n    property({ type: Number })\n], Datepicker.prototype, \"dragRatio\", void 0);\n__decorate([\n    property({ type: Date, attribute: false })\n], Datepicker.prototype, \"_selectedDate\", void 0);\n__decorate([\n    property({ type: Date, attribute: false })\n], Datepicker.prototype, \"_focusedDate\", void 0);\n__decorate([\n    property({ type: String, attribute: false })\n], Datepicker.prototype, \"_startView\", void 0);\n__decorate([\n    query('.year-list-view__full-list')\n], Datepicker.prototype, \"_yearViewFullList\", void 0);\n__decorate([\n    query('.btn__year-selector')\n], Datepicker.prototype, \"_buttonSelectorYear\", void 0);\n__decorate([\n    query('.year-list-view__list-item')\n], Datepicker.prototype, \"_yearViewListItem\", void 0);\n__decorate([\n    eventOptions({ passive: true })\n], Datepicker.prototype, \"_updateYear\", null);\n__decorate([\n    eventOptions({ passive: true })\n], Datepicker.prototype, \"_updateFocusedDateWithKeyboard\", null);\n","export function customElementsDefine(tagName, baseClass) {\n    if (window.customElements && !window.customElements.get(tagName)) {\n        window.customElements.define(tagName, baseClass);\n    }\n}\n","import { DATEPICKER_NAME } from './constants.js';\nimport { Datepicker } from './datepicker.js';\nimport { customElementsDefine } from './helpers/custom-elements-define.js';\ncustomElementsDefine(DATEPICKER_NAME, Datepicker);\n","import errors from \"../modules/Errors\";\r\nimport 'app-datepicker';\r\n\r\nclass KbfDatepicker extends EventTarget {\r\n\r\n    constructor(selector, inputElementSelector) {\r\n\r\n        super();\r\n\r\n        let $ = window.$;\r\n\r\n        // Sprawdz czy podano argumenty\r\n        if (!selector) throw errors.argumentNotFound(\"Selector\");\r\n        if (!inputElementSelector) throw errors.argumentNotFound(\"inputElementSelector\");\r\n\r\n        this.$datepicker = $(selector);\r\n        this.$inputElement = $(inputElementSelector);\r\n\r\n        if(this.$datepicker.length === 0) throw errors.elementNotFound(selector);\r\n        if(this.$inputElement.length === 0) throw errors.elementNotFound(selector);\r\n\r\n        this.init();\r\n        this.addListeners();\r\n    }\r\n\r\n    init() {\r\n\r\n        let $ = window.$;\r\n        let instance = this;\r\n\r\n        // Aliasy\r\n        this.on = this.addEventListener;\r\n        this.off = this.removeEventListener;\r\n        this.emit = this.dispatchEvent;\r\n\r\n    }\r\n\r\n\r\n    addListeners() {\r\n\r\n        let instance = this;\r\n\r\n        function datePickerHandler() {\r\n            this.$datepicker.on('datepicker-value-updated' , function (e) {\r\n                instance.$inputElement.val(e.originalEvent.detail.value);\r\n                instance.hideDatePicker();\r\n            })\r\n        }\r\n\r\n        this.$inputElement.on('click', datePickerHandler.bind(this));\r\n        this.$inputElement.on('focus', this.showDatePicker.bind(this))\r\n\r\n        $(window).on('click', function (e) {\r\n            if(e.target.tagName !== 'APP-DATEPICKER' && e.target.tagName !== 'INPUT') {\r\n                instance.hideDatePicker();\r\n                $('[name=\"job_expire\"]').off('click', datePickerHandler);\r\n            }\r\n        })\r\n    }\r\n\r\n    showDatePicker() {\r\n        this.$datepicker.fadeIn(200);\r\n    }\r\n\r\n    hideDatePicker() {\r\n        this.$datepicker.fadeOut(200);\r\n    }\r\n}\r\n\r\nexport default KbfDatepicker","if (typeof Object.getPrototypeOf !== \"function\") {\n\tObject.getPrototypeOf = typeof \"test\".__proto__ === \"object\" ? function (object) {\n\t\treturn object.__proto__;\n\t} : function (object) {\n\t\treturn object.constructor.prototype;\n\t};\n}","export {determineTestTemplate, getDecisionTaker, getMaskTemplate, getPlaceholder, getTest, getTests, getTestTemplate};\n\nfunction getLocator(tst, align) { //need to align the locators to be correct\n\tvar locator = (tst.alternation != undefined ? tst.mloc[getDecisionTaker(tst)] : tst.locator).join(\"\");\n\tif (locator !== \"\") while (locator.length < align) locator += \"0\";\n\treturn locator;\n}\n\nfunction getDecisionTaker(tst) {\n\tvar decisionTaker = tst.locator[tst.alternation];\n\tif (typeof decisionTaker == \"string\" && decisionTaker.length > 0) { //no decision taken ~ take first one as decider\n\t\tdecisionTaker = decisionTaker.split(\",\")[0];\n\t}\n\treturn decisionTaker !== undefined ? decisionTaker.toString() : \"\";\n}\n\n//tobe put on prototype?\nfunction getPlaceholder(pos, test, returnPL) {\n\tconst inputmask = this,\n\t\topts = this.opts,\n\t\tmaskset = this.maskset;\n\n\ttest = test || getTest.call(inputmask, pos).match;\n\tif (test.placeholder !== undefined || returnPL === true) {\n\t\treturn typeof test.placeholder === \"function\" ? test.placeholder(opts) : test.placeholder;\n\t} else if (test.static === true) {\n\t\tif (pos > -1 && maskset.validPositions[pos] === undefined) {\n\t\t\tvar tests = getTests.call(inputmask, pos),\n\t\t\t\tstaticAlternations = [],\n\t\t\t\tprevTest;\n\t\t\tif (tests.length > 1 + (tests[tests.length - 1].match.def === \"\" ? 1 : 0)) {\n\t\t\t\tfor (var i = 0; i < tests.length; i++) {\n\t\t\t\t\tif (tests[i].match.def !== \"\" && tests[i].match.optionality !== true && tests[i].match.optionalQuantifier !== true &&\n\t\t\t\t\t\t(tests[i].match.static === true || (prevTest === undefined || tests[i].match.fn.test(prevTest.match.def, maskset, pos, true, opts) !== false))) {\n\t\t\t\t\t\tstaticAlternations.push(tests[i]);\n\t\t\t\t\t\tif (tests[i].match.static === true) prevTest = tests[i];\n\t\t\t\t\t\tif (staticAlternations.length > 1) {\n\t\t\t\t\t\t\tif (/[0-9a-bA-Z]/.test(staticAlternations[0].match.def)) {\n\t\t\t\t\t\t\t\treturn opts.placeholder.charAt(pos % opts.placeholder.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn test.def;\n\t}\n\n\treturn opts.placeholder.charAt(pos % opts.placeholder.length);\n}\n\n//tobe put on prototype?\nfunction getMaskTemplate(baseOnInput, minimalPos, includeMode, noJit, clearOptionalTail) {\n\t//includeMode true => input, undefined => placeholder, false => mask\n\n\tvar inputmask = this,\n\t\topts = this.opts,\n\t\tmaskset = this.maskset;\n\n\n\tvar greedy = opts.greedy;\n\tif (clearOptionalTail) opts.greedy = false;\n\tminimalPos = minimalPos || 0;\n\tvar maskTemplate = [],\n\t\tndxIntlzr, pos = 0,\n\t\ttest, testPos, jitRenderStatic;\n\tdo {\n\t\tif (baseOnInput === true && maskset.validPositions[pos]) {\n\t\t\ttestPos = (clearOptionalTail && maskset.validPositions[pos].match.optionality === true\n\t\t\t\t&& maskset.validPositions[pos + 1] === undefined\n\t\t\t\t&& (maskset.validPositions[pos].generatedInput === true || (maskset.validPositions[pos].input == opts.skipOptionalPartCharacter && pos > 0)))\n\t\t\t\t? determineTestTemplate.call(inputmask, pos, getTests.call(inputmask, pos, ndxIntlzr, pos - 1))\n\t\t\t\t: maskset.validPositions[pos];\n\t\t\ttest = testPos.match;\n\t\t\tndxIntlzr = testPos.locator.slice();\n\t\t\tmaskTemplate.push(includeMode === true ? testPos.input : includeMode === false ? test.nativeDef : getPlaceholder.call(inputmask, pos, test));\n\t\t} else {\n\t\t\ttestPos = getTestTemplate.call(inputmask, pos, ndxIntlzr, pos - 1);\n\t\t\ttest = testPos.match;\n\t\t\tndxIntlzr = testPos.locator.slice();\n\t\t\tvar jitMasking = noJit === true ? false : (opts.jitMasking !== false ? opts.jitMasking : test.jit);\n\t\t\t//check for groupSeparator is a hack for the numerics as we don't want the render of the groupSeparator beforehand\n\t\t\tjitRenderStatic = (jitRenderStatic && test.static && test.def !== opts.groupSeparator && test.fn === null) || (maskset.validPositions[pos - 1] && test.static && test.def !== opts.groupSeparator && test.fn === null);\n\t\t\tif (jitRenderStatic || jitMasking === false || jitMasking === undefined /*|| pos < lvp*/ || (typeof jitMasking === \"number\" && isFinite(jitMasking) && jitMasking > pos)) {\n\t\t\t\tmaskTemplate.push(includeMode === false ? test.nativeDef : getPlaceholder.call(inputmask, pos, test));\n\t\t\t} else {\n\t\t\t\tjitRenderStatic = false;\n\t\t\t}\n\t\t}\n\n\t\tpos++;\n\t} while ((inputmask.maxLength === undefined || pos < inputmask.maxLength) && (test.static !== true || test.def !== \"\") || minimalPos > pos);\n\tif (maskTemplate[maskTemplate.length - 1] === \"\") {\n\t\tmaskTemplate.pop(); //drop the last one which is empty\n\t}\n\tif (includeMode !== false || //do not alter the masklength when just retrieving the maskdefinition\n\t\tmaskset.maskLength === undefined) //just make sure the maskLength gets initialized in all cases (needed for isValid)\n\t{\n\t\tmaskset.maskLength = pos - 1;\n\t}\n\n\topts.greedy = greedy;\n\treturn maskTemplate;\n}\n\n//tobe put on prototype?\nfunction getTestTemplate(pos, ndxIntlzr, tstPs) {\n\tvar inputmask = this,\n\t\tmaskset = this.maskset;\n\n\treturn maskset.validPositions[pos] || determineTestTemplate.call(inputmask, pos, getTests.call(inputmask, pos, ndxIntlzr ? ndxIntlzr.slice() : ndxIntlzr, tstPs));\n}\n\n//tobe put on prototype?\nfunction determineTestTemplate(pos, tests) {\n\tvar inputmask = this,\n\t\topts = this.opts;\n\n\tpos = pos > 0 ? pos - 1 : 0;\n\tvar altTest = getTest.call(inputmask, pos), targetLocator = getLocator(altTest), tstLocator, closest, bestMatch;\n\tfor (var ndx = 0; ndx < tests.length; ndx++) { //find best matching\n\t\tvar tst = tests[ndx];\n\t\ttstLocator = getLocator(tst, targetLocator.length);\n\t\tvar distance = Math.abs(tstLocator - targetLocator);\n\t\tif (closest === undefined\n\t\t\t|| (tstLocator !== \"\" && distance < closest)\n\t\t\t|| (bestMatch && !opts.greedy && bestMatch.match.optionality && bestMatch.match.newBlockMarker === \"master\" && (!tst.match.optionality || !tst.match.newBlockMarker))\n\t\t\t|| (bestMatch && bestMatch.match.optionalQuantifier && !tst.match.optionalQuantifier)) {\n\t\t\tclosest = distance;\n\t\t\tbestMatch = tst;\n\t\t}\n\t}\n\n\treturn bestMatch;\n}\n\n//tobe put on prototype?\nfunction getTest(pos, tests) {\n\tvar inputmask = this,\n\t\tmaskset = this.maskset;\n\n\tif (maskset.validPositions[pos]) {\n\t\treturn maskset.validPositions[pos];\n\t}\n\treturn (tests || getTests.call(inputmask, pos))[0];\n}\n\n//tobe put on prototype?\nfunction getTests(pos, ndxIntlzr, tstPs) {\n\tvar inputmask = this,\n\t\t$ = this.dependencyLib,\n\t\tmaskset = this.maskset,\n\t\topts = this.opts,\n\t\tel = this.el,\n\t\tmaskTokens = maskset.maskToken,\n\t\ttestPos = ndxIntlzr ? tstPs : 0,\n\t\tndxInitializer = ndxIntlzr ? ndxIntlzr.slice() : [0],\n\t\tmatches = [],\n\t\tinsertStop = false,\n\t\tlatestMatch,\n\t\tcacheDependency = ndxIntlzr ? ndxIntlzr.join(\"\") : \"\";\n\n\tfunction resolveTestFromToken(maskToken, ndxInitializer, loopNdx, quantifierRecurse) { //ndxInitializer contains a set of indexes to speedup searches in the mtokens\n\t\tfunction handleMatch(match, loopNdx, quantifierRecurse) {\n\t\t\tfunction isFirstMatch(latestMatch, tokenGroup) {\n\t\t\t\tvar firstMatch = tokenGroup.matches.indexOf(latestMatch) === 0;\n\t\t\t\tif (!firstMatch) {\n\t\t\t\t\ttokenGroup.matches.every(function (match, ndx) {\n\t\t\t\t\t\tif (match.isQuantifier === true) {\n\t\t\t\t\t\t\tfirstMatch = isFirstMatch(latestMatch, tokenGroup.matches[ndx - 1]);\n\t\t\t\t\t\t} else if (Object.prototype.hasOwnProperty.call(match, \"matches\")) firstMatch = isFirstMatch(latestMatch, match);\n\t\t\t\t\t\tif (firstMatch) return false;\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn firstMatch;\n\t\t\t}\n\n\t\t\tfunction resolveNdxInitializer(pos, alternateNdx, targetAlternation) {\n\t\t\t\tvar bestMatch, indexPos;\n\n\t\t\t\tif (maskset.tests[pos] || maskset.validPositions[pos]) {\n\t\t\t\t\t(maskset.tests[pos] || [maskset.validPositions[pos]]).every(function (lmnt, ndx) {\n\t\t\t\t\t\tif (lmnt.mloc[alternateNdx]) {\n\t\t\t\t\t\t\tbestMatch = lmnt;\n\t\t\t\t\t\t\treturn false; //break\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar alternation = targetAlternation !== undefined ? targetAlternation : lmnt.alternation,\n\t\t\t\t\t\t\tndxPos = lmnt.locator[alternation] !== undefined ? lmnt.locator[alternation].toString().indexOf(alternateNdx) : -1;\n\t\t\t\t\t\tif ((indexPos === undefined || ndxPos < indexPos) && ndxPos !== -1) {\n\t\t\t\t\t\t\tbestMatch = lmnt;\n\t\t\t\t\t\t\tindexPos = ndxPos;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (bestMatch) {\n\t\t\t\t\tvar bestMatchAltIndex = bestMatch.locator[bestMatch.alternation];\n\t\t\t\t\tvar locator = bestMatch.mloc[alternateNdx] || bestMatch.mloc[bestMatchAltIndex] || bestMatch.locator;\n\t\t\t\t\treturn locator.slice((targetAlternation !== undefined ? targetAlternation : bestMatch.alternation) + 1);\n\t\t\t\t} else {\n\t\t\t\t\treturn targetAlternation !== undefined ? resolveNdxInitializer(pos, alternateNdx) : undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction isSubsetOf(source, target) {\n\t\t\t\tfunction expand(pattern) {\n\t\t\t\t\tvar expanded = [], start = -1, end;\n\t\t\t\t\tfor (var i = 0, l = pattern.length; i < l; i++) {\n\t\t\t\t\t\tif (pattern.charAt(i) === \"-\") {\n\t\t\t\t\t\t\tend = pattern.charCodeAt(i + 1);\n\t\t\t\t\t\t\twhile (++start < end) expanded.push(String.fromCharCode(start));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstart = pattern.charCodeAt(i);\n\t\t\t\t\t\t\texpanded.push(pattern.charAt(i));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn expanded.join(\"\");\n\t\t\t\t}\n\n\t\t\t\tif (source.match.def === target.match.nativeDef) return true;\n\t\t\t\tif ((opts.regex || (source.match.fn instanceof RegExp && target.match.fn instanceof RegExp)) && source.match.static !== true && target.match.static !== true) { //is regex a subset\n\t\t\t\t\treturn expand(target.match.fn.toString().replace(/[[\\]/]/g, \"\")).indexOf(expand(source.match.fn.toString().replace(/[[\\]/]/g, \"\"))) !== -1;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfunction staticCanMatchDefinition(source, target) {\n\t\t\t\treturn source.match.static === true && target.match.static !== true ? target.match.fn.test(source.match.def, maskset, pos, false, opts, false) : false;\n\t\t\t}\n\n\t\t\t//mergelocators for retrieving the correct locator match when merging\n\t\t\tfunction setMergeLocators(targetMatch, altMatch) {\n\t\t\t\tvar alternationNdx = targetMatch.alternation,\n\t\t\t\t\tshouldMerge = altMatch === undefined || (alternationNdx === altMatch.alternation &&\n\t\t\t\t\t\ttargetMatch.locator[alternationNdx].toString().indexOf(altMatch.locator[alternationNdx]) === -1);\n\t\t\t\tif (!shouldMerge && alternationNdx > altMatch.alternation) {\n\t\t\t\t\tfor (var i = altMatch.alternation; i < alternationNdx; i++) {\n\t\t\t\t\t\tif (targetMatch.locator[i] !== altMatch.locator[i]) {\n\t\t\t\t\t\t\talternationNdx = i;\n\t\t\t\t\t\t\tshouldMerge = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (shouldMerge) {\n\t\t\t\t\ttargetMatch.mloc = targetMatch.mloc || {};\n\t\t\t\t\tvar locNdx = targetMatch.locator[alternationNdx];\n\t\t\t\t\tif (locNdx === undefined) {\n\t\t\t\t\t\ttargetMatch.alternation = undefined;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (typeof locNdx === \"string\") locNdx = locNdx.split(\",\")[0];\n\t\t\t\t\t\tif (targetMatch.mloc[locNdx] === undefined) targetMatch.mloc[locNdx] = targetMatch.locator.slice();\n\t\t\t\t\t\tif (altMatch !== undefined) {\n\t\t\t\t\t\t\tfor (var ndx in altMatch.mloc) {\n\t\t\t\t\t\t\t\tif (typeof ndx === \"string\") ndx = ndx.split(\",\")[0];\n\t\t\t\t\t\t\t\tif (targetMatch.mloc[ndx] === undefined) targetMatch.mloc[ndx] = altMatch.mloc[ndx];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttargetMatch.locator[alternationNdx] = Object.keys(targetMatch.mloc).join(\",\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfunction isSameLevel(targetMatch, altMatch) {\n\t\t\t\tif (targetMatch.locator.length !== altMatch.locator.length) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tfor (let locNdx = targetMatch.alternation + 1; locNdx < targetMatch.locator.length; locNdx++) {\n\t\t\t\t\tif (targetMatch.locator[locNdx] !== altMatch.locator[locNdx]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (testPos > (pos + opts._maxTestPos)) {\n\t\t\t\tthrow \"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. \" + maskset.mask;\n\t\t\t}\n\t\t\tif (testPos === pos && match.matches === undefined) {\n\t\t\t\tmatches.push({\n\t\t\t\t\t\"match\": match,\n\t\t\t\t\t\"locator\": loopNdx.reverse(),\n\t\t\t\t\t\"cd\": cacheDependency,\n\t\t\t\t\t\"mloc\": {}\n\t\t\t\t});\n\t\t\t\treturn true;\n\t\t\t} else if (match.matches !== undefined) {\n\t\t\t\tif (match.isGroup && quantifierRecurse !== match) { //when a group pass along to the quantifier\n\t\t\t\t\tmatch = handleMatch(maskToken.matches[maskToken.matches.indexOf(match) + 1], loopNdx, quantifierRecurse);\n\t\t\t\t\tif (match) return true;\n\t\t\t\t} else if (match.isOptional) {\n\t\t\t\t\tvar optionalToken = match, mtchsNdx = matches.length;\n\t\t\t\t\tmatch = resolveTestFromToken(match, ndxInitializer, loopNdx, quantifierRecurse);\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\t//mark optionality in matches\n\t\t\t\t\t\tmatches.forEach(function (mtch, ndx) {\n\t\t\t\t\t\t\tif (ndx >= mtchsNdx) {\n\t\t\t\t\t\t\t\tmtch.match.optionality = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlatestMatch = matches[matches.length - 1].match;\n\t\t\t\t\t\tif (quantifierRecurse === undefined && isFirstMatch(latestMatch, optionalToken)) { //prevent loop see #698\n\t\t\t\t\t\t\tinsertStop = true; //insert a stop\n\t\t\t\t\t\t\ttestPos = pos; //match the position after the group\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (match.isAlternator) {\n\t\t\t\t\tvar alternateToken = match,\n\t\t\t\t\t\tmalternateMatches = [],\n\t\t\t\t\t\tmaltMatches,\n\t\t\t\t\t\tcurrentMatches = matches.slice(),\n\t\t\t\t\t\tloopNdxCnt = loopNdx.length;\n\t\t\t\t\tvar altIndex = ndxInitializer.length > 0 ? ndxInitializer.shift() : -1;\n\t\t\t\t\tif (altIndex === -1 || typeof altIndex === \"string\") {\n\t\t\t\t\t\tvar currentPos = testPos,\n\t\t\t\t\t\t\tndxInitializerClone = ndxInitializer.slice(),\n\t\t\t\t\t\t\taltIndexArr = [],\n\t\t\t\t\t\t\tamndx;\n\t\t\t\t\t\tif (typeof altIndex == \"string\") {\n\t\t\t\t\t\t\taltIndexArr = altIndex.split(\",\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (amndx = 0; amndx < alternateToken.matches.length; amndx++) {\n\t\t\t\t\t\t\t\taltIndexArr.push(amndx.toString());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (maskset.excludes[pos] !== undefined) {\n\t\t\t\t\t\t\tvar altIndexArrClone = altIndexArr.slice();\n\t\t\t\t\t\t\tfor (var i = 0, exl = maskset.excludes[pos].length; i < exl; i++) {\n\t\t\t\t\t\t\t\tvar excludeSet = maskset.excludes[pos][i].toString().split(\":\");\n\t\t\t\t\t\t\t\tif (loopNdx.length == excludeSet[1]) {\n\t\t\t\t\t\t\t\t\taltIndexArr.splice(altIndexArr.indexOf(excludeSet[0]), 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (altIndexArr.length === 0) { //fully alternated => reset\n\t\t\t\t\t\t\t\tdelete maskset.excludes[pos];\n\t\t\t\t\t\t\t\taltIndexArr = altIndexArrClone;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (opts.keepStatic === true || (isFinite(parseInt(opts.keepStatic)) && currentPos >= opts.keepStatic)) altIndexArr = altIndexArr.slice(0, 1);\n\t\t\t\t\t\tvar unMatchedAlternation = false;\n\t\t\t\t\t\tfor (var ndx = 0; ndx < altIndexArr.length; ndx++) {\n\t\t\t\t\t\t\tamndx = parseInt(altIndexArr[ndx]);\n\t\t\t\t\t\t\tmatches = [];\n\t\t\t\t\t\t\t//set the correct ndxInitializer\n\t\t\t\t\t\t\tndxInitializer = typeof altIndex === \"string\" ? resolveNdxInitializer(testPos, amndx, loopNdxCnt) || ndxInitializerClone.slice() : ndxInitializerClone.slice();\n\t\t\t\t\t\t\tif (alternateToken.matches[amndx] && handleMatch(alternateToken.matches[amndx], [amndx].concat(loopNdx), quantifierRecurse)) {\n\t\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t\t} else if (ndx === 0) {\n\t\t\t\t\t\t\t\tunMatchedAlternation = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tmaltMatches = matches.slice();\n\t\t\t\t\t\t\ttestPos = currentPos;\n\t\t\t\t\t\t\tmatches = [];\n\n\t\t\t\t\t\t\t//fuzzy merge matches\n\t\t\t\t\t\t\tfor (var ndx1 = 0; ndx1 < maltMatches.length; ndx1++) {\n\t\t\t\t\t\t\t\tvar altMatch = maltMatches[ndx1],\n\t\t\t\t\t\t\t\t\tdropMatch = false;\n\t\t\t\t\t\t\t\taltMatch.match.jit = altMatch.match.jit || unMatchedAlternation; //mark jit when there are unmatched alternations  ex: mask: \"(a|aa)\"\n\t\t\t\t\t\t\t\taltMatch.alternation = altMatch.alternation || loopNdxCnt;\n\t\t\t\t\t\t\t\tsetMergeLocators(altMatch);\n\t\t\t\t\t\t\t\tfor (var ndx2 = 0; ndx2 < malternateMatches.length; ndx2++) {\n\t\t\t\t\t\t\t\t\tvar altMatch2 = malternateMatches[ndx2];\n\t\t\t\t\t\t\t\t\tif (typeof altIndex !== \"string\" || (altMatch.alternation !== undefined && altIndexArr.includes(altMatch.locator[altMatch.alternation].toString()))) {\n\t\t\t\t\t\t\t\t\t\tif (altMatch.match.nativeDef === altMatch2.match.nativeDef) {\n\t\t\t\t\t\t\t\t\t\t\tdropMatch = true;\n\t\t\t\t\t\t\t\t\t\t\tsetMergeLocators(altMatch2, altMatch);\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t} else if (isSubsetOf(altMatch, altMatch2)) {\n\t\t\t\t\t\t\t\t\t\t\tif (setMergeLocators(altMatch, altMatch2)) {\n\t\t\t\t\t\t\t\t\t\t\t\tdropMatch = true;\n\t\t\t\t\t\t\t\t\t\t\t\tmalternateMatches.splice(malternateMatches.indexOf(altMatch2), 0, altMatch);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t} else if (isSubsetOf(altMatch2, altMatch)) {\n\t\t\t\t\t\t\t\t\t\t\tsetMergeLocators(altMatch2, altMatch);\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t} else if (staticCanMatchDefinition(altMatch, altMatch2)) {\n\t\t\t\t\t\t\t\t\t\t\tif (!isSameLevel(altMatch, altMatch2) && el.inputmask.userOptions.keepStatic === undefined) {\n\t\t\t\t\t\t\t\t\t\t\t\topts.keepStatic = true;\n\t\t\t\t\t\t\t\t\t\t\t} else if (setMergeLocators(altMatch, altMatch2)) {\n\t\t\t\t\t\t\t\t\t\t\t\t//insert match above general match\n\t\t\t\t\t\t\t\t\t\t\t\tdropMatch = true;\n\t\t\t\t\t\t\t\t\t\t\t\tmalternateMatches.splice(malternateMatches.indexOf(altMatch2), 0, altMatch);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!dropMatch) {\n\t\t\t\t\t\t\t\t\tmalternateMatches.push(altMatch);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmatches = currentMatches.concat(malternateMatches);\n\t\t\t\t\t\ttestPos = pos;\n\t\t\t\t\t\tinsertStop = matches.length > 0; //insert a stopelemnt when there is an alternate - needed for non-greedy option\n\t\t\t\t\t\tmatch = malternateMatches.length > 0; //set correct match state\n\n\t\t\t\t\t\t//cloneback\n\t\t\t\t\t\tndxInitializer = ndxInitializerClone.slice();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = handleMatch(alternateToken.matches[altIndex] || maskToken.matches[altIndex], [altIndex].concat(loopNdx), quantifierRecurse);\n\t\t\t\t\t}\n\t\t\t\t\tif (match) return true;\n\t\t\t\t} else if (match.isQuantifier && quantifierRecurse !== maskToken.matches[maskToken.matches.indexOf(match) - 1]) {\n\t\t\t\t\tvar qt = match;\n\t\t\t\t\tfor (var qndx = (ndxInitializer.length > 0) ? ndxInitializer.shift() : 0; (qndx < (isNaN(qt.quantifier.max) ? qndx + 1 : qt.quantifier.max)) && testPos <= pos; qndx++) {\n\t\t\t\t\t\tvar tokenGroup = maskToken.matches[maskToken.matches.indexOf(qt) - 1];\n\t\t\t\t\t\tmatch = handleMatch(tokenGroup, [qndx].concat(loopNdx), tokenGroup); //set the tokenGroup as quantifierRecurse marker\n\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\t//get latest match\n\t\t\t\t\t\t\tlatestMatch = matches[matches.length - 1].match;\n\t\t\t\t\t\t\t//mark optionality\n\t\t\t\t\t\t\t//TODO FIX RECURSIVE QUANTIFIERS\n\t\t\t\t\t\t\tlatestMatch.optionalQuantifier = qndx >= qt.quantifier.min;\n\t\t\t\t\t\t\t// console.log(pos + \" \" + qt.quantifier.min + \" \" + latestMatch.optionalQuantifier);\n\t\t\t\t\t\t\tlatestMatch.jit = (qndx || 1) * tokenGroup.matches.indexOf(latestMatch) >= qt.quantifier.jit;\n\t\t\t\t\t\t\tif (latestMatch.optionalQuantifier && isFirstMatch(latestMatch, tokenGroup)) {\n\t\t\t\t\t\t\t\tinsertStop = true;\n\t\t\t\t\t\t\t\ttestPos = pos; //match the position after the group\n\t\t\t\t\t\t\t\tbreak; //stop quantifierloop && search for next possible match\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (latestMatch.jit /*&& !latestMatch.optionalQuantifier*/) {\n\t\t\t\t\t\t\t\t//always set jitOffset, isvalid checks when to apply\n\t\t\t\t\t\t\t\tmaskset.jitOffset[pos] = tokenGroup.matches.length - tokenGroup.matches.indexOf(latestMatch);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmatch = resolveTestFromToken(match, ndxInitializer, loopNdx, quantifierRecurse);\n\t\t\t\t\tif (match) return true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttestPos++;\n\t\t\t}\n\t\t}\n\n\t\t//the offset is set in the quantifierloop when git masking is used\n\t\tfor (var tndx = (ndxInitializer.length > 0 ? ndxInitializer.shift() : 0); tndx < maskToken.matches.length; tndx++) {\n\t\t\tif (maskToken.matches[tndx].isQuantifier !== true) {\n\t\t\t\tvar match = handleMatch(maskToken.matches[tndx], [tndx].concat(loopNdx), quantifierRecurse);\n\t\t\t\tif (match && testPos === pos) {\n\t\t\t\t\treturn match;\n\t\t\t\t} else if (testPos > pos) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction mergeLocators(pos, tests) {\n\t\tlet locator = [], alternation;\n\t\tif (!Array.isArray(tests)) tests = [tests];\n\n\t\tif (tests.length > 0) {\n\t\t\tif (tests[0].alternation === undefined || opts.keepStatic === true) {\n\t\t\t\tlocator = determineTestTemplate.call(inputmask, pos, tests.slice()).locator.slice();\n\t\t\t\tif (locator.length === 0) locator = tests[0].locator.slice();\n\t\t\t} else {\n\t\t\t\ttests.forEach(function (tst) {\n\t\t\t\t\tif (tst.def !== \"\") {\n\t\t\t\t\t\tif (locator.length === 0) {\n\t\t\t\t\t\t\talternation = tst.alternation;\n\t\t\t\t\t\t\tlocator = tst.locator.slice();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (tst.locator[alternation] && locator[alternation].toString().indexOf(tst.locator[alternation]) === -1) {\n\t\t\t\t\t\t\t\tlocator[alternation] += \",\" + tst.locator[alternation];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn locator;\n\t}\n\n\tif (pos > -1 && (inputmask.maxLength === undefined || pos < inputmask.maxLength)) {\n\t\tif (ndxIntlzr === undefined) { //determine index initializer\n\t\t\tvar previousPos = pos - 1,\n\t\t\t\ttest;\n\t\t\twhile ((test = maskset.validPositions[previousPos] || maskset.tests[previousPos]) === undefined && previousPos > -1) {\n\t\t\t\tpreviousPos--;\n\t\t\t}\n\t\t\tif (test !== undefined && previousPos > -1) {\n\t\t\t\tndxInitializer = mergeLocators(previousPos, test);\n\t\t\t\tcacheDependency = ndxInitializer.join(\"\");\n\t\t\t\ttestPos = previousPos;\n\t\t\t}\n\t\t}\n\t\tif (maskset.tests[pos] && maskset.tests[pos][0].cd === cacheDependency) { //cacheDependency is set on all tests, just check on the first\n\t\t\treturn maskset.tests[pos];\n\t\t}\n\t\tfor (var mtndx = ndxInitializer.shift(); mtndx < maskTokens.length; mtndx++) {\n\t\t\tvar match = resolveTestFromToken(maskTokens[mtndx], ndxInitializer, [mtndx]);\n\t\t\tif ((match && testPos === pos) || testPos > pos) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tif (matches.length === 0 || insertStop) {\n\t\tmatches.push({\n\t\t\tmatch: {\n\t\t\t\tfn: null,\n\t\t\t\tstatic: true,\n\t\t\t\toptionality: false,\n\t\t\t\tcasing: null,\n\t\t\t\tdef: \"\",\n\t\t\t\tplaceholder: \"\"\n\t\t\t},\n\t\t\tlocator: [],\n\t\t\tmloc: {},\n\t\t\tcd: cacheDependency\n\t\t});\n\t}\n\n\tif (ndxIntlzr !== undefined && maskset.tests[pos]) { //prioritize full tests for caching\n\t\treturn $.extend(true, [], matches);\n\t}\n\tmaskset.tests[pos] = $.extend(true, [], matches); //set a clone to prevent overwriting some props\n\t// console.log(pos + \" - \" + JSON.stringify(matches));\n\treturn maskset.tests[pos];\n}\n","const ua = (window.navigator && window.navigator.userAgent) || \"\",\n\tie = (ua.indexOf(\"MSIE \") > 0) || (ua.indexOf(\"Trident/\") > 0),\n\tmobile = \"ontouchstart\" in window, //not entirely correct but will currently do\n\tiemobile = /iemobile/i.test(ua),\n\tiphone = /iphone/i.test(ua) && !iemobile;\n\nexport {ua, ie, mobile, iemobile, iphone};","import keyCode from \"./keycode.json\";\nimport {getMaskTemplate, getPlaceholder, getTest} from \"./validation-tests\";\nimport {\n\tcaret,\n\tdetermineNewCaretPosition,\n\tgetBuffer, getBufferTemplate,\n\tgetLastValidPosition,\n\tisMask,\n\tresetMaskSet,\n\tseekNext\n} from \"./positioning\";\nimport {isComplete, isValid, refreshFromBuffer} from \"./validation\";\nimport {ie} from \"./environment\";\nimport {EventHandlers} from \"./eventhandlers\";\n\n\nexport {applyInputValue, clearOptionalTail, checkVal, HandleNativePlaceholder, unmaskedvalue, writeBuffer};\n\nfunction applyInputValue(input, value) {\n\tconst inputmask = input ? input.inputmask : this, opts = inputmask.opts;\n\n\tinput.inputmask.refreshValue = false;\n\tif (typeof opts.onBeforeMask === \"function\") value = opts.onBeforeMask.call(inputmask, value, opts) || value;\n\tvalue = value.toString().split(\"\");\n\tcheckVal(input, true, false, value);\n\tinputmask.undoValue = getBuffer.call(inputmask).join(\"\");\n\tif ((opts.clearMaskOnLostFocus || opts.clearIncomplete) && input.inputmask._valueGet() === getBufferTemplate.call(inputmask).join(\"\") && getLastValidPosition.call(inputmask) === -1) {\n\t\tinput.inputmask._valueSet(\"\");\n\t}\n}\n\n//todo put on prototype?\nfunction clearOptionalTail(buffer) {\n\tconst inputmask = this;\n\n\tbuffer.length = 0;\n\tvar template = getMaskTemplate.call(inputmask, true, 0, true, undefined, true), lmnt;\n\twhile ((lmnt = template.shift()) !== undefined) buffer.push(lmnt);\n\treturn buffer;\n}\n\nfunction checkVal(input, writeOut, strict, nptvl, initiatingEvent) {\n\tconst inputmask = input ? input.inputmask : this,\n\t\tmaskset = inputmask.maskset,\n\t\topts = inputmask.opts,$ = inputmask.dependencyLib;\n\n\tvar inputValue = nptvl.slice(),\n\t\tcharCodes = \"\",\n\t\tinitialNdx = -1,\n\t\tresult = undefined, skipOptionalPartCharacter = opts.skipOptionalPartCharacter;\n\topts.skipOptionalPartCharacter = \"\"; //see issue #2311\n\n\tfunction isTemplateMatch(ndx, charCodes) {\n\t\tvar targetTemplate = getMaskTemplate.call(inputmask, true, 0).slice(ndx, seekNext.call(inputmask, ndx)).join(\"\").replace(/'/g, \"\"),\n\t\t\tcharCodeNdx = targetTemplate.indexOf(charCodes);\n\t\t//strip spaces from targetTemplate\n\t\twhile (charCodeNdx > 0 && targetTemplate[charCodeNdx - 1] === \" \") charCodeNdx--;\n\n\t\tvar match = charCodeNdx === 0 && !isMask.call(inputmask, ndx)\n\t\t\t&& (getTest.call(inputmask, ndx).match.nativeDef === charCodes.charAt(0)\n\t\t\t\t|| (getTest.call(inputmask, ndx).match.static === true && getTest.call(inputmask, ndx).match.nativeDef === (\"'\" + charCodes.charAt(0)))\n\t\t\t\t|| (getTest.call(inputmask, ndx).match.nativeDef === \" \" && (getTest.call(inputmask, ndx + 1).match.nativeDef === charCodes.charAt(0)\n\t\t\t\t\t|| (getTest.call(inputmask, ndx + 1).match.static === true && getTest.call(inputmask, ndx + 1).match.nativeDef === (\"'\" + charCodes.charAt(0))))));\n\n\t\tif (!match && charCodeNdx > 0 && !isMask.call(inputmask, ndx, false, true)) {\n\t\t\tvar nextPos = seekNext.call(inputmask, ndx);\n\t\t\tif (inputmask.caretPos.begin < nextPos) {\n\t\t\t\tinputmask.caretPos = {begin: nextPos};\n\t\t\t}\n\t\t}\n\t\treturn match;\n\t}\n\n\tresetMaskSet.call(inputmask);\n\tmaskset.tests = {}; //reset tests ~ possible after alternating\n\tinitialNdx = opts.radixPoint ? determineNewCaretPosition.call(inputmask, {begin: 0, end: 0}).begin : 0;\n\tmaskset.p = initialNdx;\n\tinputmask.caretPos = {begin: initialNdx};\n\n\tvar staticMatches = [], prevCaretPos = inputmask.caretPos;\n\tinputValue.forEach( function ( charCode, ndx) {\n\t\tif (charCode !== undefined) { //inputfallback strips some elements out of the inputarray.  $.each logically presents them as undefined\n\t\t\tif (maskset.validPositions[ndx] === undefined && inputValue[ndx] === getPlaceholder.call(inputmask, ndx) && isMask.call(inputmask, ndx, true) &&\n\t\t\t\tisValid.call(inputmask, ndx, inputValue[ndx], true, undefined, undefined, true) === false) {\n\t\t\t\tmaskset.p++;\n\t\t\t} else {\n\t\t\t\tvar keypress = new $.Event(\"_checkval\");\n\t\t\t\tkeypress.which = charCode.toString().charCodeAt(0);\n\t\t\t\tcharCodes += charCode;\n\t\t\t\tvar lvp = getLastValidPosition.call(inputmask, undefined, true);\n\t\t\t\tif (!isTemplateMatch(initialNdx, charCodes)) {\n\t\t\t\t\tresult = EventHandlers.keypressEvent.call(input || inputmask, keypress, true, false, strict, inputmask.caretPos.begin);\n\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tinitialNdx = inputmask.caretPos.begin + 1;\n\t\t\t\t\t\tcharCodes = \"\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresult = EventHandlers.keypressEvent.call(input || inputmask, keypress, true, false, strict, lvp + 1);\n\t\t\t\t}\n\t\t\t\tif (result) {\n\t\t\t\t\tif (result.pos !== undefined && maskset.validPositions[result.pos] && maskset.validPositions[result.pos].match.static === true && maskset.validPositions[result.pos].alternation === undefined) {\n\t\t\t\t\t\tstaticMatches.push(result.pos);\n\t\t\t\t\t\tif (!inputmask.isRTL) {\n\t\t\t\t\t\t\tresult.forwardPosition = result.pos + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twriteBuffer.call(inputmask, undefined, getBuffer.call(inputmask), result.forwardPosition, keypress, false);\n\t\t\t\t\tinputmask.caretPos = {begin: result.forwardPosition, end: result.forwardPosition};\n\t\t\t\t\tprevCaretPos = inputmask.caretPos;\n\t\t\t\t} else {\n\t\t\t\t\tinputmask.caretPos = prevCaretPos;\n\t\t\t\t}  //restore the caret position from before the failed validation\n\t\t\t}\n\t\t}\n\t});\n\tif (staticMatches.length > 0) {\n\t\tvar sndx, validPos, nextValid = seekNext.call(inputmask, -1, undefined, false);\n\t\tif ((!isComplete.call(inputmask, getBuffer.call(inputmask)) && staticMatches.length <= nextValid)\n\t\t\t|| (isComplete.call(inputmask, getBuffer.call(inputmask)) && staticMatches.length > 0 && (staticMatches.length !== nextValid && staticMatches[0] === 0))) { //should check if is sequence starting from 0\n\t\t\tvar nextSndx = nextValid;\n\t\t\twhile ((sndx = staticMatches.shift()) !== undefined) {\n\t\t\t\tvar keypress = new $.Event(\"_checkval\");\n\t\t\t\tvalidPos = maskset.validPositions[sndx];\n\t\t\t\tvalidPos.generatedInput = true;\n\t\t\t\tkeypress.which = validPos.input.charCodeAt(0);\n\t\t\t\tresult = EventHandlers.keypressEvent.call(input, keypress, true, false, strict, nextSndx);\n\t\t\t\tif (result && result.pos !== undefined && result.pos !== sndx && maskset.validPositions[result.pos] && maskset.validPositions[result.pos].match.static === true) {\n\t\t\t\t\tstaticMatches.push(result.pos);\n\t\t\t\t} else if (!result) break;\n\t\t\t\tnextSndx++;\n\t\t\t}\n\t\t} else { //mark al statics as generated\n\t\t\t// while ((sndx = staticMatches.pop())) {\n\t\t\t// \tvalidPos = maskset.validPositions[sndx];\n\t\t\t// \tif (validPos) {\n\t\t\t// \t\tvalidPos.generatedInput = true;\n\t\t\t// \t}\n\t\t\t// }\n\t\t}\n\t}\n\tif (writeOut) {\n\t\twriteBuffer.call(inputmask, input, getBuffer.call(inputmask), result ? result.forwardPosition : inputmask.caretPos.begin, initiatingEvent || new $.Event(\"checkval\"), initiatingEvent && initiatingEvent.type === \"input\" && inputmask.undoValue !== getBuffer.call(inputmask).join(\"\"));\n\t\t// for (var vndx in maskset.validPositions) {\n\t\t// \tif (maskset.validPositions[vndx].match.generated !== true) { //only remove non forced generated\n\t\t// \t\tdelete maskset.validPositions[vndx].generatedInput; //clear generated markings ~ consider initializing with a  value as fully typed\n\t\t// \t}\n\t\t// }\n\t}\n\topts.skipOptionalPartCharacter = skipOptionalPartCharacter;\n}\n\nfunction HandleNativePlaceholder(npt, value) {\n\tconst inputmask = npt ? npt.inputmask : this;\n\n\tif (ie) {\n\t\tif (npt.inputmask._valueGet() !== value && (npt.placeholder !== value || npt.placeholder === \"\")) {\n\t\t\tvar buffer = getBuffer.call(inputmask).slice(),\n\t\t\t\tnptValue = npt.inputmask._valueGet();\n\t\t\tif (nptValue !== value) {\n\t\t\t\tvar lvp = getLastValidPosition.call(inputmask);\n\t\t\t\tif (lvp === -1 && nptValue === getBufferTemplate.call(inputmask).join(\"\")) {\n\t\t\t\t\tbuffer = [];\n\t\t\t\t} else if (lvp !== -1) { //clearout optional tail of the mask\n\t\t\t\t\tclearOptionalTail.call(inputmask, buffer);\n\t\t\t\t}\n\t\t\t\twriteBuffer(npt, buffer);\n\t\t\t}\n\t\t}\n\t} else if (npt.placeholder !== value) {\n\t\tnpt.placeholder = value;\n\t\tif (npt.placeholder === \"\") npt.removeAttribute(\"placeholder\");\n\t}\n}\n\nfunction unmaskedvalue(input) {\n\tconst inputmask = input ? input.inputmask : this,\n\t\topts = inputmask.opts,\n\t\tmaskset = inputmask.maskset;\n\n\tif (input) {\n\t\tif (input.inputmask === undefined) {\n\t\t\treturn input.value;\n\t\t}\n\t\tif (input.inputmask && input.inputmask.refreshValue) { //forced refresh from the value form.reset\n\t\t\tapplyInputValue(input, input.inputmask._valueGet(true));\n\t\t}\n\t}\n\tvar umValue = [],\n\t\tvps = maskset.validPositions;\n\tfor (var pndx in vps) {\n\t\tif (vps[pndx] && vps[pndx].match && (vps[pndx].match.static != true || (Array.isArray(maskset.metadata) && vps[pndx].generatedInput !== true))) {\n\t\t\t//only include generated input with multiple masks (check on metadata)\n\t\t\tumValue.push(vps[pndx].input);\n\t\t}\n\t}\n\tvar unmaskedValue = umValue.length === 0 ? \"\" : (inputmask.isRTL ? umValue.reverse() : umValue).join(\"\");\n\tif (typeof opts.onUnMask === \"function\") {\n\t\tvar bufferValue = (inputmask.isRTL ? getBuffer.call(inputmask).slice().reverse() : getBuffer.call(inputmask)).join(\"\");\n\t\tunmaskedValue = opts.onUnMask.call(inputmask, bufferValue, unmaskedValue, opts);\n\t}\n\treturn unmaskedValue;\n}\n\nfunction writeBuffer(input, buffer, caretPos, event, triggerEvents) {\n\tconst inputmask = input ? input.inputmask : this,\n\t\topts = inputmask.opts,\n\t\t$ = inputmask.dependencyLib;\n\n\tif (event && typeof opts.onBeforeWrite === \"function\") {\n\t\t//    buffer = buffer.slice(); //prevent uncontrolled manipulation of the internal buffer\n\t\tvar result = opts.onBeforeWrite.call(inputmask, event, buffer, caretPos, opts);\n\t\tif (result) {\n\t\t\tif (result.refreshFromBuffer) {\n\t\t\t\tvar refresh = result.refreshFromBuffer;\n\t\t\t\trefreshFromBuffer.call(inputmask, refresh === true ? refresh : refresh.start, refresh.end, result.buffer || buffer);\n\t\t\t\tbuffer = getBuffer.call(inputmask, true);\n\t\t\t}\n\t\t\tif (caretPos !== undefined) caretPos = result.caret !== undefined ? result.caret : caretPos;\n\t\t}\n\t}\n\tif (input !== undefined) {\n\t\tinput.inputmask._valueSet(buffer.join(\"\"));\n\t\tif (caretPos !== undefined && (event === undefined || event.type !== \"blur\")) {\n\t\t\tcaret.call(inputmask, input, caretPos, undefined, undefined, (event !== undefined && event.type === \"keydown\" && (event.keyCode === keyCode.DELETE || event.keyCode === keyCode.BACKSPACE)));\n\t\t}\n\t\tif (triggerEvents === true) {\n\t\t\tvar $input = $(input), nptVal = input.inputmask._valueGet();\n\t\t\tinput.inputmask.skipInputEvent = true;\n\t\t\t$input.trigger(\"input\");\n\t\t\tsetTimeout(function () { //timeout needed for IE\n\t\t\t\tif (nptVal === getBufferTemplate.call(inputmask).join(\"\")) {\n\t\t\t\t\t$input.trigger(\"cleared\");\n\t\t\t\t} else if (isComplete.call(inputmask, buffer) === true) {\n\t\t\t\t\t$input.trigger(\"complete\");\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t}\n\t}\n}\n","import {\n\tcaret, determineNewCaretPosition,\n\tgetBuffer, getBufferTemplate,\n\tgetLastValidPosition, isMask,\n\tresetMaskSet,\n\tseekNext,\n\tseekPrevious,\n\ttranslatePosition\n} from \"./positioning\";\nimport keyCode from \"./keycode.json\";\nimport {iemobile, iphone} from \"./environment\";\nimport {handleRemove, isComplete, isValid} from \"./validation\";\nimport {applyInputValue, checkVal, clearOptionalTail, HandleNativePlaceholder, writeBuffer} from \"./inputHandling\";\nimport {getPlaceholder, getTest} from \"./validation-tests\";\n\nexport {EventHandlers};\n\nvar EventHandlers = {\n\tkeydownEvent: function (e) {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts, $ = inputmask.dependencyLib,\n\t\t\tmaskset = inputmask.maskset;\n\n\t\tvar input = this,\n\t\t\t$input = $(input),\n\t\t\tk = e.keyCode,\n\t\t\tpos = caret.call(inputmask, input);\n\n\t\tvar kdResult = opts.onKeyDown.call(this, e, getBuffer.call(inputmask), pos, opts);\n\t\tif (kdResult !== undefined) return kdResult;\n\n\t\t//backspace, delete, and escape get special treatment\n\t\tif (k === keyCode.BACKSPACE || k === keyCode.DELETE || (iphone && k === keyCode.BACKSPACE_SAFARI) || (e.ctrlKey && k === keyCode.X && !(\"oncut\" in input))) { //backspace/delete\n\t\t\te.preventDefault(); //stop default action but allow propagation\n\t\t\thandleRemove.call(inputmask, input, k, pos);\n\t\t\twriteBuffer(input, getBuffer.call(inputmask, true), maskset.p, e, input.inputmask._valueGet() !== getBuffer.call(inputmask).join(\"\"));\n\t\t} else if (k === keyCode.END || k === keyCode.PAGE_DOWN) { //when END or PAGE_DOWN pressed set position at lastmatch\n\t\t\te.preventDefault();\n\t\t\tvar caretPos = seekNext.call(inputmask, getLastValidPosition.call(inputmask));\n\t\t\tcaret.call(inputmask, input, e.shiftKey ? pos.begin : caretPos, caretPos, true);\n\t\t} else if ((k === keyCode.HOME && !e.shiftKey) || k === keyCode.PAGE_UP) { //Home or page_up\n\t\t\te.preventDefault();\n\t\t\tcaret.call(inputmask, input, 0, e.shiftKey ? pos.begin : 0, true);\n\t\t} else if (((opts.undoOnEscape && k === keyCode.ESCAPE) || (k === 90 && e.ctrlKey)) && e.altKey !== true) { //escape && undo && #762\n\t\t\tcheckVal(input, true, false, inputmask.undoValue.split(\"\"));\n\t\t\t$input.trigger(\"click\");\n\t\t\t// } else if (k === keyCode.INSERT && !(e.shiftKey || e.ctrlKey) && inputmask.userOptions.insertMode === undefined) { //insert\n\t\t\t// \topts.insertMode = !opts.insertMode;\n\t\t\t// \tcaret(input, pos.begin, pos.end);\n\t\t} else if (opts.tabThrough === true && k === keyCode.TAB) {\n\t\t\tif (e.shiftKey === true) {\n\t\t\t\tpos.end = seekPrevious.call(inputmask, pos.end, true);\n\t\t\t\tif (getTest.call(inputmask, pos.end - 1).match.static === true) {\n\t\t\t\t\tpos.end--;\n\t\t\t\t}\n\t\t\t\tpos.begin = seekPrevious.call(inputmask, pos.end, true);\n\t\t\t\tif (pos.begin >= 0 && pos.end > 0) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tcaret.call(inputmask, input, pos.begin, pos.end);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpos.begin = seekNext.call(inputmask, pos.begin, true);\n\t\t\t\tpos.end = seekNext.call(inputmask, pos.begin, true);\n\t\t\t\tif (pos.end < maskset.maskLength) pos.end--;\n\t\t\t\tif (pos.begin <= maskset.maskLength) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tcaret.call(inputmask, input, pos.begin, pos.end);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!e.shiftKey) {\n\t\t\tif (opts.insertModeVisual && opts.insertMode === false) {\n\t\t\t\tif (k === keyCode.RIGHT) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tvar caretPos = caret.call(inputmask, input);\n\t\t\t\t\t\tcaret.call(inputmask, input, caretPos.begin);\n\t\t\t\t\t}, 0);\n\t\t\t\t} else if (k === keyCode.LEFT) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tvar caretPos = {\n\t\t\t\t\t\t\tbegin: translatePosition.call(inputmask, input.inputmask.caretPos.begin),\n\t\t\t\t\t\t\tend: translatePosition.call(inputmask, input.inputmask.caretPos.end)\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (inputmask.isRTL) {\n\t\t\t\t\t\t\tcaret.call(inputmask, input, caretPos.begin + (caretPos.begin === maskset.maskLength ? 0 : 1));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcaret.call(inputmask, input, caretPos.begin - (caretPos.begin === 0 ? 0 : 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinputmask.ignorable = opts.ignorables.includes(k);\n\t},\n\tkeypressEvent: function (e, checkval, writeOut, strict, ndx) {\n\t\tconst inputmask = this.inputmask || this, opts = inputmask.opts, $ = inputmask.dependencyLib,\n\t\t\tmaskset = inputmask.maskset;\n\n\t\tvar input = inputmask.el,\n\t\t\t$input = $(input),\n\t\t\tk = e.which || e.charCode || e.keyCode;\n\n\t\tif (checkval !== true && (!(e.ctrlKey && e.altKey) && (e.ctrlKey || e.metaKey || inputmask.ignorable))) {\n\t\t\tif (k === keyCode.ENTER && inputmask.undoValue !== getBuffer.call(inputmask).join(\"\")) {\n\t\t\t\tinputmask.undoValue = getBuffer.call(inputmask).join(\"\");\n\t\t\t\t// e.preventDefault();\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$input.trigger(\"change\");\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t\tinputmask.skipInputEvent = true; //skip the input as otherwise the skipped char could be picked up for validation by the inputfallback\n\t\t\treturn true;\n\t\t} else if (k) {\n\t\t\t//special treat the decimal separator\n\t\t\tif ((k === 44 || k === 46) && e.location === 3 && opts.radixPoint !== \"\") k = opts.radixPoint.charCodeAt(0);\n\t\t\tvar pos = checkval ? {\n\t\t\t\t\tbegin: ndx,\n\t\t\t\t\tend: ndx\n\t\t\t\t} : caret.call(inputmask, input),\n\t\t\t\tforwardPosition, c = String.fromCharCode(k);\n\n\t\t\tmaskset.writeOutBuffer = true;\n\t\t\tvar valResult = isValid.call(inputmask, pos, c, strict, undefined, undefined, undefined, checkval);\n\t\t\tif (valResult !== false) {\n\t\t\t\tresetMaskSet.call(inputmask, true);\n\t\t\t\tforwardPosition = valResult.caret !== undefined ? valResult.caret : seekNext.call(inputmask, valResult.pos.begin ? valResult.pos.begin : valResult.pos);\n\t\t\t\tmaskset.p = forwardPosition; //needed for checkval\n\t\t\t}\n\n\t\t\tforwardPosition = ((opts.numericInput && valResult.caret === undefined) ? seekPrevious.call(inputmask, forwardPosition) : forwardPosition);\n\t\t\tif (writeOut !== false) {\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\topts.onKeyValidation.call(input, k, valResult);\n\t\t\t\t}, 0);\n\t\t\t\tif (maskset.writeOutBuffer && valResult !== false) {\n\t\t\t\t\tvar buffer = getBuffer.call(inputmask);\n\t\t\t\t\twriteBuffer(input, buffer, forwardPosition, e, checkval !== true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\te.preventDefault();\n\n\t\t\tif (checkval) {\n\t\t\t\tif (valResult !== false) valResult.forwardPosition = forwardPosition;\n\t\t\t\treturn valResult;\n\t\t\t}\n\t\t}\n\t},\n\tkeyupEvent: function (e) {\n\t\tconst inputmask = this.inputmask;\n\n\t\tif (inputmask.isComposing && (e.keyCode === keyCode.KEY_229 || e.keyCode === keyCode.ENTER)) {\n\t\t\tinputmask.$el.trigger(\"input\");\n\t\t}\n\t},\n\tpasteEvent: function (e) {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts;\n\n\t\tvar input = this,\n\t\t\tinputValue = inputmask._valueGet(true),\n\t\t\tcaretPos = caret.call(inputmask, input),\n\t\t\ttempValue;\n\n\t\tif (inputmask.isRTL) {\n\t\t\ttempValue = caretPos.end;\n\t\t\tcaretPos.end = caretPos.begin;\n\t\t\tcaretPos.begin = tempValue;\n\t\t}\n\n\t\tvar valueBeforeCaret = inputValue.substr(0, caretPos.begin),\n\t\t\tvalueAfterCaret = inputValue.substr(caretPos.end, inputValue.length);\n\n\t\tif (valueBeforeCaret == (inputmask.isRTL ? getBufferTemplate.call(inputmask).slice().reverse() : getBufferTemplate.call(inputmask)).slice(0, caretPos.begin).join(\"\")) valueBeforeCaret = \"\";\n\t\tif (valueAfterCaret == (inputmask.isRTL ? getBufferTemplate.call(inputmask).slice().reverse() : getBufferTemplate.call(inputmask)).slice(caretPos.end).join(\"\")) valueAfterCaret = \"\";\n\n\t\tif (window.clipboardData && window.clipboardData.getData) { // IE\n\t\t\tinputValue = valueBeforeCaret + window.clipboardData.getData(\"Text\") + valueAfterCaret;\n\t\t} else if (e.clipboardData && e.clipboardData.getData) {\n\t\t\tinputValue = valueBeforeCaret + e.clipboardData.getData(\"text/plain\") + valueAfterCaret;\n\t\t} else {\n\t\t\treturn true;\n\t\t} //allow native paste event as fallback ~ masking will continue by inputfallback\n\n\t\tvar pasteValue = inputValue;\n\t\tif (typeof opts.onBeforePaste === \"function\") {\n\t\t\tpasteValue = opts.onBeforePaste.call(inputmask, inputValue, opts);\n\t\t\tif (pasteValue === false) {\n\t\t\t\treturn e.preventDefault();\n\t\t\t}\n\t\t\tif (!pasteValue) {\n\t\t\t\tpasteValue = inputValue;\n\t\t\t}\n\t\t}\n\t\tcheckVal(input, true, false, pasteValue.toString().split(\"\"), e);\n\t\t// writeBuffer(input, getBuffer(), seekNext(getLastValidPosition()), e, inputmask.undoValue !== getBuffer().join(\"\"));\n\n\t\treturn e.preventDefault();\n\t},\n\tinputFallBackEvent: function (e) { //fallback when keypress is not triggered\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts, $ = inputmask.dependencyLib;\n\n\t\tfunction ieMobileHandler(input, inputValue, caretPos) {\n\t\t\tif (iemobile) { //iemobile just sets the character at the end althought the caret position is correctly set\n\t\t\t\tvar inputChar = inputValue.replace(getBuffer.call(inputmask).join(\"\"), \"\");\n\t\t\t\tif (inputChar.length === 1) {\n\t\t\t\t\tvar iv = inputValue.split(\"\");\n\t\t\t\t\tiv.splice(caretPos.begin, 0, inputChar);\n\t\t\t\t\tinputValue = iv.join(\"\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn inputValue;\n\t\t}\n\n\t\tfunction analyseChanges(inputValue, buffer, caretPos) {\n\t\t\tvar frontPart = inputValue.substr(0, caretPos.begin).split(\"\"),\n\t\t\t\tbackPart = inputValue.substr(caretPos.begin).split(\"\"),\n\t\t\t\tfrontBufferPart = buffer.substr(0, caretPos.begin).split(\"\"),\n\t\t\t\tbackBufferPart = buffer.substr(caretPos.begin).split(\"\");\n\n\t\t\tvar fpl = frontPart.length >= frontBufferPart.length ? frontPart.length : frontBufferPart.length,\n\t\t\t\tbpl = backPart.length >= backBufferPart.length ? backPart.length : backBufferPart.length,\n\t\t\t\tbl, i, action = \"\", data = [], marker = \"~\", placeholder;\n\n\t\t\t//align buffers\n\t\t\twhile (frontPart.length < fpl) frontPart.push(marker);\n\t\t\twhile (frontBufferPart.length < fpl) frontBufferPart.push(marker);\n\t\t\twhile (backPart.length < bpl) backPart.unshift(marker);\n\t\t\twhile (backBufferPart.length < bpl) backBufferPart.unshift(marker);\n\n\t\t\tvar newBuffer = frontPart.concat(backPart);\n\t\t\tvar oldBuffer = frontBufferPart.concat(backBufferPart);\n\n\t\t\t// console.log(\"N \" + newBuffer);\n\t\t\t// console.log(\"O \" + oldBuffer);\n\n\t\t\tfor (i = 0, bl = newBuffer.length; i < bl; i++) {\n\t\t\t\tplaceholder = getPlaceholder.call(inputmask, translatePosition.call(inputmask, i));\n\t\t\t\tswitch (action) {\n\t\t\t\t\tcase \"insertText\":\n\t\t\t\t\t\tif (oldBuffer[i - 1] === newBuffer[i] && caretPos.begin == newBuffer.length - 1) {\n\t\t\t\t\t\t\tdata.push(newBuffer[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti = bl;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"insertReplacementText\":\n\t\t\t\t\t\tif (newBuffer[i] === marker) { //extend selection\n\t\t\t\t\t\t\tcaretPos.end++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// breakout loop\n\t\t\t\t\t\t\ti = bl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"deleteContentBackward\":\n\t\t\t\t\t\tif (newBuffer[i] === marker) {\n\t\t\t\t\t\t\tcaretPos.end++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//breakout loop\n\t\t\t\t\t\t\ti = bl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (newBuffer[i] !== oldBuffer[i]) {\n\t\t\t\t\t\t\tif ((newBuffer[i + 1] === marker || newBuffer[i + 1] === placeholder || newBuffer[i + 1] === undefined) && ((oldBuffer[i] === placeholder && oldBuffer[i + 1] === marker) || oldBuffer[i] === marker)) {  //basic insert\n\t\t\t\t\t\t\t\taction = \"insertText\";\n\t\t\t\t\t\t\t\tdata.push(newBuffer[i]);\n\t\t\t\t\t\t\t\tcaretPos.begin--;\n\t\t\t\t\t\t\t\tcaretPos.end--;\n\t\t\t\t\t\t\t} else if (oldBuffer[i + 1] === marker && oldBuffer[i] === newBuffer[i + 1]) { //insert between\n\t\t\t\t\t\t\t\taction = \"insertText\";\n\t\t\t\t\t\t\t\tdata.push(newBuffer[i]);\n\t\t\t\t\t\t\t\tcaretPos.begin--;\n\t\t\t\t\t\t\t\tcaretPos.end--;\n\t\t\t\t\t\t\t} else if (newBuffer[i] !== placeholder && newBuffer[i] !== marker &&\n\t\t\t\t\t\t\t\t(newBuffer[i + 1] === marker || (oldBuffer[i] !== newBuffer[i] && oldBuffer[i + 1] === newBuffer[i + 1] /*single char replacement*/))) { //replace selection\n\t\t\t\t\t\t\t\taction = \"insertReplacementText\";\n\t\t\t\t\t\t\t\tdata.push(newBuffer[i]);\n\t\t\t\t\t\t\t\tcaretPos.begin--;\n\t\t\t\t\t\t\t} else if (newBuffer[i] === marker) {  //delete~backspace\n\t\t\t\t\t\t\t\taction = \"deleteContentBackward\";\n\t\t\t\t\t\t\t\tif (isMask.call(inputmask, translatePosition.call(inputmask, i), true) || oldBuffer[i] === opts.radixPoint) caretPos.end++;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ti = bl;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\taction: action,\n\t\t\t\tdata: data,\n\t\t\t\tcaret: caretPos\n\t\t\t};\n\t\t}\n\n\t\tvar input = this,\n\t\t\tinputValue = input.inputmask._valueGet(true),\n\t\t\tbuffer = (inputmask.isRTL ? getBuffer.call(inputmask).slice().reverse() : getBuffer.call(inputmask)).join(\"\"),\n\t\t\tcaretPos = caret.call(inputmask, input, undefined, undefined, true);\n\n\t\tif (buffer !== inputValue) {\n\t\t\t// inputValue = radixPointHandler(input, inputValue, caretPos);\n\t\t\tinputValue = ieMobileHandler(input, inputValue, caretPos);\n\n\t\t\tvar changes = analyseChanges(inputValue, buffer, caretPos);\n\n\t\t\t// console.log(JSON.stringify(changes));\n\t\t\tif ((input.inputmask.shadowRoot || document).activeElement !== input) {\n\t\t\t\tinput.focus();\n\t\t\t}\n\t\t\twriteBuffer(input, getBuffer.call(inputmask));\n\t\t\tcaret.call(inputmask, input, caretPos.begin, caretPos.end, true);\n\t\t\tswitch (changes.action) {\n\t\t\t\tcase \"insertText\":\n\t\t\t\tcase \"insertReplacementText\":\n\t\t\t\t\tchanges.data.forEach(function (entry, ndx) {\n\t\t\t\t\t\tvar keypress = new $.Event(\"keypress\");\n\t\t\t\t\t\tkeypress.which = entry.charCodeAt(0);\n\t\t\t\t\t\tinputmask.ignorable = false; //make sure ignorable is ignored ;-)\n\t\t\t\t\t\tEventHandlers.keypressEvent.call(input, keypress);\n\t\t\t\t\t});\n\t\t\t\t\tsetTimeout(function () {  //#2195 trigger keyup to help some other plugins to track changes\n\t\t\t\t\t\tinputmask.$el.trigger(\"keyup\");\n\t\t\t\t\t}, 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"deleteContentBackward\":\n\t\t\t\t\tvar keydown = new $.Event(\"keydown\");\n\t\t\t\t\tkeydown.keyCode = keyCode.BACKSPACE;\n\t\t\t\t\tEventHandlers.keydownEvent.call(input, keydown);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tapplyInputValue(input, inputValue);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tcompositionendEvent: function (e) {\n\t\tconst inputmask = this.inputmask;\n\n\t\tinputmask.isComposing = false;\n\t\tinputmask.$el.trigger(\"input\");\n\t},\n\tsetValueEvent: function (e) {\n\t\tconst inputmask = this.inputmask;\n\t\tvar input = this,\n\t\t\tvalue = (e && e.detail) ? e.detail[0] : arguments[1];\n\n\t\tif (value === undefined) {\n\t\t\tvalue = input.inputmask._valueGet(true);\n\t\t}\n\n\t\tapplyInputValue(input, value);\n\n\t\tif ((e.detail && e.detail[1] !== undefined) || arguments[2] !== undefined) {\n\t\t\tcaret.call(inputmask, input, e.detail ? e.detail[1] : arguments[2]);\n\t\t}\n\t}\n\t,\n\tfocusEvent: function (e) {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts;\n\t\tvar input = this,\n\t\t\tnptValue = input.inputmask._valueGet();\n\n\t\tif (opts.showMaskOnFocus) {\n\t\t\tif (nptValue !== getBuffer.call(inputmask).join(\"\")) {\n\t\t\t\twriteBuffer(input, getBuffer.call(inputmask), seekNext.call(inputmask, getLastValidPosition.call(inputmask)));\n\t\t\t} /*else if (mouseEnter === false) { //only executed on focus without mouseenter\n\t\t\t\t\tcaret(input, seekNext(getLastValidPosition()));\n\t\t\t\t}*/\n\t\t}\n\t\tif (opts.positionCaretOnTab === true && inputmask.mouseEnter === false && (!isComplete.call(inputmask, getBuffer.call(inputmask)) || getLastValidPosition.call(inputmask) === -1)) {\n\t\t\tEventHandlers.clickEvent.apply(input, [e, true]);\n\t\t}\n\t\tinputmask.undoValue = getBuffer.call(inputmask).join(\"\");\n\t},\n\tinvalidEvent: function (e) {\n\t\tthis.inputmask.validationEvent = true;\n\t},\n\tmouseleaveEvent: function () {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts;\n\n\t\tvar input = this;\n\t\tinputmask.mouseEnter = false;\n\t\tif (opts.clearMaskOnLostFocus && (input.inputmask.shadowRoot || document).activeElement !== input) {\n\t\t\tHandleNativePlaceholder(input, inputmask.originalPlaceholder);\n\t\t}\n\t},\n\tclickEvent: function (e, tabbed) {\n\t\tconst inputmask = this.inputmask;\n\n\t\tvar input = this;\n\t\tif ((input.inputmask.shadowRoot || document).activeElement === input) {\n\t\t\tvar newCaretPosition = determineNewCaretPosition.call(inputmask, caret.call(inputmask, input), tabbed);\n\t\t\tif (newCaretPosition !== undefined) {\n\t\t\t\tcaret.call(inputmask, input, newCaretPosition);\n\t\t\t}\n\t\t}\n\t},\n\tcutEvent: function (e) {\n\t\tconst inputmask = this.inputmask, maskset = inputmask.maskset;\n\n\t\tvar input = this,\n\t\t\tpos = caret.call(inputmask, input);\n\n\t\t//correct clipboardData\n\t\tvar clipboardData = window.clipboardData || e.clipboardData,\n\t\t\tclipData = inputmask.isRTL ? getBuffer.call(inputmask).slice(pos.end, pos.begin) : getBuffer.call(inputmask).slice(pos.begin, pos.end);\n\t\tclipboardData.setData(\"text\", inputmask.isRTL ? clipData.reverse().join(\"\") : clipData.join(\"\"));\n\t\tif (document.execCommand) document.execCommand(\"copy\"); // copy selected content to system clipbaord\n\n\t\thandleRemove.call(inputmask, input, keyCode.DELETE, pos);\n\t\twriteBuffer(input, getBuffer.call(inputmask), maskset.p, e, inputmask.undoValue !== getBuffer.call(inputmask).join(\"\"));\n\t}\n\t,\n\tblurEvent: function (e) {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts, $ = inputmask.dependencyLib;\n\n\t\tvar $input = $(this),\n\t\t\tinput = this;\n\t\tif (input.inputmask) {\n\t\t\tHandleNativePlaceholder(input, inputmask.originalPlaceholder);\n\t\t\tvar nptValue = input.inputmask._valueGet(),\n\t\t\t\tbuffer = getBuffer.call(inputmask).slice();\n\n\t\t\tif (nptValue !== \"\") {\n\t\t\t\tif (opts.clearMaskOnLostFocus) {\n\t\t\t\t\tif (getLastValidPosition.call(inputmask) === -1 && nptValue === getBufferTemplate.call(inputmask).join(\"\")) {\n\t\t\t\t\t\tbuffer = [];\n\t\t\t\t\t} else { //clearout optional tail of the mask\n\t\t\t\t\t\tclearOptionalTail.call(inputmask, buffer);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isComplete.call(inputmask, buffer) === false) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$input.trigger(\"incomplete\");\n\t\t\t\t\t}, 0);\n\t\t\t\t\tif (opts.clearIncomplete) {\n\t\t\t\t\t\tresetMaskSet.call(inputmask);\n\t\t\t\t\t\tif (opts.clearMaskOnLostFocus) {\n\t\t\t\t\t\t\tbuffer = [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbuffer = getBufferTemplate.call(inputmask).slice();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\twriteBuffer(input, buffer, undefined, e);\n\t\t\t}\n\n\t\t\tif (inputmask.undoValue !== getBuffer.call(inputmask).join(\"\")) {\n\t\t\t\tinputmask.undoValue = getBuffer.call(inputmask).join(\"\");\n\t\t\t\t$input.trigger(\"change\");\n\t\t\t}\n\t\t}\n\t}\n\t,\n\tmouseenterEvent: function () {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts;\n\n\t\tvar input = this;\n\t\tinputmask.mouseEnter = true;\n\t\tif ((input.inputmask.shadowRoot || document).activeElement !== input) {\n\t\t\tif (inputmask.originalPlaceholder == undefined && input.placeholder !== inputmask.originalPlaceholder) {\n\t\t\t\tinputmask.originalPlaceholder = input.placeholder;\n\t\t\t}\n\t\t\tif (opts.showMaskOnHover) {\n\t\t\t\tHandleNativePlaceholder(input, (inputmask.isRTL ? getBufferTemplate.call(inputmask).slice().reverse() : getBufferTemplate.call(inputmask)).join(\"\"));\n\t\t\t}\n\t\t}\n\t}\n\t,\n\tsubmitEvent: function () { //trigger change on submit if any\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts;\n\n\t\tif (inputmask.undoValue !== getBuffer.call(inputmask).join(\"\")) {\n\t\t\tinputmask.$el.trigger(\"change\");\n\t\t}\n\t\tif (opts.clearMaskOnLostFocus && getLastValidPosition.call(inputmask) === -1 && inputmask._valueGet && inputmask._valueGet() === getBufferTemplate.call(inputmask).join(\"\")) {\n\t\t\tinputmask._valueSet(\"\"); //clear masktemplete on submit and still has focus\n\t\t}\n\t\tif (opts.clearIncomplete && isComplete.call(inputmask, getBuffer.call(inputmask)) === false) {\n\t\t\tinputmask._valueSet(\"\");\n\t\t}\n\t\tif (opts.removeMaskOnSubmit) {\n\t\t\tinputmask._valueSet(inputmask.unmaskedvalue(), true);\n\t\t\tsetTimeout(function () {\n\t\t\t\twriteBuffer(inputmask.el, getBuffer.call(inputmask));\n\t\t\t}, 0);\n\t\t}\n\t},\n\tresetEvent: function () {\n\t\tconst inputmask = this.inputmask;\n\n\t\tinputmask.refreshValue = true; //indicate a forced refresh when there is a call to the value before leaving the triggering event fn\n\t\tsetTimeout(function () {\n\t\t\tapplyInputValue(inputmask.el, inputmask._valueGet(true));\n\t\t}, 0);\n\t}\n};\n","import {\n\tdetermineTestTemplate,\n\tgetDecisionTaker,\n\tgetPlaceholder,\n\tgetTest,\n\tgetTests,\n\tgetTestTemplate\n} from \"./validation-tests\";\nimport keyCode from \"./keycode.json\";\nimport {\n\tdetermineLastRequiredPosition, determineNewCaretPosition,\n\tgetBuffer,\n\tgetLastValidPosition,\n\tisMask,\n\tresetMaskSet,\n\tseekNext,\n\tseekPrevious\n} from \"./positioning\";\nimport {EventHandlers} from \"./eventhandlers\";\n\nexport {alternate, checkAlternationMatch, isComplete, isValid, refreshFromBuffer, revalidateMask, handleRemove};\n\n//tobe put on prototype?\nfunction alternate(maskPos, c, strict, fromIsValid, rAltPos, selection) { //pos == true => generalize\n\tconst inputmask = this,\n\t\t$ = this.dependencyLib,\n\t\topts = this.opts,\n\t\tmaskset = inputmask.maskset;\n\n\tvar validPsClone = $.extend(true, {}, maskset.validPositions),\n\t\ttstClone = $.extend(true, {}, maskset.tests),\n\t\tlastAlt,\n\t\talternation,\n\t\tisValidRslt = false, returnRslt = false,\n\t\taltPos, prevAltPos, i, validPos,\n\t\tdecisionPos,\n\t\tlAltPos = rAltPos !== undefined ? rAltPos : getLastValidPosition.call(inputmask), nextPos, input, begin, end;\n\n\tif (selection) {\n\t\tbegin = selection.begin;\n\t\tend = selection.end;\n\t\tif (selection.begin > selection.end) {\n\t\t\tbegin = selection.end;\n\t\t\tend = selection.begin;\n\t\t}\n\t}\n\tif (lAltPos === -1 && rAltPos === undefined) { //do not recurse when already paste the beginning\n\t\tlastAlt = 0;\n\t\tprevAltPos = getTest.call(inputmask, lastAlt);\n\t\talternation = prevAltPos.alternation;\n\t} else {\n\t\t//find last modified alternation\n\t\tfor (; lAltPos >= 0; lAltPos--) {\n\t\t\taltPos = maskset.validPositions[lAltPos];\n\t\t\tif (altPos && altPos.alternation !== undefined) {\n\t\t\t\tif (prevAltPos && prevAltPos.locator[altPos.alternation] !== altPos.locator[altPos.alternation]) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlastAlt = lAltPos;\n\t\t\t\talternation = maskset.validPositions[lastAlt].alternation;\n\t\t\t\tprevAltPos = altPos;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (alternation !== undefined) {\n\t\tdecisionPos = parseInt(lastAlt);\n\t\tmaskset.excludes[decisionPos] = maskset.excludes[decisionPos] || [];\n\t\tif (maskPos !== true) { //generalize\n\t\t\tmaskset.excludes[decisionPos].push(getDecisionTaker(prevAltPos) + \":\" + prevAltPos.alternation);\n\t\t}\n\n\t\tvar validInputs = [], resultPos = -1;\n\t\tfor (i = decisionPos; i < getLastValidPosition.call(inputmask, undefined, true) + 1; i++) {\n\t\t\tif (resultPos === -1 && maskPos <= i && c !== undefined) {\n\t\t\t\tvalidInputs.push(c);\n\t\t\t\tresultPos = validInputs.length - 1;\n\t\t\t}\n\t\t\tvalidPos = maskset.validPositions[i];\n\t\t\tif (validPos && validPos.generatedInput !== true && (selection === undefined || (i < begin || i >= end))) {\n\t\t\t\tvalidInputs.push(validPos.input);\n\t\t\t}\n\t\t\tdelete maskset.validPositions[i];\n\t\t}\n\t\tif (resultPos === -1 && c !== undefined) {\n\t\t\tvalidInputs.push(c);\n\t\t\tresultPos = validInputs.length - 1;\n\t\t}\n\n\t\twhile (maskset.excludes[decisionPos] !== undefined && maskset.excludes[decisionPos].length < 10) {\n\t\t\t// maskset.tests[decisionPos] = undefined; //clear decisionPos\n\t\t\tmaskset.tests = {};  //clear all\n\t\t\tresetMaskSet.call(inputmask, true); //clear getbuffer\n\t\t\tisValidRslt = true;\n\t\t\tfor (i = 0; i < validInputs.length; i++) {\n\t\t\t\tnextPos = isValidRslt.caret || (getLastValidPosition.call(inputmask, undefined, true) + 1);\n\t\t\t\tinput = validInputs[i];\n\t\t\t\tif (!(isValidRslt = isValid.call(inputmask, nextPos, input, false, fromIsValid, true))) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (i === resultPos) {\n\t\t\t\t\treturnRslt = isValidRslt;\n\t\t\t\t}\n\t\t\t\tif (maskPos == true && isValidRslt) {  //return validposition on generalise\n\t\t\t\t\treturnRslt = {caretPos: i};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isValidRslt) {\n\t\t\t\tresetMaskSet.call(inputmask);\n\t\t\t\tprevAltPos = getTest.call(inputmask, decisionPos);  //get the current decisionPos to exclude ~ needs to be before restoring the initial validation\n\t\t\t\t//reset & revert\n\t\t\t\tmaskset.validPositions = $.extend(true, {}, validPsClone);\n\t\t\t\tmaskset.tests = $.extend(true, {}, tstClone); //refresh tests after possible alternating\n\t\t\t\tif (maskset.excludes[decisionPos]) {\n\t\t\t\t\tvar decisionTaker = getDecisionTaker(prevAltPos);\n\t\t\t\t\tif (maskset.excludes[decisionPos].indexOf(decisionTaker + \":\" + prevAltPos.alternation) !== -1) {\n\t\t\t\t\t\treturnRslt = alternate.call(inputmask, maskPos, c, strict, fromIsValid, decisionPos - 1, selection);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tmaskset.excludes[decisionPos].push(decisionTaker + \":\" + prevAltPos.alternation);\n\t\t\t\t\tfor (i = decisionPos; i < getLastValidPosition.call(inputmask, undefined, true) + 1; i++) delete maskset.validPositions[i];\n\t\t\t\t} else { //latest alternation\n\t\t\t\t\treturnRslt = alternate.call(inputmask, maskPos, c, strict, fromIsValid, decisionPos - 1, selection);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t//reset alternation excludes\n\tif (!returnRslt || opts.keepStatic !== false) {\n\t\tdelete maskset.excludes[decisionPos];\n\t}\n\treturn returnRslt;\n}\n\nfunction casing(elem, test, pos) {\n\tconst opts = this.opts,\n\t\tmaskset = this.maskset;\n\n\tswitch (opts.casing || test.casing) {\n\t\tcase \"upper\":\n\t\t\telem = elem.toUpperCase();\n\t\t\tbreak;\n\t\tcase \"lower\":\n\t\t\telem = elem.toLowerCase();\n\t\t\tbreak;\n\t\tcase \"title\":\n\t\t\tvar posBefore = maskset.validPositions[pos - 1];\n\t\t\tif (pos === 0 || posBefore && posBefore.input === String.fromCharCode(keyCode.SPACE)) {\n\t\t\t\telem = elem.toUpperCase();\n\t\t\t} else {\n\t\t\t\telem = elem.toLowerCase();\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tif (typeof opts.casing === \"function\") {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\targs.push(maskset.validPositions);\n\t\t\t\telem = opts.casing.apply(this, args);\n\t\t\t}\n\t}\n\n\treturn elem;\n}\n\n//tobe put on prototype?\nfunction checkAlternationMatch(altArr1, altArr2, na) {\n\tconst opts = this.opts;\n\n\tvar altArrC = opts.greedy ? altArr2 : altArr2.slice(0, 1),\n\t\tisMatch = false,\n\t\tnaArr = na !== undefined ? na.split(\",\") : [],\n\t\tnaNdx;\n\n\t//remove no alternate indexes from alternation array\n\tfor (var i = 0; i < naArr.length; i++) {\n\t\tif ((naNdx = altArr1.indexOf(naArr[i])) !== -1) {\n\t\t\taltArr1.splice(naNdx, 1);\n\t\t}\n\t}\n\n\tfor (var alndx = 0; alndx < altArr1.length; alndx++) {\n\t\tif (altArrC.includes(altArr1[alndx])) {\n\t\t\tisMatch = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn isMatch;\n}\n\n//tobe put on prototype?\nfunction handleRemove(input, k, pos, strict, fromIsValid) {\n\tconst inputmask = this, maskset = this.maskset, opts = this.opts;\n\n\tif (opts.numericInput || inputmask.isRTL) {\n\t\tif (k === keyCode.BACKSPACE) {\n\t\t\tk = keyCode.DELETE;\n\t\t} else if (k === keyCode.DELETE) {\n\t\t\tk = keyCode.BACKSPACE;\n\t\t}\n\n\t\tif (inputmask.isRTL) {\n\t\t\tvar pend = pos.end;\n\t\t\tpos.end = pos.begin;\n\t\t\tpos.begin = pend;\n\t\t}\n\t}\n\n\tvar lvp = getLastValidPosition.call(inputmask, undefined, true);\n\tif (pos.end >= getBuffer.call(inputmask).length && lvp >= pos.end) { //handle numeric negate symbol offset, due to  dynamic jit masking\n\t\tpos.end = lvp + 1;\n\t}\n\n\tif (k === keyCode.BACKSPACE) {\n\t\tif ((pos.end - pos.begin < 1)) {\n\t\t\tpos.begin = seekPrevious.call(inputmask, pos.begin);\n\t\t}\n\t} else if (k === keyCode.DELETE) {\n\t\tif (pos.begin === pos.end) {\n\t\t\tpos.end = isMask.call(inputmask, pos.end, true, true) ? pos.end + 1 : seekNext.call(inputmask, pos.end) + 1;\n\t\t}\n\t}\n\tvar offset;\n\tif ((offset = revalidateMask.call(inputmask, pos)) !== false) {\n\t\tif (strict !== true && opts.keepStatic !== false || (opts.regex !== null && getTest.call(inputmask, pos.begin).match.def.indexOf(\"|\") !== -1)) { //TODO NEEDS BETTER CHECK WHEN TO ALTERNATE  ~ opts regex isn\"t good enough\n\t\t\tvar result = alternate.call(inputmask, true);\n\t\t\tif (result) {\n\t\t\t\tvar newPos = result.caret !== undefined ? result.caret : (result.pos ? seekNext.call(inputmask, result.pos.begin ? result.pos.begin : result.pos) : getLastValidPosition.call(inputmask, -1, true));\n\t\t\t\tif (k !== keyCode.DELETE || pos.begin > newPos) {\n\t\t\t\t\tpos.begin == newPos;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (strict !== true) {\n\t\t\tmaskset.p = k === keyCode.DELETE ? pos.begin + offset : pos.begin;\n\t\t}\n\t}\n}\n\n//tobe put on prototype?\nfunction isComplete(buffer) { //return true / false / undefined (repeat *)\n\tconst inputmask = this, opts = this.opts, maskset = this.maskset;\n\n\tif (typeof opts.isComplete === \"function\") return opts.isComplete(buffer, opts);\n\tif (opts.repeat === \"*\") return undefined;\n\tvar complete = false,\n\t\tlrp = determineLastRequiredPosition.call(inputmask, true),\n\t\taml = seekPrevious.call(inputmask, lrp.l);\n\n\tif (lrp.def === undefined || lrp.def.newBlockMarker || lrp.def.optionality || lrp.def.optionalQuantifier) {\n\t\tcomplete = true;\n\t\tfor (var i = 0; i <= aml; i++) {\n\t\t\tvar test = getTestTemplate.call(inputmask, i).match;\n\t\t\tif ((test.static !== true && maskset.validPositions[i] === undefined && test.optionality !== true && test.optionalQuantifier !== true) || (test.static === true && buffer[i] !== getPlaceholder.call(inputmask, i, test))) {\n\t\t\t\tcomplete = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn complete;\n}\n\n//tobe put on prototype?\nfunction isValid(pos, c, strict, fromIsValid, fromAlternate, validateOnly, fromCheckval) { //strict true ~ no correction or autofill\n\tconst inputmask = this,\n\t\t$ = this.dependencyLib,\n\t\topts = this.opts,\n\t\tel = inputmask.el,\n\t\tmaskset = inputmask.maskset;\n\n\tfunction isSelection(posObj) {\n\t\treturn inputmask.isRTL ? (posObj.begin - posObj.end) > 1 || ((posObj.begin - posObj.end) === 1) :\n\t\t\t(posObj.end - posObj.begin) > 1 || ((posObj.end - posObj.begin) === 1);\n\t}\n\n\tstrict = strict === true; //always set a value to strict to prevent possible strange behavior in the extensions\n\n\tvar maskPos = pos;\n\tif (pos.begin !== undefined) { //position was a position object - used to handle a delete by typing over a selection\n\t\tmaskPos = inputmask.isRTL ? pos.end : pos.begin;\n\t}\n\n\tfunction processCommandObject(commandObj) {\n\t\tif (commandObj !== undefined) {\n\t\t\tif (commandObj.remove !== undefined) { //remove position(s)\n\t\t\t\tif (!Array.isArray(commandObj.remove)) commandObj.remove = [commandObj.remove];\n\t\t\t\tcommandObj.remove.sort(function (a, b) {\n\t\t\t\t\treturn b.pos - a.pos;\n\t\t\t\t}).forEach(function (lmnt) {\n\t\t\t\t\trevalidateMask.call(inputmask, {begin: lmnt, end: lmnt + 1});\n\t\t\t\t});\n\t\t\t\tcommandObj.remove = undefined;\n\t\t\t}\n\t\t\tif (commandObj.insert !== undefined) { //insert position(s)\n\t\t\t\tif (!Array.isArray(commandObj.insert)) commandObj.insert = [commandObj.insert];\n\t\t\t\tcommandObj.insert.sort(function (a, b) {\n\t\t\t\t\treturn a.pos - b.pos;\n\t\t\t\t}).forEach(function (lmnt) {\n\t\t\t\t\tif (lmnt.c !== \"\") {\n\t\t\t\t\t\tisValid.call(inputmask, lmnt.pos, lmnt.c, lmnt.strict !== undefined ? lmnt.strict : true, lmnt.fromIsValid !== undefined ? lmnt.fromIsValid : fromIsValid);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcommandObj.insert = undefined;\n\t\t\t}\n\n\t\t\tif (commandObj.refreshFromBuffer && commandObj.buffer) {\n\t\t\t\tvar refresh = commandObj.refreshFromBuffer;\n\t\t\t\trefreshFromBuffer.call(inputmask, refresh === true ? refresh : refresh.start, refresh.end, commandObj.buffer);\n\t\t\t\tcommandObj.refreshFromBuffer = undefined;\n\t\t\t}\n\n\t\t\tif (commandObj.rewritePosition !== undefined) {\n\t\t\t\tmaskPos = commandObj.rewritePosition;\n\t\t\t\t// commandObj.rewritePosition = undefined;\n\t\t\t\tcommandObj = true;\n\t\t\t}\n\t\t}\n\t\treturn commandObj;\n\t}\n\n\tfunction _isValid(position, c, strict) {\n\t\tvar rslt = false;\n\n\t\tgetTests.call(inputmask, position).every(function (tst, ndx) {\n\t\t\tvar test = tst.match;\n\t\t\t//make sure the buffer is set and correct\n\t\t\tgetBuffer.call(inputmask, true);\n\t\t\t//return is false or a json object => { pos: ??, c: ??} or true\n\t\t\trslt = test.fn != null ?\n\t\t\t\ttest.fn.test(c, maskset, position, strict, opts, isSelection(pos)) : (c === test.def || c === opts.skipOptionalPartCharacter) && test.def !== \"\" ? //non mask\n\t\t\t\t\t{\n\t\t\t\t\t\tc: getPlaceholder.call(inputmask, position, test, true) || test.def,\n\t\t\t\t\t\tpos: position\n\t\t\t\t\t} : false;\n\n\t\t\tif (rslt !== false) {\n\t\t\t\tvar elem = rslt.c !== undefined ? rslt.c : c, validatedPos = position;\n\t\t\t\telem = (elem === opts.skipOptionalPartCharacter && test.static === true) ?\n\t\t\t\t\t(getPlaceholder.call(inputmask, position, test, true) || test.def) : elem;\n\n\t\t\t\trslt = processCommandObject(rslt);\n\n\t\t\t\tif (rslt !== true && rslt.pos !== undefined && rslt.pos !== position) { //their is a position offset\n\t\t\t\t\tvalidatedPos = rslt.pos;\n\t\t\t\t}\n\n\t\t\t\tif (rslt !== true && rslt.pos === undefined && rslt.c === undefined) {\n\t\t\t\t\treturn false; //breakout if nothing to insert\n\t\t\t\t}\n\n\t\t\t\tif (revalidateMask.call(inputmask, pos, $.extend({}, tst, {\n\t\t\t\t\t\"input\": casing.call(inputmask, elem, test, validatedPos)\n\t\t\t\t}), fromIsValid, validatedPos) === false) {\n\t\t\t\t\trslt = false;\n\t\t\t\t}\n\t\t\t\treturn false; //break from loop\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\t\treturn rslt;\n\t}\n\n\tvar result = true,\n\t\tpositionsClone = $.extend(true, {}, maskset.validPositions); //clone the currentPositions\n\n\tif (opts.keepStatic === false && maskset.excludes[maskPos] !== undefined && fromAlternate !== true && fromIsValid !== true) {\n\t\tfor (var i = maskPos; i < (inputmask.isRTL ? pos.begin : pos.end); i++) {\n\t\t\tif (maskset.excludes[i] !== undefined) {\n\t\t\t\tmaskset.excludes[i] = undefined;\n\t\t\t\tdelete maskset.tests[i];\n\t\t\t}\n\t\t}\n\t}\n\n\tif (typeof opts.preValidation === \"function\" && fromIsValid !== true && validateOnly !== true) {\n\t\tresult = opts.preValidation.call(el, getBuffer.call(inputmask), maskPos, c, isSelection(pos), opts, maskset, pos, strict || fromAlternate);\n\t\tresult = processCommandObject(result);\n\t}\n\tif (result === true) { //preValidation result\n\t\tif (inputmask.maxLength === undefined || maskPos < inputmask.maxLength) {\n\t\t\tresult = _isValid(maskPos, c, strict);\n\t\t\tif ((!strict || fromIsValid === true) && result === false && validateOnly !== true) {\n\t\t\t\tvar currentPosValid = maskset.validPositions[maskPos];\n\t\t\t\tif (currentPosValid && currentPosValid.match.static === true && (currentPosValid.match.def === c || c === opts.skipOptionalPartCharacter)) {\n\t\t\t\t\tresult = {\n\t\t\t\t\t\t\"caret\": seekNext.call(inputmask, maskPos)\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tif (opts.insertMode || maskset.validPositions[seekNext.call(inputmask, maskPos)] === undefined || pos.end > maskPos) { //does the input match on a further position?\n\t\t\t\t\t\tvar skip = false;\n\t\t\t\t\t\tif (maskset.jitOffset[maskPos] && maskset.validPositions[seekNext.call(inputmask, maskPos)] === undefined) {\n\t\t\t\t\t\t\tresult = isValid.call(inputmask, maskPos + maskset.jitOffset[maskPos], c, true);\n\t\t\t\t\t\t\tif (result !== false) {\n\t\t\t\t\t\t\t\tif (fromAlternate !== true) result.caret = maskPos;\n\t\t\t\t\t\t\t\tskip = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (pos.end > maskPos) {\n\t\t\t\t\t\t\tmaskset.validPositions[maskPos] = undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!skip && !isMask.call(inputmask, maskPos, opts.keepStatic && maskPos === 0)) {\n\t\t\t\t\t\t\tfor (var nPos = maskPos + 1, snPos = seekNext.call(inputmask, maskPos, false, maskPos !== 0); nPos <= snPos; nPos++) {\n\t\t\t\t\t\t\t\t// if (!isMask(nPos, true)) {\n\t\t\t\t\t\t\t\t// \tcontinue;\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\tresult = _isValid(nPos, c, strict);\n\t\t\t\t\t\t\t\tif (result !== false) {\n\t\t\t\t\t\t\t\t\tresult = trackbackPositions.call(inputmask, maskPos, result.pos !== undefined ? result.pos : nPos) || result;\n\t\t\t\t\t\t\t\t\tmaskPos = nPos;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tresult = false;\n\t\t}\n\n\n\t\tif (result === false && opts.keepStatic && (isComplete.call(inputmask, getBuffer.call(inputmask)) || maskPos === 0) && !strict && fromAlternate !== true) { //try fuzzy alternator logic\n\t\t\tresult = alternate.call(inputmask, maskPos, c, strict, fromIsValid, undefined, pos);\n\t\t} else if (isSelection(pos) && maskset.tests[maskPos] && maskset.tests[maskPos].length > 1 && opts.keepStatic && !strict && fromAlternate !== true) { //selection clears an alternated keepstatic mask ~ #2189\n\t\t\tresult = alternate.call(inputmask, true);\n\t\t}\n\n\t\tif (result === true) {\n\t\t\tresult = {\n\t\t\t\t\"pos\": maskPos\n\t\t\t};\n\t\t}\n\t}\n\tif (typeof opts.postValidation === \"function\" && fromIsValid !== true && validateOnly !== true) {\n\t\tvar postResult = opts.postValidation.call(el, getBuffer.call(inputmask, true), pos.begin !== undefined ? (inputmask.isRTL ? pos.end : pos.begin) : pos, c, result, opts, maskset, strict, fromCheckval);\n\t\tif (postResult !== undefined) {\n\t\t\tresult = postResult === true ? result : postResult;\n\t\t}\n\t}\n\n\tif (result && result.pos === undefined) {\n\t\tresult.pos = maskPos;\n\t}\n\n\tif (result === false || validateOnly === true) {\n\t\tresetMaskSet.call(inputmask, true);\n\t\tmaskset.validPositions = $.extend(true, {}, positionsClone); //revert validation changes\n\t} else {\n\t\ttrackbackPositions.call(inputmask, undefined, maskPos, true);\n\t}\n\n\tvar endResult = processCommandObject(result);\n\t// console.log(\"returned result \" + JSON.stringify(endResult));\n\treturn endResult;\n}\n\n//tobe put on prototype?\nfunction positionCanMatchDefinition(pos, testDefinition, opts) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset;\n\n\tvar valid = false,\n\t\ttests = getTests.call(inputmask, pos);\n\tfor (var tndx = 0; tndx < tests.length; tndx++) {\n\t\tif (tests[tndx].match &&\n\t\t\t((tests[tndx].match[\"nativeDef\"] === testDefinition.match[opts.shiftPositions ? \"def\" : \"nativeDef\"] && (!opts.shiftPositions || !testDefinition.match.static)) ||\n\t\t\t\ttests[tndx].match[\"nativeDef\"] === testDefinition.match[\"nativeDef\"])) {\n\t\t\tvalid = true;\n\t\t\tbreak;\n\t\t} else if (tests[tndx].match && tests[tndx].match[\"def\"] === testDefinition.match[\"nativeDef\"]) {\n\t\t\tvalid = undefined;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (valid === false) {\n\t\tif (maskset.jitOffset[pos] !== undefined) {\n\t\t\tvalid = positionCanMatchDefinition.call(inputmask, pos + maskset.jitOffset[pos], testDefinition, opts);\n\t\t}\n\t}\n\treturn valid;\n}\n\n//tobe put on prototype?\nfunction refreshFromBuffer(start, end, buffer) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset,\n\t\topts = this.opts,\n\t\t$ = this.dependencyLib,\n\t\tel = inputmask.el;\n\n\t// checkVal.call(inputmask, el, false, true, isRTL ? buffer.reverse() : buffer);\n\tvar i, p, skipOptionalPartCharacter = opts.skipOptionalPartCharacter,\n\t\tbffr = inputmask.isRTL ? buffer.slice().reverse() : buffer;\n\topts.skipOptionalPartCharacter = \"\";\n\tif (start === true) {\n\t\tresetMaskSet.call(inputmask);\n\t\tmaskset.tests = {}; //refresh tests after possible alternating\n\t\tstart = 0;\n\t\tend = buffer.length;\n\t\tp = determineNewCaretPosition.call(inputmask, {begin: 0, end: 0}, false).begin;\n\t} else {\n\t\tfor (i = start; i < end; i++) {\n\t\t\tdelete maskset.validPositions[i];\n\t\t}\n\t\tp = start;\n\t}\n\n\tvar keypress = new $.Event(\"keypress\");\n\tfor (i = start; i < end; i++) {\n\t\tkeypress.which = bffr[i].toString().charCodeAt(0);\n\t\tinputmask.ignorable = false; //make sure ignorable is ignored ;-)\n\t\tvar valResult = EventHandlers.keypressEvent.call(el, keypress, true, false, false, p);\n\t\tif (valResult !== false) {\n\t\t\tp = valResult.forwardPosition;\n\t\t}\n\t}\n\n\topts.skipOptionalPartCharacter = skipOptionalPartCharacter;\n}\n\n//tobe put on prototype?\n//fill in best positions according the current input\nfunction trackbackPositions(originalPos, newPos, fillOnly) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset,\n\t\t$ = this.dependencyLib;\n\n\t// console.log(\"trackbackPositions \" + originalPos + \" \" + newPos);\n\tif (originalPos === undefined) {\n\t\t//find previous valid\n\t\tfor (originalPos = newPos - 1; originalPos > 0; originalPos--) {\n\t\t\tif (maskset.validPositions[originalPos]) break;\n\t\t}\n\t}\n\tfor (var ps = originalPos; ps < newPos; ps++) {\n\t\tif (maskset.validPositions[ps] === undefined && !isMask.call(inputmask, ps, true)) {\n\t\t\tvar vp = ps == 0 ? getTest.call(inputmask, ps) : maskset.validPositions[ps - 1];\n\t\t\tif (vp) {\n\t\t\t\tvar tests = getTests.call(inputmask, ps).slice();\n\t\t\t\tif (tests[tests.length - 1].match.def === \"\") tests.pop();\n\t\t\t\tvar bestMatch = determineTestTemplate.call(inputmask, ps, tests), np;\n\t\t\t\tif (bestMatch && (bestMatch.match.jit !== true || (bestMatch.match.newBlockMarker === \"master\" && (np = maskset.validPositions[ps + 1]) && np.match.optionalQuantifier === true))) {\n\t\t\t\t\tbestMatch = $.extend({}, bestMatch, {\n\t\t\t\t\t\t\"input\": getPlaceholder.call(inputmask, ps, bestMatch.match, true) || bestMatch.match.def\n\t\t\t\t\t});\n\t\t\t\t\tbestMatch.generatedInput = true;\n\t\t\t\t\trevalidateMask.call(inputmask, ps, bestMatch, true);\n\n\t\t\t\t\tif (fillOnly !== true) {\n\t\t\t\t\t\t//revalidate the new position to update the locator value\n\t\t\t\t\t\tvar cvpInput = maskset.validPositions[newPos].input;\n\t\t\t\t\t\tmaskset.validPositions[newPos] = undefined;\n\t\t\t\t\t\treturn isValid.call(inputmask, newPos, cvpInput, true, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n//tobe put on prototype?\nfunction revalidateMask(pos, validTest, fromIsValid, validatedPos) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset,\n\t\topts = this.opts,\n\t\t$ = this.dependencyLib;\n\n\tfunction IsEnclosedStatic(pos, valids, selection) {\n\t\tvar posMatch = valids[pos];\n\t\tif (posMatch !== undefined && posMatch.match.static === true && posMatch.match.optionality !== true && (valids[0] === undefined || valids[0].alternation === undefined)) {\n\t\t\tvar prevMatch = selection.begin <= pos - 1 ? valids[pos - 1] && valids[pos - 1].match.static === true && valids[pos - 1] : valids[pos - 1],\n\t\t\t\tnextMatch = selection.end > pos + 1 ? valids[pos + 1] && valids[pos + 1].match.static === true && valids[pos + 1] : valids[pos + 1];\n\t\t\treturn prevMatch && nextMatch;\n\t\t}\n\t\treturn false;\n\t}\n\n\tvar offset = 0, begin = pos.begin !== undefined ? pos.begin : pos, end = pos.end !== undefined ? pos.end : pos;\n\tif (pos.begin > pos.end) {\n\t\tbegin = pos.end;\n\t\tend = pos.begin;\n\t}\n\n\tvalidatedPos = validatedPos !== undefined ? validatedPos : begin;\n\tif (begin !== end || (opts.insertMode && maskset.validPositions[validatedPos] !== undefined && fromIsValid === undefined) || validTest === undefined) {\n\t\t//reposition & revalidate others\n\t\tvar positionsClone = $.extend(true, {}, maskset.validPositions),\n\t\t\tlvp = getLastValidPosition.call(inputmask, undefined, true),\n\t\t\ti;\n\t\tmaskset.p = begin; //needed for alternated position after overtype selection\n\n\t\tfor (i = lvp; i >= begin; i--) {\n\t\t\tdelete maskset.validPositions[i];\n\t\t\tif (validTest === undefined) delete maskset.tests[i + 1];\n\t\t}\n\n\t\tvar valid = true, j = validatedPos,\n\t\t\tposMatch = j, t, canMatch;\n\n\t\tif (validTest) {\n\t\t\tmaskset.validPositions[validatedPos] = $.extend(true, {}, validTest);\n\t\t\tposMatch++;\n\t\t\tj++;\n\t\t}\n\n\t\tfor (i = validTest ? end : end - 1; i <= lvp; i++) {\n\t\t\tif ((t = positionsClone[i]) !== undefined && t.generatedInput !== true &&\n\t\t\t\t(i >= end || (i >= begin && IsEnclosedStatic(i, positionsClone, {\n\t\t\t\t\tbegin: begin,\n\t\t\t\t\tend: end\n\t\t\t\t})))) {\n\t\t\t\twhile (getTest.call(inputmask, posMatch).match.def !== \"\") { //loop needed to match further positions\n\t\t\t\t\tif ((canMatch = positionCanMatchDefinition.call(inputmask, posMatch, t, opts)) !== false || t.match.def === \"+\") { //validated match //we still need some hackery for the + validator (numeric alias)\n\t\t\t\t\t\tif (t.match.def === \"+\") getBuffer.call(inputmask, true);\n\t\t\t\t\t\tvar result = isValid.call(inputmask, posMatch, t.input, t.match.def !== \"+\", t.match.def !== \"+\");\n\t\t\t\t\t\tvalid = result !== false;\n\t\t\t\t\t\tj = (result.pos || posMatch) + 1;\n\t\t\t\t\t\tif (!valid && canMatch) break;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tif (validTest === undefined && t.match.static && i === pos.begin) offset++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (!valid && posMatch > maskset.maskLength) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tposMatch++;\n\t\t\t\t}\n\t\t\t\tif (getTest.call(inputmask, posMatch).match.def == \"\") {\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t\t//restore position\n\t\t\t\tposMatch = j;\n\t\t\t}\n\t\t\tif (!valid) break;\n\t\t}\n\n\t\tif (!valid) {\n\t\t\tmaskset.validPositions = $.extend(true, {}, positionsClone);\n\t\t\tresetMaskSet.call(inputmask, true);\n\t\t\treturn false;\n\t\t}\n\t} else if (validTest && getTest.call(inputmask, validatedPos).match.cd === validTest.match.cd) {\n\t\tmaskset.validPositions[validatedPos] = $.extend(true, {}, validTest);\n\t}\n\n\tresetMaskSet.call(inputmask, true);\n\treturn offset;\n}\n","import {\n\tdetermineTestTemplate,\n\tgetMaskTemplate,\n\tgetPlaceholder,\n\tgetTest,\n\tgetTests,\n\tgetTestTemplate\n} from \"./validation-tests\";\nimport {checkAlternationMatch} from \"./validation\";\nimport {mask} from \"./mask\";\n\nexport {\n\tcaret,\n\tdetermineLastRequiredPosition,\n\tdetermineNewCaretPosition,\n\tgetBuffer,\n\tgetBufferTemplate,\n\tgetLastValidPosition,\n\tisMask,\n\tresetMaskSet,\n\tseekNext,\n\tseekPrevious,\n\ttranslatePosition\n};\n\n//tobe put on prototype?\nfunction caret(input, begin, end, notranslate, isDelete) {\n\tconst inputmask = this,\n\t\topts = this.opts;\n\n\tvar range;\n\tif (begin !== undefined) {\n\t\tif (Array.isArray(begin)) {\n\t\t\tend = inputmask.isRTL ? begin[0] : begin[1];\n\t\t\tbegin = inputmask.isRTL ? begin[1] : begin[0];\n\t\t}\n\t\tif (begin.begin !== undefined) {\n\t\t\tend = inputmask.isRTL ? begin.begin : begin.end;\n\t\t\tbegin = inputmask.isRTL ? begin.end : begin.begin;\n\t\t}\n\t\tif (typeof begin === \"number\") {\n\t\t\tbegin = notranslate ? begin : translatePosition.call(inputmask, begin);\n\t\t\tend = notranslate ? end : translatePosition.call(inputmask, end);\n\t\t\tend = (typeof end == \"number\") ? end : begin;\n\t\t\t// if (!$(input).is(\":visible\")) {\n\t\t\t// \treturn;\n\t\t\t// }\n\n\t\t\tvar scrollCalc = parseInt(((input.ownerDocument.defaultView || window).getComputedStyle ? (input.ownerDocument.defaultView || window).getComputedStyle(input, null) : input.currentStyle).fontSize) * end;\n\t\t\tinput.scrollLeft = scrollCalc > input.scrollWidth ? scrollCalc : 0;\n\t\t\tinput.inputmask.caretPos = {begin: begin, end: end}; //track caret internally\n\t\t\tif (opts.insertModeVisual && opts.insertMode === false && begin === end) {\n\t\t\t\tif (!isDelete) {\n\t\t\t\t\tend++; //set visualization for insert/overwrite mode\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (input === (input.inputmask.shadowRoot || document).activeElement) {\n\t\t\t\tif (\"setSelectionRange\" in input) {\n\t\t\t\t\tinput.setSelectionRange(begin, end);\n\t\t\t\t} else if (window.getSelection) {\n\t\t\t\t\trange = document.createRange();\n\t\t\t\t\tif (input.firstChild === undefined || input.firstChild === null) {\n\t\t\t\t\t\tvar textNode = document.createTextNode(\"\");\n\t\t\t\t\t\tinput.appendChild(textNode);\n\t\t\t\t\t}\n\t\t\t\t\trange.setStart(input.firstChild, begin < input.inputmask._valueGet().length ? begin : input.inputmask._valueGet().length);\n\t\t\t\t\trange.setEnd(input.firstChild, end < input.inputmask._valueGet().length ? end : input.inputmask._valueGet().length);\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\tvar sel = window.getSelection();\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t\t//input.focus();\n\t\t\t\t} else if (input.createTextRange) {\n\t\t\t\t\trange = input.createTextRange();\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\trange.moveEnd(\"character\", end);\n\t\t\t\t\trange.moveStart(\"character\", begin);\n\t\t\t\t\trange.select();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (\"selectionStart\" in input && \"selectionEnd\" in input) {\n\t\t\tbegin = input.selectionStart;\n\t\t\tend = input.selectionEnd;\n\t\t} else if (window.getSelection) {\n\t\t\trange = window.getSelection().getRangeAt(0);\n\t\t\tif (range.commonAncestorContainer.parentNode === input || range.commonAncestorContainer === input) {\n\t\t\t\tbegin = range.startOffset;\n\t\t\t\tend = range.endOffset;\n\t\t\t}\n\t\t} else if (document.selection && document.selection.createRange) {\n\t\t\trange = document.selection.createRange();\n\t\t\tbegin = 0 - range.duplicate().moveStart(\"character\", -input.inputmask._valueGet().length);\n\t\t\tend = begin + range.text.length;\n\t\t}\n\n\t\t// if (opts.insertModeVisual && opts.insertMode === false && begin === (end - 1)) end--; //correct caret for insert/overwrite mode\n\n\t\t/*eslint-disable consistent-return */\n\t\treturn {\n\t\t\t\"begin\": notranslate ? begin : translatePosition.call(inputmask, begin),\n\t\t\t\"end\": notranslate ? end : translatePosition.call(inputmask, end)\n\t\t};\n\t\t/*eslint-enable consistent-return */\n\t}\n}\n\n//tobe put on prototype?\nfunction determineLastRequiredPosition(returnDefinition) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset,\n\t\t$ = this.dependencyLib;\n\n\tvar buffer = getMaskTemplate.call(inputmask, true, getLastValidPosition.call(inputmask), true, true),\n\t\tbl = buffer.length,\n\t\tpos, lvp = getLastValidPosition.call(inputmask),\n\t\tpositions = {},\n\t\tlvTest = maskset.validPositions[lvp],\n\t\tndxIntlzr = lvTest !== undefined ? lvTest.locator.slice() : undefined,\n\t\ttestPos;\n\tfor (pos = lvp + 1; pos < buffer.length; pos++) {\n\t\ttestPos = getTestTemplate.call(inputmask, pos, ndxIntlzr, pos - 1);\n\t\tndxIntlzr = testPos.locator.slice();\n\t\tpositions[pos] = $.extend(true, {}, testPos);\n\t}\n\n\tvar lvTestAlt = lvTest && lvTest.alternation !== undefined ? lvTest.locator[lvTest.alternation] : undefined;\n\tfor (pos = bl - 1; pos > lvp; pos--) {\n\t\ttestPos = positions[pos];\n\t\tif ((testPos.match.optionality ||\n\t\t\t(testPos.match.optionalQuantifier && testPos.match.newBlockMarker) ||\n\t\t\t(lvTestAlt &&\n\t\t\t\t(\n\t\t\t\t\t(lvTestAlt !== positions[pos].locator[lvTest.alternation] && testPos.match.static != true) ||\n\t\t\t\t\t(testPos.match.static === true &&\n\t\t\t\t\t\ttestPos.locator[lvTest.alternation] &&\n\t\t\t\t\t\tcheckAlternationMatch.call(inputmask, testPos.locator[lvTest.alternation].toString().split(\",\"), lvTestAlt.toString().split(\",\")) &&\n\t\t\t\t\t\tgetTests.call(inputmask, pos)[0].def !== \"\")\n\t\t\t\t)\n\t\t\t)) &&\n\t\t\tbuffer[pos] === getPlaceholder.call(inputmask, pos, testPos.match)) {\n\t\t\tbl--;\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn returnDefinition ? {\n\t\t\"l\": bl,\n\t\t\"def\": positions[bl] ? positions[bl].match : undefined\n\t} : bl;\n}\n\n//tobe put on prototype?\nfunction determineNewCaretPosition(selectedCaret, tabbed) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset,\n\t\topts = this.opts;\n\n\tfunction doRadixFocus(clickPos) {\n\t\tif (opts.radixPoint !== \"\" && opts.digits !== 0) {\n\t\t\tvar vps = maskset.validPositions;\n\t\t\tif (vps[clickPos] === undefined || (vps[clickPos].input === getPlaceholder.call(inputmask, clickPos))) {\n\t\t\t\tif (clickPos < seekNext.call(inputmask, -1)) return true;\n\t\t\t\tvar radixPos = getBuffer.call(inputmask).indexOf(opts.radixPoint);\n\t\t\t\tif (radixPos !== -1) {\n\t\t\t\t\tfor (var vp in vps) {\n\t\t\t\t\t\tif (vps[vp] && radixPos < vp && vps[vp].input !== getPlaceholder.call(inputmask, vp)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tif (tabbed) {\n\t\tif (inputmask.isRTL) {\n\t\t\tselectedCaret.end = selectedCaret.begin;\n\t\t} else {\n\t\t\tselectedCaret.begin = selectedCaret.end;\n\t\t}\n\t}\n\tif (selectedCaret.begin === selectedCaret.end) {\n\t\tswitch (opts.positionCaretOnClick) {\n\t\t\tcase \"none\":\n\t\t\t\tbreak;\n\t\t\tcase \"select\":\n\t\t\t\tselectedCaret = {begin: 0, end: getBuffer.call(inputmask).length};\n\t\t\t\tbreak;\n\t\t\tcase \"ignore\":\n\t\t\t\tselectedCaret.end = selectedCaret.begin = seekNext.call(inputmask, getLastValidPosition.call(inputmask));\n\t\t\t\tbreak;\n\t\t\tcase \"radixFocus\":\n\t\t\t\tif (doRadixFocus(selectedCaret.begin)) {\n\t\t\t\t\tvar radixPos = getBuffer.call(inputmask).join(\"\").indexOf(opts.radixPoint);\n\t\t\t\t\tselectedCaret.end = selectedCaret.begin = opts.numericInput ? seekNext.call(inputmask, radixPos) : radixPos;\n\t\t\t\t\tbreak;\n\t\t\t\t} //fallback to lvp\n\t\t\t// eslint-disable-next-line no-fallthrough\n\t\t\tdefault: //lvp:\n\t\t\t\tvar clickPosition = selectedCaret.begin,\n\t\t\t\t\tlvclickPosition = getLastValidPosition.call(inputmask, clickPosition, true),\n\t\t\t\t\tlastPosition = seekNext.call(inputmask, (lvclickPosition === -1 && !isMask.call(inputmask, 0)) ? -1 : lvclickPosition);\n\n\t\t\t\tif (clickPosition <= lastPosition) {\n\t\t\t\t\tselectedCaret.end = selectedCaret.begin = !isMask.call(inputmask, clickPosition, false, true) ? seekNext.call(inputmask, clickPosition) : clickPosition;\n\t\t\t\t} else {\n\t\t\t\t\tvar lvp = maskset.validPositions[lvclickPosition],\n\t\t\t\t\t\ttt = getTestTemplate.call(inputmask, lastPosition, lvp ? lvp.match.locator : undefined, lvp),\n\t\t\t\t\t\tplaceholder = getPlaceholder.call(inputmask, lastPosition, tt.match);\n\t\t\t\t\tif ((placeholder !== \"\" && getBuffer.call(inputmask)[lastPosition] !== placeholder && tt.match.optionalQuantifier !== true && tt.match.newBlockMarker !== true) || (!isMask.call(inputmask, lastPosition, opts.keepStatic, true) && tt.match.def === placeholder)) {\n\t\t\t\t\t\tvar newPos = seekNext.call(inputmask, lastPosition);\n\t\t\t\t\t\tif (clickPosition >= newPos || clickPosition === lastPosition) {\n\t\t\t\t\t\t\tlastPosition = newPos;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tselectedCaret.end = selectedCaret.begin = lastPosition;\n\t\t\t\t}\n\t\t}\n\n\t\treturn selectedCaret;\n\t}\n}\n\n\n//tobe put on prototype?\nfunction getBuffer(noCache) {\n\tconst inputmask = this, maskset = this.maskset;\n\n\tif (maskset.buffer === undefined || noCache === true) {\n\t\tmaskset.buffer = getMaskTemplate.call(inputmask, true, getLastValidPosition.call(inputmask), true);\n\t\tif (maskset._buffer === undefined) maskset._buffer = maskset.buffer.slice();\n\t}\n\treturn maskset.buffer;\n}\n\n//tobe put on prototype?\nfunction getBufferTemplate() {\n\tconst inputmask = this, maskset = this.maskset;\n\n\tif (maskset._buffer === undefined) {\n\t\t//generate template\n\t\tmaskset._buffer = getMaskTemplate.call(inputmask, false, 1);\n\t\tif (maskset.buffer === undefined) maskset.buffer = maskset._buffer.slice();\n\t}\n\treturn maskset._buffer;\n}\n\n//tobe put on prototype?\nfunction getLastValidPosition(closestTo, strict, validPositions) {\n\tconst maskset = this.maskset;\n\n\tvar before = -1,\n\t\tafter = -1,\n\t\tvalids = validPositions || maskset.validPositions; //for use in valhook ~ context switch\n\tif (closestTo === undefined) closestTo = -1;\n\tfor (var posNdx in valids) {\n\t\tvar psNdx = parseInt(posNdx);\n\t\tif (valids[psNdx] && (strict || valids[psNdx].generatedInput !== true)) {\n\t\t\tif (psNdx <= closestTo) before = psNdx;\n\t\t\tif (psNdx >= closestTo) after = psNdx;\n\t\t}\n\t}\n\treturn (before === -1 || before == closestTo) ? after : after == -1 ? before : (closestTo - before) < (after - closestTo) ? before : after;\n}\n\n//tobe put on prototype?\nfunction isMask(pos, strict, fuzzy) {\n\tconst inputmask = this, maskset = this.maskset;\n\n\tvar test = getTestTemplate.call(inputmask, pos).match;\n\tif (test.def === \"\") test = getTest.call(inputmask, pos).match;\n\n\tif (test.static !== true) {\n\t\treturn test.fn;\n\t}\n\tif (fuzzy === true && (maskset.validPositions[pos] !== undefined && maskset.validPositions[pos].generatedInput !== true)) {\n\t\treturn true;\n\t}\n\n\tif (strict !== true && pos > -1) {\n\t\tif (fuzzy) { //check on the number of tests\n\t\t\tvar tests = getTests.call(inputmask, pos);\n\t\t\treturn tests.length > (1 + (tests[tests.length - 1].match.def === \"\" ? 1 : 0));\n\t\t}\n\t\t//else based on the template\n\t\tvar testTemplate = determineTestTemplate.call(inputmask, pos, getTests.call(inputmask, pos));\n\t\tvar testPlaceHolder = getPlaceholder.call(inputmask, pos, testTemplate.match);\n\t\treturn testTemplate.match.def !== testPlaceHolder;\n\n\t}\n\treturn false;\n}\n\n//tobe put on prototype?\nfunction resetMaskSet(soft) {\n\tconst maskset = this.maskset;\n\n\tmaskset.buffer = undefined;\n\tif (soft !== true) {\n\t\tmaskset.validPositions = {};\n\t\tmaskset.p = 0;\n\t}\n}\n\n//tobe put on prototype?\nfunction seekNext(pos, newBlock, fuzzy) {\n\tconst inputmask = this;\n\n\tif (fuzzy === undefined) fuzzy = true;\n\tvar position = pos + 1;\n\twhile (getTest.call(inputmask, position).match.def !== \"\" &&\n\t((newBlock === true && (getTest.call(inputmask, position).match.newBlockMarker !== true || !isMask.call(inputmask, position, undefined, true))) ||\n\t\t(newBlock !== true && !isMask.call(inputmask, position, undefined, fuzzy)))) {\n\t\tposition++;\n\t}\n\treturn position;\n}\n\n//tobe put on prototype?\nfunction seekPrevious(pos, newBlock) {\n\tconst inputmask = this;\n\n\tvar position = pos - 1;\n\tif (pos <= 0) return 0;\n\n\twhile (position > 0 &&\n\t((newBlock === true && (getTest.call(inputmask, position).match.newBlockMarker !== true || !isMask.call(inputmask, position, undefined, true))) ||\n\t\t(newBlock !== true && !isMask.call(inputmask, position, undefined, true)))) {\n\t\tposition--;\n\t}\n\treturn position;\n}\n\n//tobe put on prototype?\nfunction translatePosition(pos) {\n\tconst inputmask = this,\n\t\topts = this.opts,\n\t\tel = this.el;\n\n\tif (inputmask.isRTL && typeof pos === \"number\" && (!opts.greedy || opts.placeholder !== \"\") && el) {\n\t\tpos = inputmask._valueGet().length - pos;\n\t}\n\treturn pos;\n}\n","import Inputmask from \"./inputmask\";\nimport keyCode from \"./keycode.json\";\nimport {getBufferTemplate} from \"./positioning\";\nimport {HandleNativePlaceholder} from \"./inputHandling\";\n\nexport {EventRuler};\n\nvar EventRuler = {\n\ton: function (input, eventName, eventHandler) {\n\t\tconst $ = input.inputmask.dependencyLib;\n\n\t\tvar ev = function (e) {\n\t\t\tif (e.originalEvent) {\n\t\t\t\te = e.originalEvent || e; //get original event from jquery evenbt\n\t\t\t\targuments[0] = e;\n\t\t\t}\n\t\t\t// console.log(e.type);\n\t\t\tvar that = this, args, inputmask = that.inputmask, opts = inputmask ? inputmask.opts : undefined,\n\t\t\t\t$ = inputmask.dependencyLib;\n\t\t\tif (inputmask === undefined && this.nodeName !== \"FORM\") { //happens when cloning an object with jquery.clone\n\t\t\t\tvar imOpts = $.data(that, \"_inputmask_opts\");\n\t\t\t\t$(that).off(); //unbind all events\n\t\t\t\tif (imOpts) {\n\t\t\t\t\t(new Inputmask(imOpts)).mask(that);\n\t\t\t\t}\n\t\t\t} else if (e.type !== \"setvalue\" && this.nodeName !== \"FORM\" && (that.disabled || (that.readOnly && !(e.type === \"keydown\" && (e.ctrlKey && e.keyCode === 67) || (opts.tabThrough === false && e.keyCode === keyCode.TAB))))) {\n\t\t\t\te.preventDefault();\n\t\t\t} else {\n\t\t\t\tswitch (e.type) {\n\t\t\t\t\tcase \"input\":\n\t\t\t\t\t\tif (inputmask.skipInputEvent === true || (e.inputType && e.inputType === \"insertCompositionText\")) {\n\t\t\t\t\t\t\tinputmask.skipInputEvent = false;\n\t\t\t\t\t\t\treturn e.preventDefault();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// if (mobile) { //this causes problem see #2220\n\t\t\t\t\t\t// \targs = arguments;\n\t\t\t\t\t\t// \tsetTimeout(function () { //needed for caret selection when entering a char on Android 8 - #1818\n\t\t\t\t\t\t// \t\teventHandler.apply(that, args);\n\t\t\t\t\t\t// \t\tcaret(that, that.inputmask.caretPos, undefined, true);\n\t\t\t\t\t\t// \t}, 0);\n\t\t\t\t\t\t// \treturn false;\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"keydown\":\n\t\t\t\t\t\t//Safari 5.1.x - modal dialog fires keypress twice workaround\n\t\t\t\t\t\tinputmask.skipKeyPressEvent = false;\n\t\t\t\t\t\tinputmask.skipInputEvent = inputmask.isComposing = e.keyCode === keyCode.KEY_229;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"keyup\":\n\t\t\t\t\tcase \"compositionend\":\n\t\t\t\t\t\tif (inputmask.isComposing) {\n\t\t\t\t\t\t\tinputmask.skipInputEvent = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"keypress\":\n\t\t\t\t\t\tif (inputmask.skipKeyPressEvent === true) {\n\t\t\t\t\t\t\treturn e.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinputmask.skipKeyPressEvent = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"click\":\n\t\t\t\t\tcase \"focus\":\n\t\t\t\t\t\tif (inputmask.validationEvent) { // #841\n\t\t\t\t\t\t\tinputmask.validationEvent = false;\n\t\t\t\t\t\t\tinput.blur();\n\t\t\t\t\t\t\tHandleNativePlaceholder(input, (inputmask.isRTL ? getBufferTemplate.call(inputmask).slice().reverse() : getBufferTemplate.call(inputmask)).join(\"\"));\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tinput.focus();\n\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\targs = arguments;\n\t\t\t\t\t\tsetTimeout(function () { //needed for Chrome ~ initial selection clears after the clickevent\n\t\t\t\t\t\t\tif (!input.inputmask) {\n\t\t\t\t\t\t\t\t// `inputmask.remove()` was called before this callback\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\teventHandler.apply(that, args);\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar returnVal = eventHandler.apply(that, arguments);\n\t\t\t\tif (returnVal === false) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\treturn returnVal;\n\t\t\t}\n\t\t};\n\t\t//keep instance of the event\n\t\tinput.inputmask.events[eventName] = input.inputmask.events[eventName] || [];\n\t\tinput.inputmask.events[eventName].push(ev);\n\n\t\tif ([\"submit\", \"reset\"].includes(eventName)) {\n\t\t\tif (input.form !== null) $(input.form).on(eventName, ev.bind(input));\n\t\t} else {\n\t\t\t$(input).on(eventName, ev);\n\t\t}\n\t},\n\toff: function (input, event) {\n\t\tif (input.inputmask && input.inputmask.events) {\n\t\t\tconst $ = input.inputmask.dependencyLib;\n\t\t\tlet events = input.inputmask.events;\n\t\t\tif (event) {\n\t\t\t\tevents = [];\n\t\t\t\tevents[event] = input.inputmask.events[event];\n\t\t\t}\n\t\t\tfor (let eventName in events) {\n\t\t\t\tlet evArr = events[eventName];\n\t\t\t\twhile (evArr.length > 0) {\n\t\t\t\t\tlet ev = evArr.pop();\n\t\t\t\t\tif ([\"submit\", \"reset\",].includes(eventName)) {\n\t\t\t\t\t\tif (input.form !== null) $(input.form).off(eventName, ev);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(input).off(eventName, ev);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdelete input.inputmask.events[eventName];\n\t\t\t}\n\t\t}\n\t}\n};","import \"./getPrototypeOf\";\nimport keyCode from \"./keycode.json\";\nimport {caret, getBuffer, getBufferTemplate, getLastValidPosition, resetMaskSet, seekNext} from \"./positioning\";\nimport {applyInputValue, clearOptionalTail, writeBuffer} from \"./inputHandling\";\nimport {EventRuler} from \"./eventruler\";\nimport {iphone, mobile} from \"./environment\";\nimport {isComplete} from \"./validation\";\nimport {EventHandlers} from \"./eventhandlers\";\n\nexport{mask};\n\n//todo put on the prototype?\nfunction mask() {\n\tconst inputmask = this,\n\t\topts= this.opts,\n\tel=this.el,$=this.dependencyLib;\n\n\n\tfunction isElementTypeSupported(input, opts) {\n\t\tfunction patchValueProperty(npt) {\n\t\t\tvar valueGet;\n\t\t\tvar valueSet;\n\n\t\t\tfunction patchValhook(type) {\n\t\t\t\tif ($.valHooks && ($.valHooks[type] === undefined || $.valHooks[type].inputmaskpatch !== true)) {\n\t\t\t\t\tvar valhookGet = $.valHooks[type] && $.valHooks[type].get ? $.valHooks[type].get : function (elem) {\n\t\t\t\t\t\treturn elem.value;\n\t\t\t\t\t};\n\t\t\t\t\tvar valhookSet = $.valHooks[type] && $.valHooks[type].set ? $.valHooks[type].set : function (elem, value) {\n\t\t\t\t\t\telem.value = value;\n\t\t\t\t\t\treturn elem;\n\t\t\t\t\t};\n\n\t\t\t\t\t$.valHooks[type] = {\n\t\t\t\t\t\tget: function (elem) {\n\t\t\t\t\t\t\tif (elem.inputmask) {\n\t\t\t\t\t\t\t\tif (elem.inputmask.opts.autoUnmask) {\n\t\t\t\t\t\t\t\t\treturn elem.inputmask.unmaskedvalue();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar result = valhookGet(elem);\n\t\t\t\t\t\t\t\t\treturn getLastValidPosition.call(inputmask, undefined, undefined, elem.inputmask.maskset.validPositions) !== -1 || opts.nullable !== true ? result : \"\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn valhookGet(elem);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tset: function (elem, value) {\n\t\t\t\t\t\t\tvar result = valhookSet(elem, value);\n\t\t\t\t\t\t\tif (elem.inputmask) {\n\t\t\t\t\t\t\t\tapplyInputValue(elem, value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputmaskpatch: true\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction getter() {\n\t\t\t\tif (this.inputmask) {\n\t\t\t\t\treturn this.inputmask.opts.autoUnmask ?\n\t\t\t\t\t\tthis.inputmask.unmaskedvalue() :\n\t\t\t\t\t\t(getLastValidPosition.call(inputmask) !== -1 || opts.nullable !== true ?\n\t\t\t\t\t\t\t((this.inputmask.shadowRoot || document.activeElement) === this && opts.clearMaskOnLostFocus ?\n\t\t\t\t\t\t\t\t(inputmask.isRTL ? clearOptionalTail.call(inputmask,getBuffer.call(inputmask).slice()).reverse() : clearOptionalTail.call(inputmask,getBuffer.call(inputmask).slice())).join(\"\") :\n\t\t\t\t\t\t\t\tvalueGet.call(this)) :\n\t\t\t\t\t\t\t\"\");\n\t\t\t\t} else {\n\t\t\t\t\treturn valueGet.call(this);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction setter(value) {\n\t\t\t\tvalueSet.call(this, value);\n\t\t\t\tif (this.inputmask) {\n\t\t\t\t\tapplyInputValue(this, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction installNativeValueSetFallback(npt) {\n\t\t\t\tEventRuler.on(npt, \"mouseenter\", function () {\n\t\t\t\t\tvar input = this,\n\t\t\t\t\t\tvalue = input.inputmask._valueGet(true);\n\t\t\t\t\tif (value !== (inputmask.isRTL ? getBuffer.call(inputmask).reverse() : getBuffer.call(inputmask)).join(\"\")) { //Is this correct? to apply RTL? TOCHECK\n\t\t\t\t\t\tapplyInputValue(input, value);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!npt.inputmask.__valueGet) {\n\t\t\t\tif (opts.noValuePatching !== true) {\n\t\t\t\t\tif (Object.getOwnPropertyDescriptor) {\n\t\t\t\t\t\tvar valueProperty = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(npt), \"value\") : undefined;\n\t\t\t\t\t\tif (valueProperty && valueProperty.get && valueProperty.set) {\n\t\t\t\t\t\t\tvalueGet = valueProperty.get;\n\t\t\t\t\t\t\tvalueSet = valueProperty.set;\n\t\t\t\t\t\t\tObject.defineProperty(npt, \"value\", {\n\t\t\t\t\t\t\t\tget: getter,\n\t\t\t\t\t\t\t\tset: setter,\n\t\t\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (npt.tagName.toLowerCase() !== \"input\") {\n\t\t\t\t\t\t\tvalueGet = function () {\n\t\t\t\t\t\t\t\treturn this.textContent;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tvalueSet = function (value) {\n\t\t\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tObject.defineProperty(npt, \"value\", {\n\t\t\t\t\t\t\t\tget: getter,\n\t\t\t\t\t\t\t\tset: setter,\n\t\t\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (document.__lookupGetter__ && npt.__lookupGetter__(\"value\")) {\n\t\t\t\t\t\tvalueGet = npt.__lookupGetter__(\"value\");\n\t\t\t\t\t\tvalueSet = npt.__lookupSetter__(\"value\");\n\n\t\t\t\t\t\tnpt.__defineGetter__(\"value\", getter);\n\t\t\t\t\t\tnpt.__defineSetter__(\"value\", setter);\n\t\t\t\t\t}\n\t\t\t\t\tnpt.inputmask.__valueGet = valueGet; //store native property getter\n\t\t\t\t\tnpt.inputmask.__valueSet = valueSet; //store native property setter\n\t\t\t\t}\n\t\t\t\tnpt.inputmask._valueGet = function (overruleRTL) {\n\t\t\t\t\treturn inputmask.isRTL && overruleRTL !== true ? valueGet.call(this.el).split(\"\").reverse().join(\"\") : valueGet.call(this.el);\n\t\t\t\t};\n\t\t\t\tnpt.inputmask._valueSet = function (value, overruleRTL) { //null check is needed for IE8 => otherwise converts to \"null\"\n\t\t\t\t\tvalueSet.call(this.el, (value === null || value === undefined) ? \"\" : ((overruleRTL !== true && inputmask.isRTL) ? value.split(\"\").reverse().join(\"\") : value));\n\t\t\t\t};\n\n\t\t\t\tif (valueGet === undefined) { //jquery.val fallback\n\t\t\t\t\tvalueGet = function () {\n\t\t\t\t\t\treturn this.value;\n\t\t\t\t\t};\n\t\t\t\t\tvalueSet = function (value) {\n\t\t\t\t\t\tthis.value = value;\n\t\t\t\t\t};\n\t\t\t\t\tpatchValhook(npt.type);\n\t\t\t\t\tinstallNativeValueSetFallback(npt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (input.tagName.toLowerCase() !== \"textarea\") {\n\t\t\topts.ignorables.push(keyCode.ENTER);\n\t\t}\n\n\t\tvar elementType = input.getAttribute(\"type\");\n\t\tvar isSupported = (input.tagName.toLowerCase() === \"input\" && opts.supportsInputType.includes(elementType)) || input.isContentEditable || input.tagName.toLowerCase() === \"textarea\";\n\t\tif (!isSupported) {\n\t\t\tif (input.tagName.toLowerCase() === \"input\") {\n\t\t\t\tvar el = document.createElement(\"input\");\n\t\t\t\tel.setAttribute(\"type\", elementType);\n\t\t\t\tisSupported = el.type === \"text\"; //apply mask only if the type is not natively supported\n\t\t\t\tel = null;\n\t\t\t} else {\n\t\t\t\tisSupported = \"partial\";\n\t\t\t}\n\t\t}\n\t\tif (isSupported !== false) {\n\t\t\tpatchValueProperty(input);\n\t\t} else {\n\t\t\tinput.inputmask = undefined;\n\t\t}\n\t\treturn isSupported;\n\t}\n\n\t//unbind all events - to make sure that no other mask will interfere when re-masking\n\tEventRuler.off(el);\n\tvar isSupported = isElementTypeSupported(el, opts);\n\tif (isSupported !== false) {\n\t\tinputmask.originalPlaceholder = el.placeholder;\n\n\t\t//read maxlength prop from el\n\t\tinputmask.maxLength = el !== undefined ? el.maxLength : undefined;\n\t\tif (inputmask.maxLength === -1) inputmask.maxLength = undefined;\n\t\tif (\"inputMode\" in el && el.getAttribute(\"inputmode\") === null) {\n\t\t\tel.inputMode = opts.inputmode;\n\t\t\tel.setAttribute(\"inputmode\", opts.inputmode);\n\t\t}\n\n\n\t\tif (isSupported === true) {\n\t\t\topts.showMaskOnFocus = opts.showMaskOnFocus && [\"cc-number\", \"cc-exp\"].indexOf(el.autocomplete) === -1;\n\t\t\tif (iphone) { //selecting the caret shows as a slection on iphone\n\t\t\t\topts.insertModeVisual = false;\n\t\t\t}\n\n\t\t\t//bind events\n\t\t\tEventRuler.on(el, \"submit\", EventHandlers.submitEvent);\n\t\t\tEventRuler.on(el, \"reset\", EventHandlers.resetEvent);\n\t\t\tEventRuler.on(el, \"blur\", EventHandlers.blurEvent);\n\t\t\tEventRuler.on(el, \"focus\", EventHandlers.focusEvent);\n\t\t\tEventRuler.on(el, \"invalid\", EventHandlers.invalidEvent);\n\t\t\tEventRuler.on(el, \"click\", EventHandlers.clickEvent);\n\t\t\tEventRuler.on(el, \"mouseleave\", EventHandlers.mouseleaveEvent);\n\t\t\tEventRuler.on(el, \"mouseenter\", EventHandlers.mouseenterEvent);\n\t\t\tEventRuler.on(el, \"paste\", EventHandlers.pasteEvent);\n\t\t\tEventRuler.on(el, \"cut\", EventHandlers.cutEvent);\n\t\t\tEventRuler.on(el, \"complete\", opts.oncomplete);\n\t\t\tEventRuler.on(el, \"incomplete\", opts.onincomplete);\n\t\t\tEventRuler.on(el, \"cleared\", opts.oncleared);\n\t\t\tif (opts.inputEventOnly !== true) {\n\t\t\t\tEventRuler.on(el, \"keydown\", EventHandlers.keydownEvent);\n\t\t\t\tEventRuler.on(el, \"keypress\", EventHandlers.keypressEvent);\n\t\t\t\tEventRuler.on(el, \"keyup\", EventHandlers.keyupEvent);\n\t\t\t}\n\t\t\tif (mobile || opts.inputEventOnly) {\n\t\t\t\tel.removeAttribute(\"maxLength\");\n\t\t\t}\n\t\t\tEventRuler.on(el, \"input\", EventHandlers.inputFallBackEvent);\n\t\t\tEventRuler.on(el, \"compositionend\", EventHandlers.compositionendEvent);\n\t\t\t// EventRuler.on(el, \"beforeinput\", EventHandlers.beforeInputEvent); //https://github.com/w3c/input-events - to implement\n\t\t}\n\t\tEventRuler.on(el, \"setvalue\", EventHandlers.setValueEvent);\n\n\t\t//apply mask\n\t\tinputmask.undoValue = getBufferTemplate.call(inputmask).join(\"\"); //initialize the buffer and getmasklength\n\t\tvar activeElement = (el.inputmask.shadowRoot || document).activeElement;\n\t\tif (el.inputmask._valueGet(true) !== \"\" || opts.clearMaskOnLostFocus === false || activeElement === el) {\n\t\t\tapplyInputValue(el, el.inputmask._valueGet(true), opts);\n\t\t\tvar buffer = getBuffer.call(inputmask).slice();\n\t\t\tif (isComplete.call(inputmask, buffer) === false) {\n\t\t\t\tif (opts.clearIncomplete) {\n\t\t\t\t\tresetMaskSet.call(inputmask);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (opts.clearMaskOnLostFocus && activeElement !== el) {\n\t\t\t\tif (getLastValidPosition.call(inputmask) === -1) {\n\t\t\t\t\tbuffer = [];\n\t\t\t\t} else {\n\t\t\t\t\tclearOptionalTail.call(inputmask, buffer);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (opts.clearMaskOnLostFocus === false || (opts.showMaskOnFocus && activeElement === el) || el.inputmask._valueGet(true) !== \"\") {\n\t\t\t\twriteBuffer(el, buffer);\n\t\t\t}\n\t\t\tif (activeElement === el) { //position the caret when in focus\n\t\t\t\tcaret.call(inputmask,el, seekNext.call(inputmask, getLastValidPosition.call(inputmask)));\n\t\t\t}\n\t\t}\n\t}\n}","export default function extend() {\n\tlet options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === \"boolean\") {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[i] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif (typeof target !== \"object\" && typeof target !== \"function\") {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; i++) {\n\t\t// Only deal with non-null/undefined values\n\t\tif ((options = arguments[i]) != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target === copy) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif (deep && copy && (Object.prototype.toString.call(copy) === \"[object Object]\" || (copyIsArray = Array.isArray(copy)))) {\n\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && Array.isArray(src) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && Object.prototype.toString.call(src) === \"[object Object]\" ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n}","export default typeof window !== \"undefined\" ? window : new (eval(\"require('jsdom').JSDOM\"))(\"\").window;\n\n","export default function (owner, key, value) {\n\tif (value === undefined) {\n\t\treturn owner.__data ? owner.__data[key] : null;\n\t} else {\n\t\towner.__data = owner.__data || {};\n\t\towner.__data[key] = value;\n\t}\n}","import extend from \"./extend\";\nimport window from \"../global/window\";\nimport DependencyLib from \"./inputmask.dependencyLib\";\n\nexport {on, off, trigger, Event};\n\nfunction isValidElement(elem) {\n\treturn elem instanceof Element;\n}\n\nlet Event;\nif (typeof window.CustomEvent === \"function\") {\n\tEvent = window.CustomEvent;\n} else {\n\tEvent = function (event, params) {\n\t\tparams = params || {bubbles: false, cancelable: false, detail: undefined};\n\t\tvar evt = document.createEvent(\"CustomEvent\");\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t\treturn evt;\n\t};\n\tEvent.prototype = window.Event.prototype;\n}\n\n\nfunction on(events, handler) {\n\tfunction addEvent(ev, namespace) {\n\t\t//register domevent\n\t\tif (elem.addEventListener) { // all browsers except IE before version 9\n\t\t\telem.addEventListener(ev, handler, false);\n\t\t} else if (elem.attachEvent) { // IE before version 9\n\t\t\telem.attachEvent(\"on\" + ev, handler);\n\t\t}\n\t\teventRegistry[ev] = eventRegistry[ev] || {};\n\t\teventRegistry[ev][namespace] = eventRegistry[ev][namespace] || [];\n\t\teventRegistry[ev][namespace].push(handler);\n\t}\n\n\tif (isValidElement(this[0])) {\n\t\tvar eventRegistry = this[0].eventRegistry,\n\t\t\telem = this[0];\n\n\n\t\tvar _events = events.split(\" \");\n\t\tfor (var endx = 0; endx < _events.length; endx++) {\n\t\t\tvar nsEvent = _events[endx].split(\".\"),\n\t\t\t\tev = nsEvent[0],\n\t\t\t\tnamespace = nsEvent[1] || \"global\";\n\t\t\taddEvent(ev, namespace);\n\t\t}\n\t}\n\treturn this;\n}\n\nfunction off(events, handler) {\n\tvar eventRegistry, elem;\n\n\tfunction removeEvent(ev, namespace, handler) {\n\t\tif (ev in eventRegistry === true) {\n\t\t\t//unbind to dom events\n\t\t\tif (elem.removeEventListener) { // all browsers except IE before version 9\n\t\t\t\telem.removeEventListener(ev, handler, false);\n\t\t\t} else if (elem.detachEvent) { // IE before version 9\n\t\t\t\telem.detachEvent(\"on\" + ev, handler);\n\t\t\t}\n\t\t\tif (namespace === \"global\") {\n\t\t\t\tfor (var nmsp in eventRegistry[ev]) {\n\t\t\t\t\teventRegistry[ev][nmsp].splice(eventRegistry[ev][nmsp].indexOf(handler), 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\teventRegistry[ev][namespace].splice(eventRegistry[ev][namespace].indexOf(handler), 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction resolveNamespace(ev, namespace) {\n\t\tvar evts = [],\n\t\t\thndx, hndL;\n\t\tif (ev.length > 0) {\n\t\t\tif (handler === undefined) {\n\t\t\t\tfor (hndx = 0, hndL = eventRegistry[ev][namespace].length; hndx < hndL; hndx++) {\n\t\t\t\t\tevts.push({\n\t\t\t\t\t\tev: ev,\n\t\t\t\t\t\tnamespace: namespace && namespace.length > 0 ? namespace : \"global\",\n\t\t\t\t\t\thandler: eventRegistry[ev][namespace][hndx]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tevts.push({\n\t\t\t\t\tev: ev,\n\t\t\t\t\tnamespace: namespace && namespace.length > 0 ? namespace : \"global\",\n\t\t\t\t\thandler: handler\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (namespace.length > 0) {\n\t\t\tfor (var evNdx in eventRegistry) {\n\t\t\t\tfor (var nmsp in eventRegistry[evNdx]) {\n\t\t\t\t\tif (nmsp === namespace) {\n\t\t\t\t\t\tif (handler === undefined) {\n\t\t\t\t\t\t\tfor (hndx = 0, hndL = eventRegistry[evNdx][nmsp].length; hndx < hndL; hndx++) {\n\t\t\t\t\t\t\t\tevts.push({\n\t\t\t\t\t\t\t\t\tev: evNdx,\n\t\t\t\t\t\t\t\t\tnamespace: nmsp,\n\t\t\t\t\t\t\t\t\thandler: eventRegistry[evNdx][nmsp][hndx]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tevts.push({\n\t\t\t\t\t\t\t\tev: evNdx,\n\t\t\t\t\t\t\t\tnamespace: nmsp,\n\t\t\t\t\t\t\t\thandler: handler\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn evts;\n\t}\n\n\tif (isValidElement(this[0])) {\n\t\teventRegistry = this[0].eventRegistry;\n\t\telem = this[0];\n\n\n\t\tvar _events = events.split(\" \");\n\t\tfor (var endx = 0; endx < _events.length; endx++) {\n\t\t\tvar nsEvent = _events[endx].split(\".\"),\n\t\t\t\toffEvents = resolveNamespace(nsEvent[0], nsEvent[1]);\n\t\t\tfor (var i = 0, offEventsL = offEvents.length; i < offEventsL; i++) {\n\t\t\t\tremoveEvent(offEvents[i].ev, offEvents[i].namespace, offEvents[i].handler);\n\t\t\t}\n\t\t}\n\t}\n\treturn this;\n}\n\nfunction trigger(events /* , args... */) {\n\tif (isValidElement(this[0])) {\n\t\tvar eventRegistry = this[0].eventRegistry,\n\t\t\telem = this[0];\n\t\tvar _events = typeof events === \"string\" ? events.split(\" \") : [events.type];\n\t\tfor (var endx = 0; endx < _events.length; endx++) {\n\t\t\tvar nsEvent = _events[endx].split(\".\"),\n\t\t\t\tev = nsEvent[0],\n\t\t\t\tnamespace = nsEvent[1] || \"global\";\n\t\t\tif (document !== undefined && namespace === \"global\") {\n\t\t\t\t//trigger domevent\n\t\t\t\tvar evnt, i, params = {\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcancelable: true,\n\t\t\t\t\tdetail: arguments[1]\n\t\t\t\t};\n\t\t\t\t// The custom event that will be created\n\t\t\t\tif (document.createEvent) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tevnt = new CustomEvent(ev, params);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tevnt = document.createEvent(\"CustomEvent\");\n\t\t\t\t\t\tevnt.initCustomEvent(ev, params.bubbles, params.cancelable, params.detail);\n\t\t\t\t\t}\n\t\t\t\t\tif (events.type) extend(evnt, events);\n\t\t\t\t\telem.dispatchEvent(evnt);\n\t\t\t\t} else {\n\t\t\t\t\tevnt = document.createEventObject();\n\t\t\t\t\tevnt.eventType = ev;\n\t\t\t\t\tevnt.detail = arguments[1];\n\t\t\t\t\tif (events.type) extend(evnt, events);\n\t\t\t\t\telem.fireEvent(\"on\" + evnt.eventType, evnt);\n\t\t\t\t}\n\t\t\t} else if (eventRegistry[ev] !== undefined) {\n\t\t\t\targuments[0] = arguments[0].type ? arguments[0] : DependencyLib.Event(arguments[0]);\n\t\t\t\targuments[0].detail = arguments.slice(1);\n\t\t\t\tif (namespace === \"global\") {\n\t\t\t\t\tfor (var nmsp in eventRegistry[ev]) {\n\t\t\t\t\t\tfor (i = 0; i < eventRegistry[ev][nmsp].length; i++) {\n\t\t\t\t\t\t\teventRegistry[ev][nmsp][i].apply(elem, arguments);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (i = 0; i < eventRegistry[ev][namespace].length; i++) {\n\t\t\t\t\t\teventRegistry[ev][namespace][i].apply(elem, arguments);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn this;\n}","/*\n Input Mask plugin dependencyLib\n http://github.com/RobinHerbots/jquery.inputmask\n Copyright (c) Robin Herbots\n Licensed under the MIT license\n */\n\nimport extend from \"./extend\";\nimport window from \"../global/window\";\nimport data from \"./data\";\nimport { on, off, trigger, Event} from \"./events\";\n\nconst document = window.document;\n\nfunction DependencyLib(elem) {\n\tif (elem instanceof DependencyLib) {\n\t\treturn elem;\n\t}\n\tif (!(this instanceof DependencyLib)) {\n\t\treturn new DependencyLib(elem);\n\t}\n\tif (elem !== undefined && elem !== null && elem !== window) {\n\t\tthis[0] = elem.nodeName ? elem : (elem[0] !== undefined && elem[0].nodeName ? elem[0] : document.querySelector(elem));\n\t\tif (this[0] !== undefined && this[0] !== null) {\n\t\t\tthis[0].eventRegistry = this[0].eventRegistry || {};\n\t\t}\n\t}\n}\n\nDependencyLib.prototype = {\n\ton: on,\n\toff: off,\n\ttrigger: trigger\n};\n\n//static\nDependencyLib.extend = extend;\nDependencyLib.data = data;\nDependencyLib.Event = Event;\n\nexport default DependencyLib;\n","import $ from \"./dependencyLibs/inputmask.dependencyLib\";\n\nexport {generateMaskSet, analyseMask};\n\nfunction generateMaskSet(opts, nocache) {\n\tvar ms;\n\n\tfunction generateMask(mask, metadata, opts) {\n\t\tvar regexMask = false;\n\t\tif (mask === null || mask === \"\") {\n\t\t\tregexMask = opts.regex !== null;\n\t\t\tif (regexMask) {\n\t\t\t\tmask = opts.regex;\n\t\t\t\tmask = mask.replace(/^(\\^)(.*)(\\$)$/, \"$2\");\n\t\t\t} else {\n\t\t\t\tregexMask = true;\n\t\t\t\tmask = \".*\";\n\t\t\t}\n\t\t}\n\t\tif (mask.length === 1 && opts.greedy === false && opts.repeat !== 0) {\n\t\t\topts.placeholder = \"\";\n\t\t} //hide placeholder with single non-greedy mask\n\t\tif (opts.repeat > 0 || opts.repeat === \"*\" || opts.repeat === \"+\") {\n\t\t\tvar repeatStart = opts.repeat === \"*\" ? 0 : (opts.repeat === \"+\" ? 1 : opts.repeat);\n\t\t\tmask = opts.groupmarker[0] + mask + opts.groupmarker[1] + opts.quantifiermarker[0] + repeatStart + \",\" + opts.repeat + opts.quantifiermarker[1];\n\t\t}\n\n\t\t// console.log(mask);\n\t\tvar masksetDefinition, maskdefKey;\n\t\tmaskdefKey = regexMask ? \"regex_\" + opts.regex : opts.numericInput ? mask.split(\"\").reverse().join(\"\") : mask;\n\t\tif (opts.keepStatic !== false) { //keepstatic modifies the output from the testdefinitions ~ so differentiate in the maskcache\n\t\t\tmaskdefKey = \"ks_\" + maskdefKey;\n\t\t}\n\n\t\tif (Inputmask.prototype.masksCache[maskdefKey] === undefined || nocache === true) {\n\t\t\tmasksetDefinition = {\n\t\t\t\t\"mask\": mask,\n\t\t\t\t\"maskToken\": Inputmask.prototype.analyseMask(mask, regexMask, opts),\n\t\t\t\t\"validPositions\": {},\n\t\t\t\t\"_buffer\": undefined,\n\t\t\t\t\"buffer\": undefined,\n\t\t\t\t\"tests\": {},\n\t\t\t\t\"excludes\": {}, //excluded alternations\n\t\t\t\t\"metadata\": metadata,\n\t\t\t\t\"maskLength\": undefined,\n\t\t\t\t\"jitOffset\": {}\n\t\t\t};\n\t\t\tif (nocache !== true) {\n\t\t\t\tInputmask.prototype.masksCache[maskdefKey] = masksetDefinition;\n\t\t\t\tmasksetDefinition = $.extend(true, {}, Inputmask.prototype.masksCache[maskdefKey]);\n\t\t\t}\n\t\t} else {\n\t\t\tmasksetDefinition = $.extend(true, {}, Inputmask.prototype.masksCache[maskdefKey]);\n\t\t}\n\n\t\treturn masksetDefinition;\n\t}\n\n\tif (typeof opts.mask === \"function\") { //allow mask to be a preprocessing fn - should return a valid mask\n\t\topts.mask = opts.mask(opts);\n\t}\n\tif (Array.isArray(opts.mask)) {\n\t\tif (opts.mask.length > 1) {\n\t\t\tif (opts.keepStatic === null) { //enable by default when passing multiple masks when the option is not explicitly specified\n\t\t\t\topts.keepStatic = true;\n\t\t\t}\n\t\t\tvar altMask = opts.groupmarker[0];\n\t\t\t(opts.isRTL ? opts.mask.reverse() : opts.mask).forEach(function (msk) {\n\t\t\t\tif (altMask.length > 1) {\n\t\t\t\t\taltMask += opts.groupmarker[1] + opts.alternatormarker + opts.groupmarker[0];\n\t\t\t\t}\n\t\t\t\tif (msk.mask !== undefined && typeof msk.mask !== \"function\") {\n\t\t\t\t\taltMask += msk.mask;\n\t\t\t\t} else {\n\t\t\t\t\taltMask += msk;\n\t\t\t\t}\n\t\t\t});\n\t\t\taltMask += opts.groupmarker[1];\n\t\t\t// console.log(altMask);\n\t\t\treturn generateMask(altMask, opts.mask, opts);\n\t\t} else {\n\t\t\topts.mask = opts.mask.pop();\n\t\t}\n\t}\n\tif (opts.keepStatic === null) opts.keepStatic = false;\n\tif (opts.mask && opts.mask.mask !== undefined && typeof opts.mask.mask !== \"function\") {\n\t\tms = generateMask(opts.mask.mask, opts.mask, opts);\n\t} else {\n\t\tms = generateMask(opts.mask, opts.mask, opts);\n\t}\n\n\treturn ms;\n}\n\nfunction analyseMask(mask, regexMask, opts) {\n\tconst tokenizer = /(?:[?*+]|\\{[0-9+*]+(?:,[0-9+*]*)?(?:\\|[0-9+*]*)?\\})|[^.?*+^${[]()|\\\\]+|./g,\n\t\t//Thx to https://github.com/slevithan/regex-colorizer for the regexTokenizer regex\n\t\tregexTokenizer = /\\[\\^?]?(?:[^\\\\\\]]+|\\\\[\\S\\s]?)*]?|\\\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\\S\\s]?)|\\((?:\\?[:=!]?)?|(?:[?*+]|\\{[0-9]+(?:,[0-9]*)?\\})\\??|[^.?*+^${[()|\\\\]+|./g;\n\tvar escaped = false,\n\t\tcurrentToken = new MaskToken(),\n\t\tmatch,\n\t\tm,\n\t\topenenings = [],\n\t\tmaskTokens = [],\n\t\topeningToken,\n\t\tcurrentOpeningToken,\n\t\talternator,\n\t\tlastMatch,\n\t\tcloseRegexGroup = false;\n\n\tfunction MaskToken(isGroup, isOptional, isQuantifier, isAlternator) {\n\t\tthis.matches = [];\n\t\tthis.openGroup = isGroup || false;\n\t\tthis.alternatorGroup = false;\n\t\tthis.isGroup = isGroup || false;\n\t\tthis.isOptional = isOptional || false;\n\t\tthis.isQuantifier = isQuantifier || false;\n\t\tthis.isAlternator = isAlternator || false;\n\t\tthis.quantifier = {\n\t\t\tmin: 1,\n\t\t\tmax: 1\n\t\t};\n\t}\n\n\t//test definition => {fn: RegExp/function, static: true/false optionality: bool, newBlockMarker: bool, casing: null/upper/lower, def: definitionSymbol, placeholder: placeholder, mask: real maskDefinition}\n\tfunction insertTestDefinition(mtoken, element, position) {\n\t\tposition = position !== undefined ? position : mtoken.matches.length;\n\t\tvar prevMatch = mtoken.matches[position - 1];\n\t\tif (regexMask) {\n\t\t\tif (element.indexOf(\"[\") === 0 || (escaped && /\\\\d|\\\\s|\\\\w]/i.test(element)) || element === \".\") {\n\t\t\t\tmtoken.matches.splice(position++, 0, {\n\t\t\t\t\tfn: new RegExp(element, opts.casing ? \"i\" : \"\"),\n\t\t\t\t\tstatic: false,\n\t\t\t\t\toptionality: false,\n\t\t\t\t\tnewBlockMarker: prevMatch === undefined ? \"master\" : prevMatch.def !== element,\n\t\t\t\t\tcasing: null,\n\t\t\t\t\tdef: element,\n\t\t\t\t\tplaceholder: undefined,\n\t\t\t\t\tnativeDef: element\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (escaped) element = element[element.length - 1];\n\t\t\t\telement.split(\"\").forEach(function (lmnt, ndx) {\n\t\t\t\t\tprevMatch = mtoken.matches[position - 1];\n\t\t\t\t\tmtoken.matches.splice(position++, 0, {\n\t\t\t\t\t\tfn: /[a-z]/i.test((opts.staticDefinitionSymbol || lmnt)) ? new RegExp(\"[\" + (opts.staticDefinitionSymbol || lmnt) + \"]\", opts.casing ? \"i\" : \"\") : null,\n\t\t\t\t\t\tstatic: true,\n\t\t\t\t\t\toptionality: false,\n\t\t\t\t\t\tnewBlockMarker: prevMatch === undefined ? \"master\" : (prevMatch.def !== lmnt && prevMatch.static !== true),\n\t\t\t\t\t\tcasing: null,\n\t\t\t\t\t\tdef: opts.staticDefinitionSymbol || lmnt,\n\t\t\t\t\t\tplaceholder: opts.staticDefinitionSymbol !== undefined ? lmnt : undefined,\n\t\t\t\t\t\tnativeDef: (escaped ? \"'\" : \"\") + lmnt\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tescaped = false;\n\t\t} else {\n\t\t\tvar maskdef = (opts.definitions && opts.definitions[element]) || (opts.usePrototypeDefinitions && Inputmask.prototype.definitions[element]);\n\t\t\tif (maskdef && !escaped) {\n\t\t\t\tmtoken.matches.splice(position++, 0, {\n\t\t\t\t\tfn: maskdef.validator ? typeof maskdef.validator == \"string\" ? new RegExp(maskdef.validator, opts.casing ? \"i\" : \"\") : new function () {\n\t\t\t\t\t\tthis.test = maskdef.validator;\n\t\t\t\t\t} : new RegExp(\".\"),\n\t\t\t\t\tstatic: maskdef.static || false,\n\t\t\t\t\toptionality: false,\n\t\t\t\t\tnewBlockMarker: prevMatch === undefined ? \"master\" : prevMatch.def !== (maskdef.definitionSymbol || element),\n\t\t\t\t\tcasing: maskdef.casing,\n\t\t\t\t\tdef: maskdef.definitionSymbol || element,\n\t\t\t\t\tplaceholder: maskdef.placeholder,\n\t\t\t\t\tnativeDef: element,\n\t\t\t\t\tgenerated: maskdef.generated\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmtoken.matches.splice(position++, 0, {\n\t\t\t\t\tfn: /[a-z]/i.test((opts.staticDefinitionSymbol || element)) ? new RegExp(\"[\" + (opts.staticDefinitionSymbol || element) + \"]\", opts.casing ? \"i\" : \"\") : null,\n\t\t\t\t\tstatic: true,\n\t\t\t\t\toptionality: false,\n\t\t\t\t\tnewBlockMarker: prevMatch === undefined ? \"master\" : (prevMatch.def !== element && prevMatch.static !== true),\n\t\t\t\t\tcasing: null,\n\t\t\t\t\tdef: opts.staticDefinitionSymbol || element,\n\t\t\t\t\tplaceholder: opts.staticDefinitionSymbol !== undefined ? element : undefined,\n\t\t\t\t\tnativeDef: (escaped ? \"'\" : \"\") + element\n\t\t\t\t});\n\t\t\t\tescaped = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction verifyGroupMarker(maskToken) {\n\t\tif (maskToken && maskToken.matches) {\n\t\t\tmaskToken.matches.forEach(function (token, ndx) {\n\t\t\t\tvar nextToken = maskToken.matches[ndx + 1];\n\t\t\t\tif ((nextToken === undefined || (nextToken.matches === undefined || nextToken.isQuantifier === false)) && token && token.isGroup) { //this is not a group but a normal mask => convert\n\t\t\t\t\ttoken.isGroup = false;\n\t\t\t\t\tif (!regexMask) {\n\t\t\t\t\t\tinsertTestDefinition(token, opts.groupmarker[0], 0);\n\t\t\t\t\t\tif (token.openGroup !== true) {\n\t\t\t\t\t\t\tinsertTestDefinition(token, opts.groupmarker[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tverifyGroupMarker(token);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction defaultCase() {\n\t\tif (openenings.length > 0) {\n\t\t\tcurrentOpeningToken = openenings[openenings.length - 1];\n\t\t\tinsertTestDefinition(currentOpeningToken, m);\n\t\t\tif (currentOpeningToken.isAlternator) { //handle alternator a | b case\n\t\t\t\talternator = openenings.pop();\n\t\t\t\tfor (var mndx = 0; mndx < alternator.matches.length; mndx++) {\n\t\t\t\t\tif (alternator.matches[mndx].isGroup) alternator.matches[mndx].isGroup = false; //don't mark alternate groups as group\n\t\t\t\t}\n\t\t\t\tif (openenings.length > 0) {\n\t\t\t\t\tcurrentOpeningToken = openenings[openenings.length - 1];\n\t\t\t\t\tcurrentOpeningToken.matches.push(alternator);\n\t\t\t\t} else {\n\t\t\t\t\tcurrentToken.matches.push(alternator);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tinsertTestDefinition(currentToken, m);\n\t\t}\n\t}\n\n\tfunction reverseTokens(maskToken) {\n\t\tfunction reverseStatic(st) {\n\t\t\tif (st === opts.optionalmarker[0]) {\n\t\t\t\tst = opts.optionalmarker[1];\n\t\t\t} else if (st === opts.optionalmarker[1]) {\n\t\t\t\tst = opts.optionalmarker[0];\n\t\t\t} else if (st === opts.groupmarker[0]) {\n\t\t\t\tst = opts.groupmarker[1];\n\t\t\t} else if (st === opts.groupmarker[1]) st = opts.groupmarker[0];\n\n\t\t\treturn st;\n\t\t}\n\n\t\tmaskToken.matches = maskToken.matches.reverse();\n\t\tfor (var match in maskToken.matches) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(maskToken.matches, match)) {\n\t\t\t\tvar intMatch = parseInt(match);\n\t\t\t\tif (maskToken.matches[match].isQuantifier && maskToken.matches[intMatch + 1] && maskToken.matches[intMatch + 1].isGroup) { //reposition quantifier\n\t\t\t\t\tvar qt = maskToken.matches[match];\n\t\t\t\t\tmaskToken.matches.splice(match, 1);\n\t\t\t\t\tmaskToken.matches.splice(intMatch + 1, 0, qt);\n\t\t\t\t}\n\t\t\t\tif (maskToken.matches[match].matches !== undefined) {\n\t\t\t\t\tmaskToken.matches[match] = reverseTokens(maskToken.matches[match]);\n\t\t\t\t} else {\n\t\t\t\t\tmaskToken.matches[match] = reverseStatic(maskToken.matches[match]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn maskToken;\n\t}\n\n\tfunction groupify(matches) {\n\t\tvar groupToken = new MaskToken(true);\n\t\tgroupToken.openGroup = false;\n\t\tgroupToken.matches = matches;\n\t\treturn groupToken;\n\t}\n\n\tfunction closeGroup() {\n\t\t// Group closing\n\t\topeningToken = openenings.pop();\n\t\topeningToken.openGroup = false; //mark group as complete\n\t\tif (openingToken !== undefined) {\n\t\t\tif (openenings.length > 0) {\n\t\t\t\tcurrentOpeningToken = openenings[openenings.length - 1];\n\t\t\t\tcurrentOpeningToken.matches.push(openingToken);\n\t\t\t\tif (currentOpeningToken.isAlternator) { //handle alternator (a) | (b) case\n\t\t\t\t\talternator = openenings.pop();\n\t\t\t\t\tfor (var mndx = 0; mndx < alternator.matches.length; mndx++) {\n\t\t\t\t\t\talternator.matches[mndx].isGroup = false; //don't mark alternate groups as group\n\t\t\t\t\t\talternator.matches[mndx].alternatorGroup = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (openenings.length > 0) {\n\t\t\t\t\t\tcurrentOpeningToken = openenings[openenings.length - 1];\n\t\t\t\t\t\tcurrentOpeningToken.matches.push(alternator);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentToken.matches.push(alternator);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrentToken.matches.push(openingToken);\n\t\t\t}\n\t\t} else {\n\t\t\tdefaultCase();\n\t\t}\n\t}\n\n\tfunction groupQuantifier(matches) {\n\t\tvar lastMatch = matches.pop();\n\t\tif (lastMatch.isQuantifier) {\n\t\t\tlastMatch = groupify([matches.pop(), lastMatch]);\n\t\t}\n\t\treturn lastMatch;\n\t}\n\n\tif (regexMask) {\n\t\topts.optionalmarker[0] = undefined;\n\t\topts.optionalmarker[1] = undefined;\n\t}\n\twhile ((match = regexMask ? regexTokenizer.exec(mask) : tokenizer.exec(mask))) {\n\t\tm = match[0];\n\n\t\tif (regexMask) {\n\t\t\tswitch (m.charAt(0)) {\n\t\t\t\t//Quantifier\n\t\t\t\tcase \"?\":\n\t\t\t\t\tm = \"{0,1}\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"+\":\n\t\t\t\tcase \"*\":\n\t\t\t\t\tm = \"{\" + m + \"}\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"|\":\n\t\t\t\t\t//regex mask alternator  ex: [01][0-9]|2[0-3] => ([01][0-9]|2[0-3])\n\t\t\t\t\tif (openenings.length === 0) { //wrap the mask in a group to form a regex alternator  ([01][0-9]|2[0-3])\n\t\t\t\t\t\tvar altRegexGroup = groupify(currentToken.matches);\n\t\t\t\t\t\taltRegexGroup.openGroup = true;\n\t\t\t\t\t\topenenings.push(altRegexGroup);\n\t\t\t\t\t\tcurrentToken.matches = [];\n\t\t\t\t\t\tcloseRegexGroup = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (escaped) {\n\t\t\tdefaultCase();\n\t\t\tcontinue;\n\t\t}\n\t\tswitch (m.charAt(0)) {\n\t\t\tcase \"$\":\n\t\t\tcase \"^\":\n\t\t\t\t//ignore beginswith and endswith as in masking this makes no point\n\t\t\t\tif (!regexMask) {\n\t\t\t\t\tdefaultCase();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"(?=\": //lookahead\n\t\t\t\tbreak;\n\t\t\tcase \"(?!\": //negative lookahead\n\t\t\t\tbreak;\n\t\t\tcase \"(?<=\": //lookbehind\n\t\t\t\tbreak;\n\t\t\tcase \"(?<!\": //negative lookbehind\n\t\t\t\tbreak;\n\t\t\tcase opts.escapeChar:\n\t\t\t\tescaped = true;\n\t\t\t\tif (regexMask) {\n\t\t\t\t\tdefaultCase();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t// optional closing\n\t\t\tcase opts.optionalmarker[1]:\n\t\t\tcase opts.groupmarker[1]:\n\t\t\t\tcloseGroup();\n\t\t\t\tbreak;\n\t\t\tcase opts.optionalmarker[0]:\n\t\t\t\t// optional opening\n\t\t\t\topenenings.push(new MaskToken(false, true));\n\t\t\t\tbreak;\n\t\t\tcase opts.groupmarker[0]:\n\t\t\t\t// Group opening\n\t\t\t\topenenings.push(new MaskToken(true));\n\t\t\t\tbreak;\n\t\t\tcase opts.quantifiermarker[0]:\n\t\t\t\t//Quantifier\n\t\t\t\tvar quantifier = new MaskToken(false, false, true);\n\n\t\t\t\tm = m.replace(/[{}]/g, \"\");\n\t\t\t\tvar mqj = m.split(\"|\"),\n\t\t\t\t\tmq = mqj[0].split(\",\"),\n\t\t\t\t\tmq0 = isNaN(mq[0]) ? mq[0] : parseInt(mq[0]),\n\t\t\t\t\tmq1 = mq.length === 1 ? mq0 : (isNaN(mq[1]) ? mq[1] : parseInt(mq[1]));\n\t\t\t\tif (mq0 === \"*\" || mq0 === \"+\") {\n\t\t\t\t\tmq0 = mq1 === \"*\" ? 0 : 1;\n\t\t\t\t}\n\t\t\t\tquantifier.quantifier = {\n\t\t\t\t\tmin: mq0,\n\t\t\t\t\tmax: mq1,\n\t\t\t\t\tjit: mqj[1]\n\t\t\t\t};\n\t\t\t\tvar matches = openenings.length > 0 ? openenings[openenings.length - 1].matches : currentToken.matches;\n\t\t\t\tmatch = matches.pop();\n\t\t\t\tif (match.isAlternator) { //handle quantifier in an alternation [0-9]{2}|[0-9]{3}\n\t\t\t\t\tmatches.push(match); //push back alternator\n\t\t\t\t\tmatches = match.matches; //remap target matches\n\t\t\t\t\tvar groupToken = new MaskToken(true);\n\t\t\t\t\tvar tmpMatch = matches.pop();\n\t\t\t\t\tmatches.push(groupToken); //push the group\n\t\t\t\t\tmatches = groupToken.matches;\n\t\t\t\t\tmatch = tmpMatch;\n\t\t\t\t}\n\t\t\t\tif (!match.isGroup) {\n\t\t\t\t\t// if (regexMask && match.fn === null) { //why is this needed???\n\t\t\t\t\t//     if (match.def === \".\") match.fn = new RegExp(match.def, opts.casing ? \"i\" : \"\");\n\t\t\t\t\t// }\n\n\t\t\t\t\tmatch = groupify([match]);\n\t\t\t\t}\n\t\t\t\tmatches.push(match);\n\t\t\t\tmatches.push(quantifier);\n\n\t\t\t\tbreak;\n\t\t\tcase opts.alternatormarker:\n\n\n\t\t\t\tif (openenings.length > 0) {\n\t\t\t\t\tcurrentOpeningToken = openenings[openenings.length - 1];\n\t\t\t\t\tvar subToken = currentOpeningToken.matches[currentOpeningToken.matches.length - 1];\n\t\t\t\t\tif (currentOpeningToken.openGroup && //regexp alt syntax\n\t\t\t\t\t\t(subToken.matches === undefined || (subToken.isGroup === false && subToken.isAlternator === false))) { //alternations within group\n\t\t\t\t\t\tlastMatch = openenings.pop();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlastMatch = groupQuantifier(currentOpeningToken.matches);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlastMatch = groupQuantifier(currentToken.matches);\n\t\t\t\t}\n\t\t\t\tif (lastMatch.isAlternator) {\n\t\t\t\t\topenenings.push(lastMatch);\n\t\t\t\t} else {\n\t\t\t\t\tif (lastMatch.alternatorGroup) {\n\t\t\t\t\t\talternator = openenings.pop();\n\t\t\t\t\t\tlastMatch.alternatorGroup = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\talternator = new MaskToken(false, false, false, true);\n\t\t\t\t\t}\n\t\t\t\t\talternator.matches.push(lastMatch);\n\t\t\t\t\topenenings.push(alternator);\n\t\t\t\t\tif (lastMatch.openGroup) { //regexp alt syntax\n\t\t\t\t\t\tlastMatch.openGroup = false;\n\t\t\t\t\t\tvar alternatorGroup = new MaskToken(true);\n\t\t\t\t\t\talternatorGroup.alternatorGroup = true;\n\t\t\t\t\t\topenenings.push(alternatorGroup);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tdefaultCase();\n\t\t}\n\t}\n\n\tif (closeRegexGroup) closeGroup();\n\n\twhile (openenings.length > 0) {\n\t\topeningToken = openenings.pop();\n\t\tcurrentToken.matches.push(openingToken);\n\t}\n\tif (currentToken.matches.length > 0) {\n\t\tverifyGroupMarker(currentToken);\n\t\tmaskTokens.push(currentToken);\n\t}\n\n\tif (opts.numericInput || opts.isRTL) {\n\t\treverseTokens(maskTokens[0]);\n\t}\n\t// console.log(JSON.stringify(maskTokens));\n\treturn maskTokens;\n}\n","export default {\n\t\"9\": { //\\uFF11-\\uFF19 #1606\n\t\tvalidator: \"[0-9\\uFF10-\\uFF19]\",\n\t\tdefinitionSymbol: \"*\"\n\t},\n\t\"a\": { //\\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5 #76\n\t\tvalidator: \"[A-Za-z\\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5]\",\n\t\tdefinitionSymbol: \"*\"\n\t},\n\t\"*\": {\n\t\tvalidator: \"[0-9\\uFF10-\\uFF19A-Za-z\\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5]\"\n\t}\n}","export default {\n\t_maxTestPos: 500,\n\tplaceholder: \"_\",\n\toptionalmarker: [\"[\", \"]\"],\n\tquantifiermarker: [\"{\", \"}\"],\n\tgroupmarker: [\"(\", \")\"],\n\talternatormarker: \"|\",\n\tescapeChar: \"\\\\\",\n\tmask: null, //needs tobe null instead of undefined as the extend method does not consider props with the undefined value\n\tregex: null, //regular expression as a mask\n\toncomplete: () => {\n\t}, //executes when the mask is complete\n\tonincomplete: () => {\n\t}, //executes when the mask is incomplete and focus is lost\n\toncleared: () => {\n\t}, //executes when the mask is cleared\n\trepeat: 0, //repetitions of the mask: * ~ forever, otherwise specify an integer\n\tgreedy: false, //true: allocated buffer for the mask and repetitions - false: allocate only if needed\n\tautoUnmask: false, //automatically unmask when retrieving the value with $.fn.val or value if the browser supports __lookupGetter__ or getOwnPropertyDescriptor\n\tremoveMaskOnSubmit: false, //remove the mask before submitting the form.\n\tclearMaskOnLostFocus: true,\n\tinsertMode: true, //insert the input or overwrite the input\n\tinsertModeVisual: true, //show selected caret when insertmode = false\n\tclearIncomplete: false, //clear the incomplete input on blur\n\talias: null,\n\tonKeyDown: () => {\n\t}, //callback to implement autocomplete on certain keys for example. args => event, buffer, caretPos, opts\n\tonBeforeMask: null, //executes before masking the initial value to allow preprocessing of the initial value.\targs => initialValue, opts => return processedValue\n\tonBeforePaste: function (pastedValue, opts) {\n\t\treturn typeof opts.onBeforeMask === \"function\" ? opts.onBeforeMask.call(this, pastedValue, opts) : pastedValue;\n\t}, //executes before masking the pasted value to allow preprocessing of the pasted value.\targs => pastedValue, opts => return processedValue\n\tonBeforeWrite: null, //executes before writing to the masked element. args => event, opts\n\tonUnMask: null, //executes after unmasking to allow postprocessing of the unmaskedvalue.\targs => maskedValue, unmaskedValue, opts\n\tshowMaskOnFocus: true, //show the mask-placeholder when the input has focus\n\tshowMaskOnHover: true, //show the mask-placeholder when hovering the empty input\n\tonKeyValidation: () => {\n\t}, //executes on every key-press with the result of isValid. Params: key, result, opts\n\tskipOptionalPartCharacter: \" \", //a character which can be used to skip an optional part of a mask\n\tnumericInput: false, //numericInput input direction style (input shifts to the left while holding the caret position)\n\trightAlign: false, //align to the right\n\tundoOnEscape: true, //pressing escape reverts the value to the value before focus\n\t//numeric basic properties\n\tradixPoint: \"\", //\".\", // | \",\"\n\t_radixDance: false, //dance around the radixPoint\n\tgroupSeparator: \"\", //\",\", // | \".\"\n\t//numeric basic properties\n\tkeepStatic: null, //try to keep the mask static while typing. Decisions to alter the mask will be posponed if possible\n\tpositionCaretOnTab: true, //when enabled the caret position is set after the latest valid position on TAB\n\ttabThrough: false, //allows for tabbing through the different parts of the masked field\n\tsupportsInputType: [\"text\", \"tel\", \"url\", \"password\", \"search\"], //list with the supported input types\n\t//specify keyCodes which should not be considered in the keypress event, otherwise the preventDefault will stop their default behavior especially in FF\n\tignorables: [8, 9, 19, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 0, 229],\n\tisComplete: null, //override for isComplete - args => buffer, opts - return true || false\n\tpreValidation: null, //hook to preValidate the input.  Usefull for validating regardless the definition.\targs => buffer, pos, char, isSelection, opts, maskset, caretPos, strict => return true/false/command object\n\tpostValidation: null, //hook to postValidate the result from isValid.\tUsefull for validating the entry as a whole.\targs => buffer, pos, c, currentResult, opts, maskset, strict, fromCheckval => return true/false/json\n\tstaticDefinitionSymbol: undefined, //specify a definitionSymbol for static content, used to make matches for alternators\n\tjitMasking: false, //just in time masking ~ only mask while typing, can n (number), true or false\n\tnullable: true, //return nothing instead of the buffertemplate when the user hasn't entered anything.\n\tinputEventOnly: false, //dev option - testing inputfallback behavior\n\tnoValuePatching: false, //disable value property patching\n\tpositionCaretOnClick: \"lvp\", //none, lvp (based on the last valid position (default), radixFocus (position caret to radixpoint on initial click), select (select the whole input), ignore (ignore the click and continue the mask)\n\tcasing: null, //mask-level casing. Options: null, \"upper\", \"lower\" or \"title\" or callback args => elem, test, pos, validPositions return charValue\n\tinputmode: \"text\", //specify the inputmode\n\timportDataAttributes: true, //import data-inputmask attributes\n\tshiftPositions: true, //shift position of the mask entries on entry and deletion.\n\tusePrototypeDefinitions: true //use the default defined definitions from the prototype\n};","/*\n * Input Mask Core\n * http://github.com/RobinHerbots/jquery.inputmask\n * Copyright (c) Robin Herbots\n * Licensed under the MIT license\n */\nimport \"./getPrototypeOf\";\nimport {mask} from \"./mask\";\nimport $ from \"./dependencyLibs/inputmask.dependencyLib\";\nimport window from \"./global/window\";\nimport {generateMaskSet, analyseMask} from \"./mask-lexer\";\nimport {getMaskTemplate} from \"./validation-tests\";\nimport {determineLastRequiredPosition, getBuffer, getBufferTemplate, isMask} from \"./positioning\";\nimport {isComplete} from \"./validation\";\nimport {checkVal, unmaskedvalue} from \"./inputHandling\";\nimport {EventRuler} from \"./eventruler\";\nimport definitions from \"./definitions\";\nimport defaults from \"./defaults\";\n\nconst document = window.document, dataKey = \"_inputmask_opts\";\n\nfunction Inputmask(alias, options, internal) {\n\t//allow instanciating without new\n\tif (!(this instanceof Inputmask)) {\n\t\treturn new Inputmask(alias, options, internal);\n\t}\n\n\tthis.dependencyLib = $;\n\tthis.el = undefined;\n\tthis.events = {};\n\tthis.maskset = undefined;\n\n\tif (internal !== true) {\n\t\t//init options\n\t\tif (Object.prototype.toString.call(alias) === \"[object Object]\") {\n\t\t\toptions = alias;\n\t\t} else {\n\t\t\toptions = options || {};\n\t\t\tif (alias) options.alias = alias;\n\t\t}\n\t\tthis.opts = $.extend(true, {}, this.defaults, options);\n\t\tthis.noMasksCache = options && options.definitions !== undefined;\n\t\tthis.userOptions = options || {}; //user passed options\n\t\tresolveAlias(this.opts.alias, options, this.opts);\n\t}\n\n\t//maskscope properties\n\tthis.refreshValue = false; //indicate a refresh from the inputvalue is needed (form.reset)\n\tthis.undoValue = undefined;\n\tthis.$el = undefined;\n\tthis.skipKeyPressEvent = false; //Safari 5.1.x - modal dialog fires keypress twice workaround\n\tthis.skipInputEvent = false; //skip when triggered from within inputmask\n\tthis.validationEvent = false;\n\tthis.ignorable = false;\n\tthis.maxLength;\n\tthis.mouseEnter = false;\n\tthis.originalPlaceholder = undefined; //needed for FF\n\tthis.isComposing = false; //keydowncode == 229  compositionevent fallback\n}\n\nInputmask.prototype = {\n\tdataAttribute: \"data-inputmask\", //data attribute prefix used for attribute binding\n\t//options default\n\tdefaults: defaults,\n\tdefinitions: definitions,\n\taliases: {}, //aliases definitions\n\tmasksCache: {},\n\tget isRTL() {\n\t\treturn this.opts.isRTL || this.opts.numericInput;\n\t},\n\tmask: function (elems) {\n\t\tvar that = this;\n\t\tif (typeof elems === \"string\") {\n\t\t\telems = document.getElementById(elems) || document.querySelectorAll(elems);\n\t\t}\n\t\telems = elems.nodeName ? [elems] : elems;\n\t\telems.forEach(function (el, ndx) {\n\t\t\tvar scopedOpts = $.extend(true, {}, that.opts);\n\t\t\tif (importAttributeOptions(el, scopedOpts, $.extend(true, {}, that.userOptions), that.dataAttribute)) {\n\t\t\t\tvar maskset = generateMaskSet(scopedOpts, that.noMasksCache);\n\t\t\t\tif (maskset !== undefined) {\n\t\t\t\t\tif (el.inputmask !== undefined) {\n\t\t\t\t\t\tel.inputmask.opts.autoUnmask = true; //force autounmasking when remasking\n\t\t\t\t\t\tel.inputmask.remove();\n\t\t\t\t\t}\n\t\t\t\t\t//store inputmask instance on the input with element reference\n\t\t\t\t\tel.inputmask = new Inputmask(undefined, undefined, true);\n\t\t\t\t\tel.inputmask.opts = scopedOpts;\n\t\t\t\t\tel.inputmask.noMasksCache = that.noMasksCache;\n\t\t\t\t\tel.inputmask.userOptions = $.extend(true, {}, that.userOptions);\n\t\t\t\t\t// el.inputmask.isRTL = scopedOpts.isRTL || scopedOpts.numericInput;\n\t\t\t\t\tel.inputmask.el = el;\n\t\t\t\t\tel.inputmask.$el = $(el);\n\t\t\t\t\tel.inputmask.maskset = maskset;\n\n\t\t\t\t\t$.data(el, dataKey, that.userOptions);\n\t\t\t\t\tmask.call(el.inputmask);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn elems && elems[0] ? (elems[0].inputmask || this) : this;\n\t},\n\toption: function (options, noremask) { //set extra options || retrieve value of a current option\n\t\tif (typeof options === \"string\") {\n\t\t\treturn this.opts[options];\n\t\t} else if (typeof options === \"object\") {\n\t\t\t$.extend(this.userOptions, options); //user passed options\n\t\t\t//remask\n\t\t\tif (this.el && noremask !== true) {\n\t\t\t\tthis.mask(this.el);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t},\n\tunmaskedvalue: function (value) {\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\tif (this.el === undefined || value !== undefined) {\n\t\t\tvar valueBuffer = (typeof this.opts.onBeforeMask === \"function\" ? (this.opts.onBeforeMask.call(this, value, this.opts) || value) : value).split(\"\");\n\t\t\tcheckVal.call(this, undefined, false, false, valueBuffer);\n\t\t\tif (typeof this.opts.onBeforeWrite === \"function\") this.opts.onBeforeWrite.call(this, undefined, getBuffer.call(this), 0, this.opts);\n\t\t}\n\t\treturn unmaskedvalue.call(this, this.el);\n\t},\n\tremove: function () {\n\t\tif (this.el) {\n\t\t\t$.data(this.el, dataKey, null); //invalidate\n\t\t\t//writeout the value\n\t\t\tvar cv = this.opts.autoUnmask ? unmaskedvalue(this.el) : this._valueGet(this.opts.autoUnmask);\n\t\t\tif (cv !== getBufferTemplate.call(this).join(\"\")) this._valueSet(cv, this.opts.autoUnmask); else this._valueSet(\"\");\n\t\t\t//unbind all events\n\t\t\tEventRuler.off(this.el);\n\n\t\t\t//restore the value property\n\t\t\tvar valueProperty;\n\t\t\tif (Object.getOwnPropertyDescriptor && Object.getPrototypeOf) {\n\t\t\t\tvalueProperty = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el), \"value\");\n\t\t\t\tif (valueProperty) {\n\t\t\t\t\tif (this.__valueGet) {\n\t\t\t\t\t\tObject.defineProperty(this.el, \"value\", {\n\t\t\t\t\t\t\tget: this.__valueGet,\n\t\t\t\t\t\t\tset: this.__valueSet,\n\t\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (document.__lookupGetter__ && this.el.__lookupGetter__(\"value\")) {\n\t\t\t\tif (this.__valueGet) {\n\t\t\t\t\tthis.el.__defineGetter__(\"value\", this.__valueGet);\n\t\t\t\t\tthis.el.__defineSetter__(\"value\", this.__valueSet);\n\t\t\t\t}\n\t\t\t}\n\t\t\t//clear data\n\t\t\tthis.el.inputmask = undefined;\n\t\t}\n\t\treturn this.el;\n\t},\n\tgetemptymask: function () { //return the default (empty) mask value, usefull for setting the default value in validation\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\treturn getBufferTemplate.call(this).join(\"\");\n\t},\n\thasMaskedValue: function () { //check wheter the returned value is masked or not; currently only works reliable when using jquery.val fn to retrieve the value\n\t\treturn !this.opts.autoUnmask;\n\t},\n\tisComplete: function () {\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\treturn isComplete.call(this, getBuffer.call(this));\n\t},\n\tgetmetadata: function () { //return mask metadata if exists\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\tif (Array.isArray(this.maskset.metadata)) {\n\t\t\tvar maskTarget = getMaskTemplate.call(this, true, 0, false).join(\"\");\n\t\t\tthis.maskset.metadata.forEach(function (mtdt) {\n\t\t\t\tif (mtdt.mask === maskTarget) {\n\t\t\t\t\tmaskTarget = mtdt;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\treturn maskTarget;\n\t\t}\n\t\treturn this.maskset.metadata;\n\t},\n\tisValid: function (value) {\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\tif (value) {\n\t\t\tvar valueBuffer = (typeof this.opts.onBeforeMask === \"function\" ? (this.opts.onBeforeMask.call(this, value, this.opts) || value) : value).split(\"\");\n\t\t\tcheckVal.call(this, undefined, true, false, valueBuffer);\n\t\t} else {\n\t\t\tvalue = this.isRTL ? getBuffer.call(this).slice().reverse().join(\"\") : getBuffer.call(this).join(\"\");\n\t\t}\n\t\tvar buffer = getBuffer.call(this);\n\t\tvar rl = determineLastRequiredPosition.call(this),\n\t\t\tlmib = buffer.length - 1;\n\t\tfor (; lmib > rl; lmib--) {\n\t\t\tif (isMask.call(this, lmib)) break;\n\t\t}\n\t\tbuffer.splice(rl, lmib + 1 - rl);\n\n\t\treturn isComplete.call(this, buffer) && value === (this.isRTL ? getBuffer.call(this).slice().reverse().join(\"\") : getBuffer.call(this).join(\"\"));\n\n\t},\n\tformat: function (value, metadata) {\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\tlet valueBuffer = (typeof this.opts.onBeforeMask === \"function\" ? (this.opts.onBeforeMask.call(this, value, this.opts) || value) : value).split(\"\");\n\t\tcheckVal.call(this, undefined, true, false, valueBuffer);\n\t\tlet formattedValue = this.isRTL ? getBuffer.call(this).slice().reverse().join(\"\") : getBuffer.call(this).join(\"\");\n\t\treturn metadata ? {\n\t\t\tvalue: formattedValue,\n\t\t\tmetadata: this.getmetadata()\n\t\t} : formattedValue;\n\t},\n\tsetValue: function (value) {\n\t\tif (this.el) {\n\t\t\t$(this.el).trigger(\"setvalue\", [value]);\n\t\t}\n\t},\n\tanalyseMask: analyseMask\n};\n\nfunction resolveAlias(aliasStr, options, opts) {\n\tvar aliasDefinition = Inputmask.prototype.aliases[aliasStr];\n\tif (aliasDefinition) {\n\t\tif (aliasDefinition.alias) resolveAlias(aliasDefinition.alias, undefined, opts); //alias is another alias\n\t\t$.extend(true, opts, aliasDefinition); //merge alias definition in the options\n\t\t$.extend(true, opts, options); //reapply extra given options\n\t\treturn true;\n\t} else //alias not found - try as mask\n\tif (opts.mask === null) {\n\t\topts.mask = aliasStr;\n\t}\n\n\treturn false;\n}\n\nfunction importAttributeOptions(npt, opts, userOptions, dataAttribute) {\n\tfunction importOption(option, optionData) {\n\t\tconst attrOption = dataAttribute === \"\" ? option : dataAttribute + \"-\" + option;\n\t\toptionData = optionData !== undefined ? optionData : npt.getAttribute(attrOption);\n\t\tif (optionData !== null) {\n\t\t\tif (typeof optionData === \"string\") {\n\t\t\t\tif (option.indexOf(\"on\") === 0) {\n\t\t\t\t\toptionData = window[optionData];\n\t\t\t\t}//get function definition\n\t\t\t\telse if (optionData === \"false\") {\n\t\t\t\t\toptionData = false;\n\t\t\t\t} else if (optionData === \"true\") optionData = true;\n\t\t\t}\n\t\t\tuserOptions[option] = optionData;\n\t\t}\n\t}\n\n\tif (opts.importDataAttributes === true) {\n\t\tvar attrOptions = npt.getAttribute(dataAttribute), option, dataoptions, optionData, p;\n\n\t\tif (attrOptions && attrOptions !== \"\") {\n\t\t\tattrOptions = attrOptions.replace(/'/g, \"\\\"\");\n\t\t\tdataoptions = JSON.parse(\"{\" + attrOptions + \"}\");\n\t\t}\n\n\t\t//resolve aliases\n\t\tif (dataoptions) { //pickup alias from dataAttribute\n\t\t\toptionData = undefined;\n\t\t\tfor (p in dataoptions) {\n\t\t\t\tif (p.toLowerCase() === \"alias\") {\n\t\t\t\t\toptionData = dataoptions[p];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\timportOption(\"alias\", optionData); //pickup alias from dataAttribute-alias\n\t\tif (userOptions.alias) {\n\t\t\tresolveAlias(userOptions.alias, userOptions, opts);\n\t\t}\n\n\t\tfor (option in opts) {\n\t\t\tif (dataoptions) {\n\t\t\t\toptionData = undefined;\n\t\t\t\tfor (p in dataoptions) {\n\t\t\t\t\tif (p.toLowerCase() === option.toLowerCase()) {\n\t\t\t\t\t\toptionData = dataoptions[p];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\timportOption(option, optionData);\n\t\t}\n\t}\n\t$.extend(true, opts, userOptions);\n\n\t//handle dir=rtl\n\tif (npt.dir === \"rtl\" || opts.rightAlign) {\n\t\tnpt.style.textAlign = \"right\";\n\t}\n\n\tif (npt.dir === \"rtl\" || opts.numericInput) {\n\t\tnpt.dir = \"ltr\";\n\t\tnpt.removeAttribute(\"dir\");\n\t\topts.isRTL = true;\n\t}\n\n\treturn Object.keys(userOptions).length;\n}\n\n//apply defaults, definitions, aliases\nInputmask.extendDefaults = function (options) {\n\t$.extend(true, Inputmask.prototype.defaults, options);\n};\nInputmask.extendDefinitions = function (definition) {\n\t$.extend(true, Inputmask.prototype.definitions, definition);\n};\nInputmask.extendAliases = function (alias) {\n\t$.extend(true, Inputmask.prototype.aliases, alias);\n};\n//static fn on inputmask\nInputmask.format = function (value, options, metadata) {\n\treturn Inputmask(options).format(value, metadata);\n};\nInputmask.unmask = function (value, options) {\n\treturn Inputmask(options).unmaskedvalue(value);\n};\nInputmask.isValid = function (value, options) {\n\treturn Inputmask(options).isValid(value);\n};\nInputmask.remove = function (elems) {\n\tif (typeof elems === \"string\") {\n\t\telems = document.getElementById(elems) || document.querySelectorAll(elems);\n\t}\n\telems = elems.nodeName ? [elems] : elems;\n\telems.forEach(function (el) {\n\t\tif (el.inputmask) el.inputmask.remove();\n\t});\n};\nInputmask.setValue = function (elems, value) {\n\tif (typeof elems === \"string\") {\n\t\telems = document.getElementById(elems) || document.querySelectorAll(elems);\n\t}\n\telems = elems.nodeName ? [elems] : elems;\n\telems.forEach(function (el) {\n\t\tif (el.inputmask) el.inputmask.setValue(value); else $(el).trigger(\"setvalue\", [value]);\n\t});\n};\n\nInputmask.dependencyLib = $;\n\n//make inputmask available\nwindow.Inputmask = Inputmask;\nexport default Inputmask;\n","import errors from \"../modules/Errors\";\r\nimport Inputmask from \"inputmask/lib/inputmask\";\r\n\r\nclass KbfForm {\r\n\r\n    constructor(formConfig, lang) {\r\n\r\n        let $ = window.$;\r\n\r\n        this.formConfig = formConfig;\r\n        this.formName = this.formConfig.formName;\r\n        this.formElement = document.forms[this.formName];\r\n        this.lang = lang || 'pl';\r\n\r\n        // Sprawdz czy formularz o podanej nazwie istnieje\r\n        if (!this.formElement) throw errors.formNotFound(this.formName);\r\n\r\n        this.$formElement = $(this.formElement);\r\n        // this.$submitButton = this.$formElement.find('button[type=\"submit\"]');\r\n\r\n        // Error message\r\n        this.$errorMessageElement = $('.kbf-error-message');\r\n\r\n        // Sprawdz czy walidator istnieje\r\n        if (!$.fn.validate) throw errors.noValidator();\r\n\r\n        // Konfiguracja walidatora\r\n        this.validatorConfig = formConfig.validator;\r\n\r\n        // Domyslna konfiguracja walidatora\r\n        this.defaultValidatorConfig = {\r\n\r\n            ignore: [],\r\n\r\n            // Umiejscowienie komunikatu o bledzie\r\n            errorPlacement: function ($label, $element) {\r\n                $label.addClass('kbf-error-message');\r\n\r\n                let $column = $element.closest('[class*=\"col\"]');\r\n\r\n                if ($column.length > 0) {\r\n                    $column.append($label);\r\n                } else $label.insertAfter($element);\r\n            }\r\n        };\r\n\r\n        this.init();\r\n        this.addListeners();\r\n\r\n    }\r\n\r\n    init() {\r\n\r\n        // Ustaw maski\r\n        Array.from(this.formElement.elements).forEach(function (formElement) {\r\n            new Inputmask().mask(formElement)\r\n        })\r\n\r\n    }\r\n\r\n    addListeners() {\r\n\r\n        let instance = this;\r\n        let $ = window.$;\r\n\r\n        // // Usun domyslne zachowanie formularza\r\n        // this.$formElement.on('submit', function (e) {\r\n        //     e.stopPropagation();\r\n        //     e.preventDefault();\r\n        // });\r\n        //\r\n        // // Waliduj formularz\r\n        // this.$submitButton.on('click', function (e) {\r\n        //     e.stopPropagation();\r\n        //     instance.$formElement.validate({ ...instance.defaultValidatorConfig, ...instance.validatorConfig });\r\n        //     instance.handleErrorMessage.call(instance);\r\n        // });\r\n    }\r\n\r\n    validate() {\r\n        this.$formElement.validate({ ...this.defaultValidatorConfig, ...this.validatorConfig });\r\n        this.handleErrorMessage();\r\n    }\r\n\r\n    // Ustawia error message jezeli istnieje\r\n    handleErrorMessage() {\r\n\r\n        this.formIsValid = this.$formElement.valid();\r\n\r\n        // Wyswietl komunikat o bledzie jeżeli pole komunikatu istnieje\r\n        if (this.$errorMessageElement.length > 0) {\r\n            if(this.formIsValid && !this.$errorMessageElement.hasClass('d-none')) this.$errorMessageElement.addClass('d-none');\r\n            if(!this.formIsValid && this.$errorMessageElement.hasClass('d-none')) this.$errorMessageElement.removeClass('d-none');\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default KbfForm;","import KbfForm from \"./KbfForm\";\r\n\r\nclass KbfTabs {\r\n\r\n    constructor(formName) {\r\n\r\n        this.formIsValid = true;\r\n        if (formName) this.formName = formName;\r\n\r\n        if (window.innerWidth >= 768) {\r\n            $('.mobile-tabs').remove();\r\n        }\r\n\r\n        if (window.innerWidth < 768) {\r\n            console.log($('.desktop-tabs'))\r\n            $('.desktop-tabs').remove();\r\n        }\r\n\r\n        this.init();\r\n        this.addListeners();\r\n    }\r\n\r\n    init() {\r\n\r\n        let $ = window.$;\r\n        let instance = this;\r\n\r\n        this.$tabToggles = $('[data-toggle=\"tab\"]'); // Taby\r\n\r\n        // Inicjuj kontroler formularza jezeli podano nazwe\r\n        if (this.formName) {\r\n\r\n            this.formController = new KbfForm({\r\n                formName: instance.formName,\r\n                onfocusout: false,\r\n                onfocus: false,\r\n                onkeyup: false\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    addListeners() {\r\n\r\n        let instance = this;\r\n\r\n        // Zablokuj przelaczanie tabow jezeli sa bledy w formularzu\r\n        if (this.formName) {\r\n            this.$tabToggles.on('click', function (e) {\r\n                instance.validateForm();\r\n                if (!instance.formIsValid) e.stopPropagation();\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n\r\n    validateForm() {\r\n\r\n        let formExists = $(`form[name=\"${this.formName}\"]`).length > 0;\r\n\r\n        if (formExists) {\r\n            this.formController.validate();\r\n            this.formIsValid = this.formController.formIsValid;\r\n        }\r\n\r\n        }\r\n}\r\n\r\nexport default KbfTabs;","export function get(element) {\n  return getComputedStyle(element);\n}\n\nexport function set(element, obj) {\n  for (const key in obj) {\n    let val = obj[key];\n    if (typeof val === 'number') {\n      val = `${val}px`;\n    }\n    element.style[key] = val;\n  }\n  return element;\n}\n","import errors from \"../modules/Errors\";\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\n\r\nclass KbfDropdown extends EventTarget {\r\n\r\n    constructor(selector, opts = [], scrollBlock = true) {\r\n\r\n        super();\r\n\r\n        let $ = window.$;\r\n\r\n        // Sprawdz poprawnosc argumentow\r\n        if (selector === undefined) throw errors.argumentNotFound('selector');\r\n\r\n        this.selector = selector;\r\n        this.opts = opts;\r\n\r\n        this.scrollBlock = scrollBlock; // Czy blokowac scroll po otwarciu dropdown\r\n\r\n        this.init(); // Inicjalizuj\r\n        this.addListeners(); // Dodaj event listenery\r\n        this.initScrollBar(); // Inicjuj scrollbar\r\n\r\n    }\r\n\r\n    init() {\r\n\r\n        let $ = window.$;\r\n\r\n        // Aliasy\r\n        this.on = this.addEventListener;\r\n        this.off = this.removeEventListener;\r\n        this.emit = this.dispatchEvent;\r\n\r\n        this.$dropdowns = $(this.selector);\r\n\r\n        // Ustaw opcje z atrybuty data-options\r\n        let dataOptions = this.$dropdowns.data('options');\r\n        if (dataOptions) this.opts = dataOptions.split(',');\r\n\r\n        if (this.$dropdowns.length === 0) throw errors.elementNotFound(this.selector);\r\n\r\n        this.$dropdownButtons = this.$dropdowns.find('button'); // Przyciski dropdown\r\n\r\n        // Wstaw ukryte pole formularza\r\n        this.$dropdowns.append($('<input class=\"form-control\" type=\"hidden\">'));\r\n        this.$hiddenInputs = this.$dropdowns.find('input[type=\"hidden\"]');\r\n\r\n        // Ustaw opcje\r\n        this.setOptions(this.opts);\r\n        this.$dropdownItems = this.$dropdowns.find('.dropdown-item'); // Elementy menu\r\n\r\n    }\r\n\r\n    // Dodaje listenery\r\n    addListeners() {\r\n\r\n        let $ = window.$;\r\n\r\n        let instance = this; // Ustaw kontekst\r\n        this.$dropdownItems.off('click');\r\n\r\n        let wheelEvent = 'onwheel' in document.createElement('div') ? 'wheel' : 'mousewheel';\r\n\r\n        function preventDefault(e) {\r\n            e.preventDefault();\r\n        }\r\n\r\n        function disableScroll() {\r\n            window.addEventListener('DOMMouseScroll', preventDefault, { passive: false }); // older FF\r\n            window.addEventListener(wheelEvent, preventDefault, { passive: false }); // modern desktop\r\n            window.addEventListener('touchmove', preventDefault, { passive: false }); // mobile\r\n        }\r\n\r\n        function enableScroll() {\r\n            window.removeEventListener('DOMMouseScroll', preventDefault, { passive: false });\r\n            window.removeEventListener(wheelEvent, preventDefault, { passive: false });\r\n            window.removeEventListener('touchmove', preventDefault, { passive: false });\r\n        }\r\n\r\n        if (this.scrollBlock) {\r\n            // Blokowanie scrollingu body kiedy dropdown jest widoczny\r\n            this.$dropdowns.on('shown.bs.dropdown', function (e) {\r\n                e.stopPropagation();\r\n                disableScroll();\r\n\r\n            });\r\n\r\n            this.$dropdowns.on('hidden.bs.dropdown', function (e) {\r\n                e.stopPropagation();\r\n                enableScroll();\r\n            });\r\n        }\r\n\r\n        // Fix dla przyciskow steppera // TODO przeniesc do steppera\r\n        // this.$dropdowns.on('shown.bs.dropdown', function (e) {\r\n        //\r\n        //     e.stopPropagation();\r\n        //     let $steps = $('.step');\r\n        //     let $buttons = $('.button-prev, .button-next, .button-register');\r\n        //     if ($steps.length) $steps.css('z-index', -1);\r\n        //     if ($buttons.length) $buttons.css('z-index', -1);\r\n        //\r\n        // });\r\n        //\r\n        // this.$dropdowns.on('hidden.bs.dropdown', function (e) {\r\n        //\r\n        //     e.stopPropagation();\r\n        //     let $steps = $('.step');\r\n        //     let $buttons = $('.button-prev, .button-next, .button-register');\r\n        //     if ($steps.length) $steps.css('z-index', '');\r\n        //     if ($buttons.length) $buttons.css('z-index', '');\r\n        //\r\n        // });\r\n\r\n\r\n        // Gdy klikniemy na dropdown item\r\n        this.$dropdownItems.on('click', function (e) {\r\n\r\n            e.preventDefault()\r\n\r\n                let $this = $(this);\r\n\r\n                // Sprawdz czy wartosci sie zmienila\r\n                if ($this.text() !== instance.displayed) {\r\n\r\n                    // Wyswietl nowa wartosc na przycisku\r\n                    instance.displayed = $this.text();\r\n                    instance.$dropdownButtons.text(instance.displayed);\r\n\r\n                    // Ustaw ukryte pole\r\n                    // Jeżeli opts jest obiektem\r\n                    if (Array.isArray(instance.opts) === false && typeof instance.opts === 'object') {\r\n                        instance.$hiddenInputs.attr({\r\n                            name: instance.$dropdowns.data('name'),\r\n                            value: instance.opts[instance.displayed]\r\n                        });\r\n\r\n                        instance.emit(new CustomEvent('change', {detail: instance.opts[instance.displayed]})); // Emituj nowa wartosc\r\n\r\n                    } else\r\n                        // Jezeli opts jest tablica\r\n                    if (Array.isArray(instance.opts) === true) {\r\n                        instance.$hiddenInputs.attr({\r\n                            name: instance.$dropdowns.data('name'),\r\n                            value: instance.displayed\r\n                        });\r\n\r\n                        instance.emit(new CustomEvent('change', {detail: instance.displayed})); // Emituj nowa wartosc\r\n\r\n                    }\r\n                }\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n    // Inicjalizuje opcje\r\n    setOptions(opts) {\r\n\r\n        let $ = window.$;\r\n\r\n        let dropdownMenu, optionsLastIdx, idx;\r\n        let ariaLabelledBy = this.$dropdownButtons.attr('id');\r\n        let instance = this; // Ustaw kontekst\r\n\r\n        // Jeżeli opts jest obiektem\r\n        if (Array.isArray(opts) === false && typeof opts === 'object') {\r\n\r\n            let keys = Object.keys(opts);\r\n            optionsLastIdx = keys.length - 1;\r\n            idx = 0;\r\n\r\n            // Ustaw stan\r\n            this.setState();\r\n\r\n            // Aktualizuj ukryte pole\r\n            this.updateHiddenInput();\r\n\r\n            // Przygotuj elementy menu\r\n            dropdownMenu = `<div class=\"dropdown-menu\" aria-labelledby=\"${ariaLabelledBy}\">`;\r\n            do {\r\n                dropdownMenu += `<a class=\"dropdown-item\" href=\"#\">${keys[idx]}</a>`;\r\n            } while (idx++ < optionsLastIdx)\r\n\r\n            dropdownMenu += '</div>';\r\n\r\n        } else\r\n\r\n            // Jezeli opts jest tablica\r\n        if (Array.isArray(opts) === true) {\r\n\r\n            optionsLastIdx = opts.length - 1;\r\n            idx = 0;\r\n\r\n            // Ustaw stan\r\n            this.setState();\r\n\r\n            // Aktualizuj ukryte pole\r\n            this.updateHiddenInput();\r\n\r\n            // Przygotuj elementy menu\r\n            dropdownMenu = `<div class=\"dropdown-menu\" aria-labelledby=\"${ariaLabelledBy}\">`;\r\n            do {\r\n                dropdownMenu += `<a class=\"dropdown-item\" href=\"#\">${opts[idx]}</a>`;\r\n            } while (idx++ < optionsLastIdx)\r\n\r\n            dropdownMenu += '</div>';\r\n\r\n        }\r\n\r\n        this.$dropdownButtons.text(this.displayed); // Ustaw tekst na przycisku\r\n        this.$dropdownButtons.on('click', function () {\r\n            instance.initScrollBar();\r\n\r\n            // Scrollbar fix !\r\n            instance.$dropdownMenu.on('click', function (e) {\r\n                if (e.target.className.indexOf('ps__') !== -1) {\r\n                    e.stopPropagation();\r\n                }\r\n            })\r\n\r\n        })\r\n\r\n        this.$dropdowns.find('.dropdown-menu').remove();\r\n\r\n        this.$dropdownMenu = $(dropdownMenu);\r\n        this.$dropdownButtons.after(this.$dropdownMenu);\r\n\r\n\r\n        // Ustaw szerokosc dropdown menu na szerokosc przycisku - fix\r\n        this.$dropdownButtons.off('mouseenter');\r\n        this.$dropdownButtons.on('mouseenter', function () {\r\n           let $this = $(this);\r\n           $this.next().css('width', $this.css('width'));\r\n        });\r\n        this.$dropdownMenu.css({width: this.$dropdownMenu.prev('button').css('width')});\r\n\r\n    }\r\n\r\n    // Ustawia nowe opcje\r\n    updateOptions(opts) {\r\n\r\n        let newMenuItemsHtml = ''; // Generowany kod html dla elementow menu\r\n        this.opts = opts;\r\n\r\n        // Jeżeli opts jest obiektem\r\n        if (Array.isArray(this.opts) === false && typeof this.opts === 'object') {\r\n\r\n            let keys = Object.keys(this.opts);\r\n\r\n            // Usun istniejace elementy menu\r\n            this.$dropdownItems.remove();\r\n\r\n            // Generuj nowy kod html dla elementow menu <a class=\"dropdown-item\" href=\"#\">Wszystkie</a>\r\n            keys.forEach(function (key) {\r\n                newMenuItemsHtml += `<a class=\"dropdown-item\" href=\"#\">${key}</a>`;\r\n            });\r\n\r\n            this.$dropdownButtons.text(keys[0]); // Aktualizuj przycisk\r\n            this.$dropdownMenu.html(newMenuItemsHtml);\r\n            this.$dropdownItems = this.$dropdownMenu.find('.dropdown-item');\r\n            this.addListeners(); // Dodaj ponownie listenery\r\n\r\n            // Ustaw stan\r\n            this.setState();\r\n            this.initScrollBar();\r\n\r\n        } else\r\n\r\n            // Jezeli opts jest tablica\r\n        if (Array.isArray(this.opts) === true) {\r\n\r\n            // Usun istniejace elementy menu\r\n            this.$dropdownItems.off('click');\r\n            this.$dropdownItems.remove();\r\n\r\n            this.opts.forEach(function (opt) {\r\n                newMenuItemsHtml += `<a class=\"dropdown-item\" href=\"#\">${opt}</a>`;\r\n            });\r\n\r\n            this.$dropdownButtons.text(this.opts[0]); // Aktualizuj przycisk\r\n            this.$dropdownMenu.html(newMenuItemsHtml);\r\n            this.$dropdownItems = this.$dropdownMenu.find('.dropdown-item');\r\n            this.addListeners(); // Dodaj ponownie listenery\r\n\r\n            // Ustaw stan\r\n            this.setState();\r\n\r\n        }\r\n\r\n        // Aktualizuj ukryte pole\r\n        this.updateHiddenInput();\r\n\r\n    }\r\n\r\n    // Aktualizuje ukryte pole input\r\n    updateHiddenInput() {\r\n        // Ustaw ukryte pola\r\n        this.$hiddenInputs.attr({\r\n            name: this.$dropdowns.data('name'),\r\n            value: this.value\r\n        });\r\n    }\r\n\r\n    // Ustawia aktywna opcje\r\n    setActive(optionName) {\r\n\r\n        // Sprawdz poprawnosc argumentow\r\n        if (optionName === undefined) throw errors.argumentNotFound('optionName');\r\n\r\n        // Jeżeli opts jest obiektem\r\n        if (Array.isArray(this.opts) === false && typeof this.opts === 'object') {\r\n\r\n            // Sprawdz czy opcja istnieje\r\n            if ((optionName in this.opts) === false) throw new Error(`Option ${optionName} does not exist`);\r\n\r\n            // Ustaw stan\r\n            this.displayed = optionName;\r\n            this.value = this.opts[optionName];\r\n        }\r\n\r\n        // Jezeli opts jest tablica\r\n        if (Array.isArray(this.opts) === true) {\r\n\r\n            // Sprawdz czy opcja istnieje\r\n            if (this.opts.includes(optionName) === false) throw new Error(`Option ${optionName} does not exist`);\r\n\r\n            // Ustaw stan\r\n            this.displayed = optionName;\r\n            this.value = optionName;\r\n\r\n        }\r\n\r\n        this.$dropdownButtons.text(this.displayed); // Wyswietl nowa wartosc na przycisku\r\n        this.updateHiddenInput(); // Aktualizuj ukryty input\r\n\r\n    }\r\n\r\n    // Ustawia stan\r\n    setState() {\r\n\r\n        // Jeżeli opts jest obiektem\r\n        if (Array.isArray(this.opts) === false && typeof this.opts === 'object') {\r\n\r\n            let keys = Object.keys(this.opts);\r\n\r\n            // Ustaw stan\r\n            this.value = this.opts[keys[0]];\r\n            this.displayed = keys[0];\r\n            this.items = keys;\r\n\r\n        }\r\n        // Jezeli opts jest tablica\r\n        if (Array.isArray(this.opts) === true) {\r\n\r\n            // Ustaw stan\r\n            this.value = this.opts[0];\r\n            this.displayed = this.opts[0];\r\n            this.items = this.opts;\r\n\r\n        }\r\n    }\r\n\r\n    // Aktywuje scrollbar\r\n    initScrollBar() {\r\n\r\n        let instance = this;\r\n\r\n        if (this.scrollbar) this.scrollbar.destroy();\r\n\r\n        // Inicjuj scrollbar\r\n        this.scrollbar = new PerfectScrollbar(this.$dropdownMenu[0], {\r\n            minScrollbarLength: 20\r\n        });\r\n\r\n        this.$psRail = this.$dropdowns.find('[class*=\"ps__rail-y\"]');\r\n        this.$psThumb = this.$dropdowns.find('[class*=\"ps__thumb-y\"]');\r\n\r\n        // Wylacz pan mapy gdy kursor znajduje sie na scrollbar i mapa istnieje\r\n        this.$psRail.on('mouseenter', function () {\r\n            if (window.map) window.map.dragging.disable();\r\n\r\n        });\r\n\r\n        this.$dropdownMenu.on('mouseenter', function (e) {\r\n\r\n            e.stopPropagation();\r\n\r\n            instance.scrollbar.update();\r\n\r\n            if (window.map.scrollWheelZoom && window.map.dragging) {\r\n                window.map.scrollWheelZoom.disable();\r\n                window.map.dragging.disable();\r\n            }\r\n        })\r\n\r\n        // Wlacz pan mapy gdy kursor opuszcza dropdown i mapa istnieje\r\n        this.$psRail.on('mouseleave', function () {\r\n            if (window.map) window.map.dragging.enable();\r\n        })\r\n\r\n        this.$dropdownMenu.on('mouseleave', function () {\r\n            if (window.map.scrollWheelZoom && window.map.dragging) {\r\n                window.map.scrollWheelZoom.enable();\r\n                window.map.dragging.enable();\r\n            }\r\n        })\r\n\r\n        this.$psRail.on('mousedown mouseup click', function (e) {\r\n            e.stopPropagation();\r\n        })\r\n\r\n\r\n    }\r\n\r\n    destroy() {\r\n        this.$dropdownItems.off('click');\r\n        this.$hiddenInputs.remove();\r\n        this.$dropdownMenu.remove();\r\n    }\r\n\r\n}\r\n\r\nexport default KbfDropdown;","!function(s){var i={};function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=s,o.c=i,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)o.d(s,i,function(t){return e[t]}.bind(null,i));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=0)}([function(t,e,s){\"use strict\";s.r(e),s.d(e,\"AutoComplete\",function(){return d});var i,o,n,r=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s])})(t,e)},function(t,e){function s(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}),l=(_.prototype.getDefaults=function(){return{}},_.prototype.getResults=function(t,e,s){return this.results},_.prototype.search=function(t,e){e(this.getResults())},r(p,o=_),p.prototype.getDefaults=function(){return{url:\"\",method:\"get\",queryKey:\"q\",extraData:{},timeout:void 0,requestThrottling:500}},p.prototype.search=function(t,e){var s=this;null!=this.jqXHR&&this.jqXHR.abort();var i={};i[this._settings.queryKey]=t,$.extend(i,this._settings.extraData),this.requestTID&&window.clearTimeout(this.requestTID),this.requestTID=window.setTimeout(function(){s.jqXHR=$.ajax(s._settings.url,{method:s._settings.method,data:i,timeout:s._settings.timeout}),s.jqXHR.done(function(t){e(t)}),s.jqXHR.fail(function(t){var e;null===(e=s._settings)||void 0===e||e.fail(t)}),s.jqXHR.always(function(){s.jqXHR=null})},this._settings.requestThrottling)},p),a=(f.prototype.init=function(){var s=this,t=$.extend({},this._$el.position(),{height:this._$el[0].offsetHeight});this._dd=$(\"<ul />\"),this._dd.addClass(\"bootstrap-autocomplete dropdown-menu\"),this._dd.insertAfter(this._$el),this._dd.css({top:t.top+this._$el.outerHeight(),left:t.left,width:this._$el.outerWidth()}),this._dd.on(\"click\",\"li\",function(t){var e=$(t.currentTarget).data(\"item\");s.itemSelectedLaunchEvent(e)}),this._dd.on(\"keyup\",function(t){if(s.shown){switch(t.which){case 27:s.hide(),s._$el.focus()}return!1}}),this._dd.on(\"mouseenter\",function(t){s.ddMouseover=!0}),this._dd.on(\"mouseleave\",function(t){s.ddMouseover=!1}),this._dd.on(\"mouseenter\",\"li\",function(t){s.haveResults&&($(t.currentTarget).closest(\"ul\").find(\"li.active\").removeClass(\"active\"),$(t.currentTarget).addClass(\"active\"),s.mouseover=!0)}),this._dd.on(\"mouseleave\",\"li\",function(t){s.mouseover=!1}),this.initialized=!0},f.prototype.checkInitialized=function(){this.initialized||this.init()},Object.defineProperty(f.prototype,\"isMouseOver\",{get:function(){return this.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,\"isDdMouseOver\",{get:function(){return this.ddMouseover},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,\"haveResults\",{get:function(){return 0<this.items.length},enumerable:!1,configurable:!0}),f.prototype.focusNextItem=function(t){var e,s;this.haveResults&&(e=this._dd.find(\"li.active\"),0===(s=t?e.prev():e.next()).length&&(s=t?this._dd.find(\"li\").last():this._dd.find(\"li\").first()),e.removeClass(\"active\"),s.addClass(\"active\"))},f.prototype.focusPreviousItem=function(){this.focusNextItem(!0)},f.prototype.selectFocusItem=function(){this._dd.find(\"li.active\").trigger(\"click\")},Object.defineProperty(f.prototype,\"isItemFocused\",{get:function(){return!!(this.isShown()&&0<this._dd.find(\"li.active\").length)},enumerable:!1,configurable:!0}),f.prototype.show=function(){this.shown||(this._dd.dropdown().show(),this.shown=!0)},f.prototype.isShown=function(){return this.shown},f.prototype.hide=function(){this.shown&&(this._dd.dropdown().hide(),this.shown=!1)},f.prototype.updateItems=function(t,e){this.items=t,this.searchText=e,this.refreshItemList()},f.prototype.showMatchedText=function(t,e){var s=t.toLowerCase().indexOf(e.toLowerCase());if(-1<s){var i=s+e.length;return t.slice(0,s)+\"<b>\"+t.slice(s,i)+\"</b>\"+t.slice(i)}return t},f.prototype.refreshItemList=function(){var r=this;this.checkInitialized(),this._dd.empty();var t,l=[];0<this.items.length?this.items.forEach(function(t){var e,s,i=r.formatItem(t);\"string\"==typeof i&&(i={text:i}),e=r.showMatchedText(i.text,r.searchText),s=void 0!==i.html?i.html:e;var o=i.disabled,n=$(\"<li >\");n.append($(\"<a>\").attr(\"href\",\"#!\").html(s)).data(\"item\",t),o&&n.addClass(\"disabled\"),l.push(n)}):((t=$(\"<li >\")).append($(\"<a>\").attr(\"href\",\"#!\").html(this.noResultsText)).addClass(\"disabled\"),l.push(t)),this._dd.append(l)},f.prototype.itemSelectedLaunchEvent=function(t){this._$el.trigger(\"autocomplete.select\",t)},f),h=(c.prototype.getElPos=function(){return $.extend({},this._$el.position(),{height:this._$el[0].offsetHeight})},c.prototype.init=function(){var s=this,t=this.getElPos();this._dd=$(\"<div />\"),this._dd.addClass(\"bootstrap-autocomplete dropdown-menu\"),this._dd.insertAfter(this._$el),this._dd.css({top:t.top+this._$el.outerHeight(),left:t.left,width:this._$el.outerWidth()}),this._dd.on(\"click\",\".dropdown-item\",function(t){var e=$(t.currentTarget).data(\"item\");s.itemSelectedLaunchEvent(e),t.preventDefault()}),this._dd.on(\"keyup\",function(t){if(s.shown){switch(t.which){case 27:s.hide(),s._$el.focus()}return!1}}),this._dd.on(\"mouseenter\",function(t){s.ddMouseover=!0}),this._dd.on(\"mouseleave\",function(t){s.ddMouseover=!1}),this._dd.on(\"mouseenter\",\".dropdown-item\",function(t){s.haveResults&&($(t.currentTarget).closest(\"div\").find(\".dropdown-item.active\").removeClass(\"active\"),$(t.currentTarget).addClass(\"active\"),s.mouseover=!0)}),this._dd.on(\"mouseleave\",\".dropdown-item\",function(t){s.mouseover=!1}),this.initialized=!0},c.prototype.checkInitialized=function(){this.initialized||this.init()},Object.defineProperty(c.prototype,\"isMouseOver\",{get:function(){return this.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\"isDdMouseOver\",{get:function(){return this.ddMouseover},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,\"haveResults\",{get:function(){return 0<this.items.length},enumerable:!1,configurable:!0}),c.prototype.focusNextItem=function(t){var e,s;this.haveResults&&(e=this._dd.find(\".dropdown-item.active\"),0===(s=t?e.prev():e.next()).length&&(s=t?this._dd.find(\".dropdown-item\").last():this._dd.find(\".dropdown-item\").first()),e.removeClass(\"active\"),s.addClass(\"active\"))},c.prototype.focusPreviousItem=function(){this.focusNextItem(!0)},c.prototype.selectFocusItem=function(){this._dd.find(\".dropdown-item.active\").trigger(\"click\")},Object.defineProperty(c.prototype,\"isItemFocused\",{get:function(){return!!(this._dd&&this.isShown()&&0<this._dd.find(\".dropdown-item.active\").length)},enumerable:!1,configurable:!0}),c.prototype.show=function(){this.shown||(this.getElPos(),this._dd.addClass(\"show\"),this.shown=!0,this._$el.trigger(\"autocomplete.dd.shown\"))},c.prototype.isShown=function(){return this.shown},c.prototype.hide=function(){this.shown&&(this._dd.removeClass(\"show\"),this.shown=!1,this._$el.trigger(\"autocomplete.dd.hidden\"))},c.prototype.updateItems=function(t,e){this.items=t,this.searchText=e,this.refreshItemList()},c.prototype.showMatchedText=function(t,e){var s=t.toLowerCase().indexOf(e.toLowerCase());if(-1<s){var i=s+e.length;return t.slice(0,s)+\"<b>\"+t.slice(s,i)+\"</b>\"+t.slice(i)}return t},c.prototype.refreshItemList=function(){var r=this;this.checkInitialized(),this._dd.empty();var t,l=[];0<this.items.length?(this.items.forEach(function(t){var e,s,i=r.formatItem(t);\"string\"==typeof i&&(i={text:i}),e=r.showMatchedText(i.text,r.searchText),s=void 0!==i.html?i.html:e;var o=i.disabled,n=$(\"<a >\");n.addClass(\"dropdown-item\").css({overflow:\"hidden\",\"text-overflow\":\"ellipsis\"}).html(s).data(\"item\",t),o&&n.addClass(\"disabled\"),l.push(n)}),this._dd.append(l),this.show()):\"\"===this.noResultsText?this.hide():((t=$(\"<a >\")).addClass(\"dropdown-item disabled\").html(this.noResultsText),l.push(t),this._dd.append(l),this.show())},c.prototype.itemSelectedLaunchEvent=function(t){this._$el.trigger(\"autocomplete.select\",t)},c),d=(u.prototype.manageInlineDataAttributes=function(){var t=this.getSettings();this._$el.data(\"url\")&&(t.resolverSettings.url=this._$el.data(\"url\")),this._$el.data(\"default-value\")&&(this._defaultValue=this._$el.data(\"default-value\")),this._$el.data(\"default-text\")&&(this._defaultText=this._$el.data(\"default-text\")),void 0!==this._$el.data(\"noresults-text\")&&(t.noResultsText=this._$el.data(\"noresults-text\"))},u.prototype.getSettings=function(){return this._settings},u.prototype.getBootstrapVersion=function(){var t=\"auto\"===this._settings.bootstrapVersion?$.fn.button.Constructor.VERSION.split(\".\").map(parseInt):\"4\"===this._settings.bootstrapVersion?[4]:\"3\"===this._settings.bootstrapVersion?[3]:(console.error(\"INVALID value for 'bootstrapVersion' settings property: \"+this._settings.bootstrapVersion+\" defaulting to 4\"),[4]);return t},u.prototype.convertSelectToText=function(){var t=$(\"<input>\");t.attr(\"type\",\"hidden\"),t.attr(\"name\",this._$el.attr(\"name\")),this._defaultValue&&t.val(this._defaultValue),(this._selectHiddenField=t).insertAfter(this._$el);var e=$(\"<input>\");e.attr(\"type\",\"search\"),e.attr(\"name\",this._$el.attr(\"name\")+\"_text\"),e.attr(\"id\",this._$el.attr(\"id\")),e.attr(\"disabled\",this._$el.attr(\"disabled\")),e.attr(\"placeholder\",this._$el.attr(\"placeholder\")),e.attr(\"autocomplete\",\"off\"),e.addClass(this._$el.attr(\"class\")),this._defaultText&&e.val(this._defaultText);var s=this._$el.attr(\"required\");s&&e.attr(\"required\",s),e.data(u.NAME,this),this._$el.replaceWith(e),this._$el=e,this._el=e.get(0)},u.prototype.init=function(){this.bindDefaultEventListeners(),\"ajax\"===this._settings.resolver&&(this.resolver=new l(this._settings.resolverSettings)),4===this.getBootstrapVersion()[0]?this._dd=new h(this._$el,this._settings.formatResult,this._settings.autoSelect,this._settings.noResultsText):this._dd=new a(this._$el,this._settings.formatResult,this._settings.autoSelect,this._settings.noResultsText)},u.prototype.bindDefaultEventListeners=function(){var s=this;this._$el.on(\"keydown\",function(t){switch(t.which){case 9:s._dd.isItemFocused?s._dd.selectFocusItem():s._selectedItem||\"\"!==s._$el.val()&&s._$el.trigger(\"autocomplete.freevalue\",s._$el.val()),s._dd.hide();break;case 13:s._dd.isItemFocused?s._dd.selectFocusItem():s._selectedItem||\"\"!==s._$el.val()&&s._$el.trigger(\"autocomplete.freevalue\",s._$el.val()),s._dd.hide(),s._settings.preventEnter&&t.preventDefault();break;case 40:s._dd.focusNextItem();break;case 38:s._dd.focusPreviousItem()}}),this._$el.on(\"keyup\",function(t){switch(t.which){case 16:case 17:case 18:case 39:case 37:case 36:case 35:break;case 13:case 27:s._dd.hide();break;case 40:case 38:break;default:s._selectedItem=null;var e=s._$el.val();s.handlerTyped(e)}}),this._$el.on(\"blur\",function(t){!s._dd.isMouseOver&&s._dd.isDdMouseOver&&s._dd.isShown()?(setTimeout(function(){s._$el.focus()}),s._$el.focus()):s._dd.isMouseOver||(s._isSelectElement?s._dd.isItemFocused?s._dd.selectFocusItem():(null!==s._selectedItem&&\"\"!==s._$el.val()||(\"\"!==s._$el.val()&&null!==s._defaultValue?(s._$el.val(s._defaultText),s._selectHiddenField.val(s._defaultValue)):(s._$el.val(\"\"),s._selectHiddenField.val(\"\")),s._selectedItem=null),s._$el.trigger(\"autocomplete.select\",s._selectedItem)):null===s._selectedItem&&s._$el.trigger(\"autocomplete.freevalue\",s._$el.val()),s._dd.hide())}),this._$el.on(\"autocomplete.select\",function(t,e){s._selectedItem=e,s.itemSelectedDefaultHandler(e)}),this._$el.on(\"paste\",function(t){setTimeout(function(){s._$el.trigger(\"keyup\",t)},0)})},u.prototype.handlerTyped=function(t){null!==this._settings.events.typed&&!(t=this._settings.events.typed(t,this._$el))||(t.length>=this._settings.minLength?(this._searchText=t,this.handlerPreSearch()):this._dd.hide())},u.prototype.handlerPreSearch=function(){if(null!==this._settings.events.searchPre){var t=this._settings.events.searchPre(this._searchText,this._$el);if(!t)return;this._searchText=t}this.handlerDoSearch()},u.prototype.handlerDoSearch=function(){var e=this;null!==this._settings.events.search?this._settings.events.search(this._searchText,function(t){e.postSearchCallback(t)},this._$el):this.resolver&&this.resolver.search(this._searchText,function(t){e.postSearchCallback(t)})},u.prototype.postSearchCallback=function(t){this._settings.events.searchPost&&\"boolean\"==typeof(t=this._settings.events.searchPost(t,this._$el))&&!t||this.handlerStartShow(t)},u.prototype.handlerStartShow=function(t){this._dd.updateItems(t,this._searchText)},u.prototype.itemSelectedDefaultHandler=function(t){var e;null!=t?(\"string\"==typeof(e=this._settings.formatResult(t))&&(e={text:e}),this._$el.val(e.text),this._isSelectElement&&this._selectHiddenField.val(e.value)):(this._$el.val(\"\"),this._isSelectElement&&this._selectHiddenField.val(\"\")),this._selectedItem=t,this._dd.hide()},u.prototype.defaultFormatResult=function(t){return\"string\"==typeof t?{text:t}:t.text?t:{text:t.toString()}},u.prototype.manageAPI=function(t,e){\"set\"===t?this.itemSelectedDefaultHandler(e):\"clear\"===t?this.itemSelectedDefaultHandler(null):\"show\"===t?this._$el.trigger(\"keyup\"):\"updateResolver\"===t&&(this.resolver=new l(e))},u.NAME=\"autoComplete\",u);function u(t,e){this._selectedItem=null,this._defaultValue=null,this._defaultText=null,this._isSelectElement=!1,this._settings={resolver:\"ajax\",resolverSettings:{},minLength:3,valueKey:\"value\",formatResult:this.defaultFormatResult,autoSelect:!0,noResultsText:\"No results\",bootstrapVersion:\"auto\",preventEnter:!1,events:{typed:null,searchPre:null,search:null,searchPost:null,select:null,focus:null}},this._el=t,this._$el=$(this._el),this._$el.is(\"select\")&&(this._isSelectElement=!0),this.manageInlineDataAttributes(),\"object\"==typeof e&&(this._settings=$.extend(!0,{},this.getSettings(),e)),this._isSelectElement&&this.convertSelectToText(),this.init()}function c(t,e,s,i){this.initialized=!1,this.shown=!1,this.items=[],this.ddMouseover=!1,this._$el=t,this.formatItem=e,this.autoSelect=s,this.noResultsText=i}function f(t,e,s,i){this.initialized=!1,this.shown=!1,this.items=[],this.ddMouseover=!1,this._$el=t,this.formatItem=e,this.autoSelect=s,this.noResultsText=i}function p(t){return o.call(this,t)||this}function _(t){this._settings=$.extend(!0,{},this.getDefaults(),t)}n=jQuery,window,document,n.fn[d.NAME]=function(e,s){return this.each(function(){var t;(t=n(this).data(d.NAME))||(t=new d(this,e),n(this).data(d.NAME,t)),t.manageAPI(e,s)})}}]);","let config = {\r\n\r\n    env: 'dev',\r\n    url: 'http://localhost',\r\n    apiEndpoint: 'http://localhost/kbf2/'\r\n\r\n};\r\n\r\nexport default config;","import errors from \"../modules/Errors\";\r\nimport \"bootstrap-autocomplete/dist/latest/bootstrap-autocomplete.min\";\r\nimport config from \"../config/config\";\r\n\r\nclass KbfAddressAutocomplete extends EventTarget {\r\n\r\n    constructor(selector, autocompleteConfig = {}, lang = 'pl') {\r\n\r\n        super();\r\n\r\n        this.$cityAutocomplete = $(selector);\r\n\r\n        // Emituj wyjatek gdy nie podano selektora albo element nie zostal znaleziony\r\n        if (!selector || this.$cityAutocomplete.length === 0) throw errors.elementNotFound(selector);\r\n\r\n        let instance = this;\r\n\r\n        this.lang = lang;\r\n        this.currentCityInfo = {}; // Aktualne dane o miescie\r\n\r\n        this.config = {\r\n\r\n            minLength: 3,\r\n            requestThrottling: 250,\r\n            noResultsText: this.lang === 'pl' ? 'Nie odneleziono miasta.' : '',\r\n\r\n            // Ustawienia resolvera\r\n            resolverSettings: {\r\n            url: config.apiEndpoint + '/api/addresses/?',\r\n                fail: function () {\r\n            }\r\n        },\r\n\r\n            // Formatuj wyniki\r\n            formatResult: function (item) {\r\n\r\n                // Aktualizuj dane o miescie\r\n                instance.currentCityInfo = {\r\n                        city: item.city,\r\n                        provinceName: item.provinceName\r\n                };\r\n\r\n                instance.emitCityChange();\r\n                \r\n                return {\r\n                    id: item.placeId,\r\n                    text: item.city,\r\n                    html: item.displayName\r\n                }\r\n            },\r\n\r\n            events: {\r\n\r\n                // Testuj query przed zapytaniem\r\n                searchPre: function (query) {\r\n\r\n                    query = query.replace(new RegExp(\"_+\"), '');\r\n                    let isQueryValid = new RegExp(\"[-a-zA-ZńółęśźżŃÓŁĘŚŹŻ\\s]+\").test(query);\r\n                    if (isQueryValid) return query;\r\n                    else return false;\r\n\r\n                },\r\n\r\n                // Przygotuj wyniki\r\n                searchPost: function (results) {\r\n\r\n\r\n                    let _results = Object.values(results).filter(function (result) {\r\n                        return result.address.country_code === 'pl' && result.address.state !== undefined && (result.address.city !== undefined || result.address.town !== undefined)\r\n                    }).map(function (result) {\r\n                        return {\r\n                            placeId: result.place_id,\r\n                            displayName: result.display_name,\r\n                            city: result.address.city || result.address.town,\r\n                            provinceName: result.address.state.split(' ')[1]\r\n                        }\r\n                    })\r\n\r\n                    _results = [ ...(new Set(_results)) ];\r\n\r\n                    return _results;\r\n\r\n                },\r\n\r\n            },\r\n\r\n            ...autocompleteConfig\r\n        }\r\n\r\n        this.init();\r\n\r\n    }\r\n\r\n    init() {\r\n\r\n        // Aliasy\r\n        this.on = this.addEventListener;\r\n        this.off = this.removeEventListener;\r\n        this.emit = this.dispatchEvent;\r\n\r\n        this.$cityAutocomplete.autoComplete(this.config);\r\n\r\n    }\r\n\r\n    addListeners() {\r\n\r\n    }\r\n\r\n    emitCityChange() {\r\n\r\n        let instance = this;\r\n\r\n        setTimeout(function () {\r\n            let $dropdownMenu = instance.$cityAutocomplete.next('.dropdown-menu');\r\n            if ($dropdownMenu.length > 0)\r\n\r\n                if ($dropdownMenu.is(':hidden')) {\r\n                    instance.emit(new CustomEvent('city-change', { detail: instance.currentCityInfo }))\r\n                }\r\n\r\n        }, 500);\r\n\r\n    }\r\n}\r\n\r\nexport default KbfAddressAutocomplete","/*!\n * Quill Editor v1.3.6\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Quill\"] = factory();\n\telse\n\t\troot[\"Quill\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 109);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar format_1 = __webpack_require__(18);\nvar leaf_1 = __webpack_require__(19);\nvar scroll_1 = __webpack_require__(45);\nvar inline_1 = __webpack_require__(46);\nvar block_1 = __webpack_require__(47);\nvar embed_1 = __webpack_require__(48);\nvar text_1 = __webpack_require__(49);\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar store_1 = __webpack_require__(31);\nvar Registry = __webpack_require__(1);\nvar Parchment = {\n    Scope: Registry.Scope,\n    create: Registry.create,\n    find: Registry.find,\n    query: Registry.query,\n    register: Registry.register,\n    Container: container_1.default,\n    Format: format_1.default,\n    Leaf: leaf_1.default,\n    Embed: embed_1.default,\n    Scroll: scroll_1.default,\n    Block: block_1.default,\n    Inline: inline_1.default,\n    Text: text_1.default,\n    Attributor: {\n        Attribute: attributor_1.default,\n        Class: class_1.default,\n        Style: style_1.default,\n        Store: store_1.default,\n    },\n};\nexports.default = Parchment;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParchmentError = /** @class */ (function (_super) {\n    __extends(ParchmentError, _super);\n    function ParchmentError(message) {\n        var _this = this;\n        message = '[Parchment] ' + message;\n        _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        return _this;\n    }\n    return ParchmentError;\n}(Error));\nexports.ParchmentError = ParchmentError;\nvar attributes = {};\nvar classes = {};\nvar tags = {};\nvar types = {};\nexports.DATA_KEY = '__blot';\nvar Scope;\n(function (Scope) {\n    Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n    Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n    Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n    Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n    Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n    Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n    Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n    Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n    Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n    Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n    Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n})(Scope = exports.Scope || (exports.Scope = {}));\nfunction create(input, value) {\n    var match = query(input);\n    if (match == null) {\n        throw new ParchmentError(\"Unable to create \" + input + \" blot\");\n    }\n    var BlotClass = match;\n    var node = \n    // @ts-ignore\n    input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\n    return new BlotClass(node, value);\n}\nexports.create = create;\nfunction find(node, bubble) {\n    if (bubble === void 0) { bubble = false; }\n    if (node == null)\n        return null;\n    // @ts-ignore\n    if (node[exports.DATA_KEY] != null)\n        return node[exports.DATA_KEY].blot;\n    if (bubble)\n        return find(node.parentNode, bubble);\n    return null;\n}\nexports.find = find;\nfunction query(query, scope) {\n    if (scope === void 0) { scope = Scope.ANY; }\n    var match;\n    if (typeof query === 'string') {\n        match = types[query] || attributes[query];\n        // @ts-ignore\n    }\n    else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\n        match = types['text'];\n    }\n    else if (typeof query === 'number') {\n        if (query & Scope.LEVEL & Scope.BLOCK) {\n            match = types['block'];\n        }\n        else if (query & Scope.LEVEL & Scope.INLINE) {\n            match = types['inline'];\n        }\n    }\n    else if (query instanceof HTMLElement) {\n        var names = (query.getAttribute('class') || '').split(/\\s+/);\n        for (var i in names) {\n            match = classes[names[i]];\n            if (match)\n                break;\n        }\n        match = match || tags[query.tagName];\n    }\n    if (match == null)\n        return null;\n    // @ts-ignore\n    if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope)\n        return match;\n    return null;\n}\nexports.query = query;\nfunction register() {\n    var Definitions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        Definitions[_i] = arguments[_i];\n    }\n    if (Definitions.length > 1) {\n        return Definitions.map(function (d) {\n            return register(d);\n        });\n    }\n    var Definition = Definitions[0];\n    if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\n        throw new ParchmentError('Invalid definition');\n    }\n    else if (Definition.blotName === 'abstract') {\n        throw new ParchmentError('Cannot register abstract class');\n    }\n    types[Definition.blotName || Definition.attrName] = Definition;\n    if (typeof Definition.keyName === 'string') {\n        attributes[Definition.keyName] = Definition;\n    }\n    else {\n        if (Definition.className != null) {\n            classes[Definition.className] = Definition;\n        }\n        if (Definition.tagName != null) {\n            if (Array.isArray(Definition.tagName)) {\n                Definition.tagName = Definition.tagName.map(function (tagName) {\n                    return tagName.toUpperCase();\n                });\n            }\n            else {\n                Definition.tagName = Definition.tagName.toUpperCase();\n            }\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\n            tagNames.forEach(function (tag) {\n                if (tags[tag] == null || Definition.className == null) {\n                    tags[tag] = Definition;\n                }\n            });\n        }\n    }\n    return Definition;\n}\nexports.register = register;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar diff = __webpack_require__(51);\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\nvar op = __webpack_require__(20);\n\n\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\n\n\nvar Delta = function (ops) {\n  // Assume we are given a well formed ops\n  if (Array.isArray(ops)) {\n    this.ops = ops;\n  } else if (ops != null && Array.isArray(ops.ops)) {\n    this.ops = ops.ops;\n  } else {\n    this.ops = [];\n  }\n};\n\n\nDelta.prototype.insert = function (text, attributes) {\n  var newOp = {};\n  if (text.length === 0) return this;\n  newOp.insert = text;\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype['delete'] = function (length) {\n  if (length <= 0) return this;\n  return this.push({ 'delete': length });\n};\n\nDelta.prototype.retain = function (length, attributes) {\n  if (length <= 0) return this;\n  var newOp = { retain: length };\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype.push = function (newOp) {\n  var index = this.ops.length;\n  var lastOp = this.ops[index - 1];\n  newOp = extend(true, {}, newOp);\n  if (typeof lastOp === 'object') {\n    if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\n      return this;\n    }\n    // Since it does not matter if we insert before or after deleting at the same index,\n    // always prefer to insert first\n    if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\n      index -= 1;\n      lastOp = this.ops[index - 1];\n      if (typeof lastOp !== 'object') {\n        this.ops.unshift(newOp);\n        return this;\n      }\n    }\n    if (equal(newOp.attributes, lastOp.attributes)) {\n      if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      }\n    }\n  }\n  if (index === this.ops.length) {\n    this.ops.push(newOp);\n  } else {\n    this.ops.splice(index, 0, newOp);\n  }\n  return this;\n};\n\nDelta.prototype.chop = function () {\n  var lastOp = this.ops[this.ops.length - 1];\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\n    this.ops.pop();\n  }\n  return this;\n};\n\nDelta.prototype.filter = function (predicate) {\n  return this.ops.filter(predicate);\n};\n\nDelta.prototype.forEach = function (predicate) {\n  this.ops.forEach(predicate);\n};\n\nDelta.prototype.map = function (predicate) {\n  return this.ops.map(predicate);\n};\n\nDelta.prototype.partition = function (predicate) {\n  var passed = [], failed = [];\n  this.forEach(function(op) {\n    var target = predicate(op) ? passed : failed;\n    target.push(op);\n  });\n  return [passed, failed];\n};\n\nDelta.prototype.reduce = function (predicate, initial) {\n  return this.ops.reduce(predicate, initial);\n};\n\nDelta.prototype.changeLength = function () {\n  return this.reduce(function (length, elem) {\n    if (elem.insert) {\n      return length + op.length(elem);\n    } else if (elem.delete) {\n      return length - elem.delete;\n    }\n    return length;\n  }, 0);\n};\n\nDelta.prototype.length = function () {\n  return this.reduce(function (length, elem) {\n    return length + op.length(elem);\n  }, 0);\n};\n\nDelta.prototype.slice = function (start, end) {\n  start = start || 0;\n  if (typeof end !== 'number') end = Infinity;\n  var ops = [];\n  var iter = op.iterator(this.ops);\n  var index = 0;\n  while (index < end && iter.hasNext()) {\n    var nextOp;\n    if (index < start) {\n      nextOp = iter.next(start - index);\n    } else {\n      nextOp = iter.next(end - index);\n      ops.push(nextOp);\n    }\n    index += op.length(nextOp);\n  }\n  return new Delta(ops);\n};\n\n\nDelta.prototype.compose = function (other) {\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else if (thisIter.peekType() === 'delete') {\n      delta.push(thisIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (typeof otherOp.retain === 'number') {\n        var newOp = {};\n        if (typeof thisOp.retain === 'number') {\n          newOp.retain = length;\n        } else {\n          newOp.insert = thisOp.insert;\n        }\n        // Preserve null when composing with a retain, otherwise remove it for inserts\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n        if (attributes) newOp.attributes = attributes;\n        delta.push(newOp);\n      // Other op should be delete, we could be an insert or retain\n      // Insert + delete cancels out\n      } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\n        delta.push(otherOp);\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.concat = function (other) {\n  var delta = new Delta(this.ops.slice());\n  if (other.ops.length > 0) {\n    delta.push(other.ops[0]);\n    delta.ops = delta.ops.concat(other.ops.slice(1));\n  }\n  return delta;\n};\n\nDelta.prototype.diff = function (other, index) {\n  if (this.ops === other.ops) {\n    return new Delta();\n  }\n  var strings = [this, other].map(function (delta) {\n    return delta.map(function (op) {\n      if (op.insert != null) {\n        return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n      }\n      var prep = (delta === other) ? 'on' : 'with';\n      throw new Error('diff() called ' + prep + ' non-document');\n    }).join('');\n  });\n  var delta = new Delta();\n  var diffResult = diff(strings[0], strings[1], index);\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  diffResult.forEach(function (component) {\n    var length = component[1].length;\n    while (length > 0) {\n      var opLength = 0;\n      switch (component[0]) {\n        case diff.INSERT:\n          opLength = Math.min(otherIter.peekLength(), length);\n          delta.push(otherIter.next(opLength));\n          break;\n        case diff.DELETE:\n          opLength = Math.min(length, thisIter.peekLength());\n          thisIter.next(opLength);\n          delta['delete'](opLength);\n          break;\n        case diff.EQUAL:\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n          var thisOp = thisIter.next(opLength);\n          var otherOp = otherIter.next(opLength);\n          if (equal(thisOp.insert, otherOp.insert)) {\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n          } else {\n            delta.push(otherOp)['delete'](opLength);\n          }\n          break;\n      }\n      length -= opLength;\n    }\n  });\n  return delta.chop();\n};\n\nDelta.prototype.eachLine = function (predicate, newline) {\n  newline = newline || '\\n';\n  var iter = op.iterator(this.ops);\n  var line = new Delta();\n  var i = 0;\n  while (iter.hasNext()) {\n    if (iter.peekType() !== 'insert') return;\n    var thisOp = iter.peek();\n    var start = op.length(thisOp) - iter.peekLength();\n    var index = typeof thisOp.insert === 'string' ?\n      thisOp.insert.indexOf(newline, start) - start : -1;\n    if (index < 0) {\n      line.push(iter.next());\n    } else if (index > 0) {\n      line.push(iter.next(index));\n    } else {\n      if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n        return;\n      }\n      i += 1;\n      line = new Delta();\n    }\n  }\n  if (line.length() > 0) {\n    predicate(line, {}, i);\n  }\n};\n\nDelta.prototype.transform = function (other, priority) {\n  priority = !!priority;\n  if (typeof other === 'number') {\n    return this.transformPosition(other, priority);\n  }\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n      delta.retain(op.length(thisIter.next()));\n    } else if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (thisOp['delete']) {\n        // Our delete either makes their delete redundant or removes their retain\n        continue;\n      } else if (otherOp['delete']) {\n        delta.push(otherOp);\n      } else {\n        // We retain either their retain or insert\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.transformPosition = function (index, priority) {\n  priority = !!priority;\n  var thisIter = op.iterator(this.ops);\n  var offset = 0;\n  while (thisIter.hasNext() && offset <= index) {\n    var length = thisIter.peekLength();\n    var nextType = thisIter.peekType();\n    thisIter.next();\n    if (nextType === 'delete') {\n      index -= Math.min(length, index - offset);\n      continue;\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\n      index += length;\n    }\n    offset += length;\n  }\n  return index;\n};\n\n\nmodule.exports = Delta;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NEWLINE_LENGTH = 1;\n\nvar BlockEmbed = function (_Parchment$Embed) {\n  _inherits(BlockEmbed, _Parchment$Embed);\n\n  function BlockEmbed() {\n    _classCallCheck(this, BlockEmbed);\n\n    return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\n  }\n\n  _createClass(BlockEmbed, [{\n    key: 'attach',\n    value: function attach() {\n      _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\n      this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\n    }\n  }, {\n    key: 'delta',\n    value: function delta() {\n      return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\n      if (attribute != null) {\n        this.attributes.attribute(attribute, value);\n      }\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      this.format(name, value);\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (typeof value === 'string' && value.endsWith('\\n')) {\n        var block = _parchment2.default.create(Block.blotName);\n        this.parent.insertBefore(block, index === 0 ? this : this.next);\n        block.insertAt(0, value.slice(0, -1));\n      } else {\n        _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n    }\n  }]);\n\n  return BlockEmbed;\n}(_parchment2.default.Embed);\n\nBlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\n\nvar Block = function (_Parchment$Block) {\n  _inherits(Block, _Parchment$Block);\n\n  function Block(domNode) {\n    _classCallCheck(this, Block);\n\n    var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\n\n    _this2.cache = {};\n    return _this2;\n  }\n\n  _createClass(Block, [{\n    key: 'delta',\n    value: function delta() {\n      if (this.cache.delta == null) {\n        this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\n          if (leaf.length() === 0) {\n            return delta;\n          } else {\n            return delta.insert(leaf.value(), bubbleFormats(leaf));\n          }\n        }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\n      }\n      return this.cache.delta;\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\n      this.cache = {};\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length <= 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n        if (index + length === this.length()) {\n          this.format(name, value);\n        }\n      } else {\n        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\n      if (value.length === 0) return;\n      var lines = value.split('\\n');\n      var text = lines.shift();\n      if (text.length > 0) {\n        if (index < this.length() - 1 || this.children.tail == null) {\n          _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\n        } else {\n          this.children.tail.insertAt(this.children.tail.length(), text);\n        }\n        this.cache = {};\n      }\n      var block = this;\n      lines.reduce(function (index, line) {\n        block = block.split(index, true);\n        block.insertAt(0, line);\n        return line.length;\n      }, index + text.length);\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      var head = this.children.head;\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\n      if (head instanceof _break2.default) {\n        head.remove();\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      if (this.cache.length == null) {\n        this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\n      }\n      return this.cache.length;\n    }\n  }, {\n    key: 'moveChildren',\n    value: function moveChildren(target, ref) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\n      this.cache = {};\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\n      this.cache = {};\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\n    }\n  }, {\n    key: 'removeChild',\n    value: function removeChild(child) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\n      this.cache = {};\n    }\n  }, {\n    key: 'split',\n    value: function split(index) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n        var clone = this.clone();\n        if (index === 0) {\n          this.parent.insertBefore(clone, this);\n          return this;\n        } else {\n          this.parent.insertBefore(clone, this.next);\n          return clone;\n        }\n      } else {\n        var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\n        this.cache = {};\n        return next;\n      }\n    }\n  }]);\n\n  return Block;\n}(_parchment2.default.Block);\n\nBlock.blotName = 'block';\nBlock.tagName = 'P';\nBlock.defaultChild = 'break';\nBlock.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\n\nfunction bubbleFormats(blot) {\n  var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (blot == null) return formats;\n  if (typeof blot.formats === 'function') {\n    formats = (0, _extend2.default)(formats, blot.formats());\n  }\n  if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\n    return formats;\n  }\n  return bubbleFormats(blot.parent, formats);\n}\n\nexports.bubbleFormats = bubbleFormats;\nexports.BlockEmbed = BlockEmbed;\nexports.default = Block;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.overload = exports.expandConfig = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(50);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _editor = __webpack_require__(14);\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _selection = __webpack_require__(15);\n\nvar _selection2 = _interopRequireDefault(_selection);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill');\n\nvar Quill = function () {\n  _createClass(Quill, null, [{\n    key: 'debug',\n    value: function debug(limit) {\n      if (limit === true) {\n        limit = 'log';\n      }\n      _logger2.default.level(limit);\n    }\n  }, {\n    key: 'find',\n    value: function find(node) {\n      return node.__quill || _parchment2.default.find(node);\n    }\n  }, {\n    key: 'import',\n    value: function _import(name) {\n      if (this.imports[name] == null) {\n        debug.error('Cannot import ' + name + '. Are you sure it was registered?');\n      }\n      return this.imports[name];\n    }\n  }, {\n    key: 'register',\n    value: function register(path, target) {\n      var _this = this;\n\n      var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (typeof path !== 'string') {\n        var name = path.attrName || path.blotName;\n        if (typeof name === 'string') {\n          // register(Blot | Attributor, overwrite)\n          this.register('formats/' + name, path, target);\n        } else {\n          Object.keys(path).forEach(function (key) {\n            _this.register(key, path[key], target);\n          });\n        }\n      } else {\n        if (this.imports[path] != null && !overwrite) {\n          debug.warn('Overwriting ' + path + ' with', target);\n        }\n        this.imports[path] = target;\n        if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\n          _parchment2.default.register(target);\n        } else if (path.startsWith('modules') && typeof target.register === 'function') {\n          target.register();\n        }\n      }\n    }\n  }]);\n\n  function Quill(container) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Quill);\n\n    this.options = expandConfig(container, options);\n    this.container = this.options.container;\n    if (this.container == null) {\n      return debug.error('Invalid Quill container', container);\n    }\n    if (this.options.debug) {\n      Quill.debug(this.options.debug);\n    }\n    var html = this.container.innerHTML.trim();\n    this.container.classList.add('ql-container');\n    this.container.innerHTML = '';\n    this.container.__quill = this;\n    this.root = this.addContainer('ql-editor');\n    this.root.classList.add('ql-blank');\n    this.root.setAttribute('data-gramm', false);\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\n    this.emitter = new _emitter4.default();\n    this.scroll = _parchment2.default.create(this.root, {\n      emitter: this.emitter,\n      whitelist: this.options.formats\n    });\n    this.editor = new _editor2.default(this.scroll);\n    this.selection = new _selection2.default(this.scroll, this.emitter);\n    this.theme = new this.options.theme(this, this.options);\n    this.keyboard = this.theme.addModule('keyboard');\n    this.clipboard = this.theme.addModule('clipboard');\n    this.history = this.theme.addModule('history');\n    this.theme.init();\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\n      if (type === _emitter4.default.events.TEXT_CHANGE) {\n        _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\n      var range = _this2.selection.lastRange;\n      var index = range && range.length === 0 ? range.index : undefined;\n      modify.call(_this2, function () {\n        return _this2.editor.update(null, mutations, index);\n      }, source);\n    });\n    var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\n    this.setContents(contents);\n    this.history.clear();\n    if (this.options.placeholder) {\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\n    }\n    if (this.options.readOnly) {\n      this.disable();\n    }\n  }\n\n  _createClass(Quill, [{\n    key: 'addContainer',\n    value: function addContainer(container) {\n      var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (typeof container === 'string') {\n        var className = container;\n        container = document.createElement('div');\n        container.classList.add(className);\n      }\n      this.container.insertBefore(container, refNode);\n      return container;\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this.selection.setRange(null);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length, source) {\n      var _this3 = this;\n\n      var _overload = overload(index, length, source);\n\n      var _overload2 = _slicedToArray(_overload, 4);\n\n      index = _overload2[0];\n      length = _overload2[1];\n      source = _overload2[3];\n\n      return modify.call(this, function () {\n        return _this3.editor.deleteText(index, length);\n      }, source, index, -1 * length);\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      this.enable(false);\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.scroll.enable(enabled);\n      this.container.classList.toggle('ql-disabled', !enabled);\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      var scrollTop = this.scrollingContainer.scrollTop;\n      this.selection.focus();\n      this.scrollingContainer.scrollTop = scrollTop;\n      this.scrollIntoView();\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var _this4 = this;\n\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        var range = _this4.getSelection(true);\n        var change = new _quillDelta2.default();\n        if (range == null) {\n          return change;\n        } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n          change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\n        } else if (range.length === 0) {\n          _this4.selection.format(name, value);\n          return change;\n        } else {\n          change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\n        }\n        _this4.setSelection(range, _emitter4.default.sources.SILENT);\n        return change;\n      }, source);\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length, name, value, source) {\n      var _this5 = this;\n\n      var formats = void 0;\n\n      var _overload3 = overload(index, length, name, value, source);\n\n      var _overload4 = _slicedToArray(_overload3, 4);\n\n      index = _overload4[0];\n      length = _overload4[1];\n      formats = _overload4[2];\n      source = _overload4[3];\n\n      return modify.call(this, function () {\n        return _this5.editor.formatLine(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length, name, value, source) {\n      var _this6 = this;\n\n      var formats = void 0;\n\n      var _overload5 = overload(index, length, name, value, source);\n\n      var _overload6 = _slicedToArray(_overload5, 4);\n\n      index = _overload6[0];\n      length = _overload6[1];\n      formats = _overload6[2];\n      source = _overload6[3];\n\n      return modify.call(this, function () {\n        return _this6.editor.formatText(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var bounds = void 0;\n      if (typeof index === 'number') {\n        bounds = this.selection.getBounds(index, length);\n      } else {\n        bounds = this.selection.getBounds(index.index, index.length);\n      }\n      var containerBounds = this.container.getBoundingClientRect();\n      return {\n        bottom: bounds.bottom - containerBounds.top,\n        height: bounds.height,\n        left: bounds.left - containerBounds.left,\n        right: bounds.right - containerBounds.left,\n        top: bounds.top - containerBounds.top,\n        width: bounds.width\n      };\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload7 = overload(index, length);\n\n      var _overload8 = _slicedToArray(_overload7, 2);\n\n      index = _overload8[0];\n      length = _overload8[1];\n\n      return this.editor.getContents(index, length);\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (typeof index === 'number') {\n        return this.editor.getFormat(index, length);\n      } else {\n        return this.editor.getFormat(index.index, index.length);\n      }\n    }\n  }, {\n    key: 'getIndex',\n    value: function getIndex(blot) {\n      return blot.offset(this.scroll);\n    }\n  }, {\n    key: 'getLength',\n    value: function getLength() {\n      return this.scroll.length();\n    }\n  }, {\n    key: 'getLeaf',\n    value: function getLeaf(index) {\n      return this.scroll.leaf(index);\n    }\n  }, {\n    key: 'getLine',\n    value: function getLine(index) {\n      return this.scroll.line(index);\n    }\n  }, {\n    key: 'getLines',\n    value: function getLines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      if (typeof index !== 'number') {\n        return this.scroll.lines(index.index, index.length);\n      } else {\n        return this.scroll.lines(index, length);\n      }\n    }\n  }, {\n    key: 'getModule',\n    value: function getModule(name) {\n      return this.theme.modules[name];\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (focus) this.focus();\n      this.update(); // Make sure we access getRange with editor in consistent state\n      return this.selection.getRange()[0];\n    }\n  }, {\n    key: 'getText',\n    value: function getText() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload9 = overload(index, length);\n\n      var _overload10 = _slicedToArray(_overload9, 2);\n\n      index = _overload10[0];\n      length = _overload10[1];\n\n      return this.editor.getText(index, length);\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return this.selection.hasFocus();\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      var _this7 = this;\n\n      var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\n\n      return modify.call(this, function () {\n        return _this7.editor.insertEmbed(index, embed, value);\n      }, source, index);\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text, name, value, source) {\n      var _this8 = this;\n\n      var formats = void 0;\n\n      var _overload11 = overload(index, 0, name, value, source);\n\n      var _overload12 = _slicedToArray(_overload11, 4);\n\n      index = _overload12[0];\n      formats = _overload12[2];\n      source = _overload12[3];\n\n      return modify.call(this, function () {\n        return _this8.editor.insertText(index, text, formats);\n      }, source, index, text.length);\n    }\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return !this.container.classList.contains('ql-disabled');\n    }\n  }, {\n    key: 'off',\n    value: function off() {\n      return this.emitter.off.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'on',\n    value: function on() {\n      return this.emitter.on.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'once',\n    value: function once() {\n      return this.emitter.once.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'pasteHTML',\n    value: function pasteHTML(index, html, source) {\n      this.clipboard.dangerouslyPasteHTML(index, html, source);\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length, source) {\n      var _this9 = this;\n\n      var _overload13 = overload(index, length, source);\n\n      var _overload14 = _slicedToArray(_overload13, 4);\n\n      index = _overload14[0];\n      length = _overload14[1];\n      source = _overload14[3];\n\n      return modify.call(this, function () {\n        return _this9.editor.removeFormat(index, length);\n      }, source, index);\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView() {\n      this.selection.scrollIntoView(this.scrollingContainer);\n    }\n  }, {\n    key: 'setContents',\n    value: function setContents(delta) {\n      var _this10 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        var length = _this10.getLength();\n        var deleted = _this10.editor.deleteText(0, length);\n        var applied = _this10.editor.applyDelta(delta);\n        var lastOp = applied.ops[applied.ops.length - 1];\n        if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\n          _this10.editor.deleteText(_this10.getLength() - 1, 1);\n          applied.delete(1);\n        }\n        var ret = deleted.compose(applied);\n        return ret;\n      }, source);\n    }\n  }, {\n    key: 'setSelection',\n    value: function setSelection(index, length, source) {\n      if (index == null) {\n        this.selection.setRange(null, length || Quill.sources.API);\n      } else {\n        var _overload15 = overload(index, length, source);\n\n        var _overload16 = _slicedToArray(_overload15, 4);\n\n        index = _overload16[0];\n        length = _overload16[1];\n        source = _overload16[3];\n\n        this.selection.setRange(new _selection.Range(index, length), source);\n        if (source !== _emitter4.default.sources.SILENT) {\n          this.selection.scrollIntoView(this.scrollingContainer);\n        }\n      }\n    }\n  }, {\n    key: 'setText',\n    value: function setText(text) {\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      var delta = new _quillDelta2.default().insert(text);\n      return this.setContents(delta, source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n      this.selection.update(source);\n      return change;\n    }\n  }, {\n    key: 'updateContents',\n    value: function updateContents(delta) {\n      var _this11 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        return _this11.editor.applyDelta(delta, source);\n      }, source, true);\n    }\n  }]);\n\n  return Quill;\n}();\n\nQuill.DEFAULTS = {\n  bounds: null,\n  formats: null,\n  modules: {},\n  placeholder: '',\n  readOnly: false,\n  scrollingContainer: null,\n  strict: true,\n  theme: 'default'\n};\nQuill.events = _emitter4.default.events;\nQuill.sources = _emitter4.default.sources;\n// eslint-disable-next-line no-undef\nQuill.version =  false ? 'dev' : \"1.3.6\";\n\nQuill.imports = {\n  'delta': _quillDelta2.default,\n  'parchment': _parchment2.default,\n  'core/module': _module2.default,\n  'core/theme': _theme2.default\n};\n\nfunction expandConfig(container, userConfig) {\n  userConfig = (0, _extend2.default)(true, {\n    container: container,\n    modules: {\n      clipboard: true,\n      keyboard: true,\n      history: true\n    }\n  }, userConfig);\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n    userConfig.theme = _theme2.default;\n  } else {\n    userConfig.theme = Quill.import('themes/' + userConfig.theme);\n    if (userConfig.theme == null) {\n      throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\n    }\n  }\n  var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\n  [themeConfig, userConfig].forEach(function (config) {\n    config.modules = config.modules || {};\n    Object.keys(config.modules).forEach(function (module) {\n      if (config.modules[module] === true) {\n        config.modules[module] = {};\n      }\n    });\n  });\n  var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\n  var moduleConfig = moduleNames.reduce(function (config, name) {\n    var moduleClass = Quill.import('modules/' + name);\n    if (moduleClass == null) {\n      debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\n    } else {\n      config[name] = moduleClass.DEFAULTS || {};\n    }\n    return config;\n  }, {});\n  // Special case toolbar shorthand\n  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\n    userConfig.modules.toolbar = {\n      container: userConfig.modules.toolbar\n    };\n  }\n  userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);\n  ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\n    if (typeof userConfig[key] === 'string') {\n      userConfig[key] = document.querySelector(userConfig[key]);\n    }\n  });\n  userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\n    if (userConfig.modules[name]) {\n      config[name] = userConfig.modules[name];\n    }\n    return config;\n  }, {});\n  return userConfig;\n}\n\n// Handle selection preservation and TEXT_CHANGE emission\n// common to modification APIs\nfunction modify(modifier, source, index, shift) {\n  if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\n    return new _quillDelta2.default();\n  }\n  var range = index == null ? null : this.getSelection();\n  var oldDelta = this.editor.delta;\n  var change = modifier();\n  if (range != null) {\n    if (index === true) index = range.index;\n    if (shift == null) {\n      range = shiftRange(range, change, source);\n    } else if (shift !== 0) {\n      range = shiftRange(range, index, shift, source);\n    }\n    this.setSelection(range, _emitter4.default.sources.SILENT);\n  }\n  if (change.length() > 0) {\n    var _emitter;\n\n    var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\n    (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n    if (source !== _emitter4.default.sources.SILENT) {\n      var _emitter2;\n\n      (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n    }\n  }\n  return change;\n}\n\nfunction overload(index, length, name, value, source) {\n  var formats = {};\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\n    // Allow for throwaway end (used by insertText/insertEmbed)\n    if (typeof length !== 'number') {\n      source = value, value = name, name = length, length = index.length, index = index.index;\n    } else {\n      length = index.length, index = index.index;\n    }\n  } else if (typeof length !== 'number') {\n    source = value, value = name, name = length, length = 0;\n  }\n  // Handle format being object, two format name/value strings or excluded\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    formats = name;\n    source = value;\n  } else if (typeof name === 'string') {\n    if (value != null) {\n      formats[name] = value;\n    } else {\n      source = name;\n    }\n  }\n  // Handle optional source\n  source = source || _emitter4.default.sources.API;\n  return [index, length, formats, source];\n}\n\nfunction shiftRange(range, index, length, source) {\n  if (range == null) return null;\n  var start = void 0,\n      end = void 0;\n  if (index instanceof _quillDelta2.default) {\n    var _map = [range.index, range.index + range.length].map(function (pos) {\n      return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\n    });\n\n    var _map2 = _slicedToArray(_map, 2);\n\n    start = _map2[0];\n    end = _map2[1];\n  } else {\n    var _map3 = [range.index, range.index + range.length].map(function (pos) {\n      if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\n      if (length >= 0) {\n        return pos + length;\n      } else {\n        return Math.max(index, pos + length);\n      }\n    });\n\n    var _map4 = _slicedToArray(_map3, 2);\n\n    start = _map4[0];\n    end = _map4[1];\n  }\n  return new _selection.Range(start, end - start);\n}\n\nexports.expandConfig = expandConfig;\nexports.overload = overload;\nexports.default = Quill;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Inline = function (_Parchment$Inline) {\n  _inherits(Inline, _Parchment$Inline);\n\n  function Inline() {\n    _classCallCheck(this, Inline);\n\n    return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\n  }\n\n  _createClass(Inline, [{\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\n        var blot = this.isolate(index, length);\n        if (value) {\n          blot.wrap(name, value);\n        }\n      } else {\n        _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\n      if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n        var parent = this.parent.isolate(this.offset(), this.length());\n        this.moveChildren(parent);\n        parent.wrap(this);\n      }\n    }\n  }], [{\n    key: 'compare',\n    value: function compare(self, other) {\n      var selfIndex = Inline.order.indexOf(self);\n      var otherIndex = Inline.order.indexOf(other);\n      if (selfIndex >= 0 || otherIndex >= 0) {\n        return selfIndex - otherIndex;\n      } else if (self === other) {\n        return 0;\n      } else if (self < other) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }\n  }]);\n\n  return Inline;\n}(_parchment2.default.Inline);\n\nInline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\nInline.order = ['cursor', 'inline', // Must be lower\n'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\n];\n\nexports.default = Inline;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TextBlot = function (_Parchment$Text) {\n  _inherits(TextBlot, _Parchment$Text);\n\n  function TextBlot() {\n    _classCallCheck(this, TextBlot);\n\n    return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\n  }\n\n  return TextBlot;\n}(_parchment2.default.Text);\n\nexports.default = TextBlot;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _eventemitter = __webpack_require__(54);\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:events');\n\nvar EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n\nEVENTS.forEach(function (eventName) {\n  document.addEventListener(eventName, function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\n      // TODO use WeakMap\n      if (node.__quill && node.__quill.emitter) {\n        var _node$__quill$emitter;\n\n        (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\n      }\n    });\n  });\n});\n\nvar Emitter = function (_EventEmitter) {\n  _inherits(Emitter, _EventEmitter);\n\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n\n    var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\n\n    _this.listeners = {};\n    _this.on('error', debug.error);\n    return _this;\n  }\n\n  _createClass(Emitter, [{\n    key: 'emit',\n    value: function emit() {\n      debug.log.apply(debug, arguments);\n      _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\n    }\n  }, {\n    key: 'handleDOM',\n    value: function handleDOM(event) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      (this.listeners[event.type] || []).forEach(function (_ref) {\n        var node = _ref.node,\n            handler = _ref.handler;\n\n        if (event.target === node || node.contains(event.target)) {\n          handler.apply(undefined, [event].concat(args));\n        }\n      });\n    }\n  }, {\n    key: 'listenDOM',\n    value: function listenDOM(eventName, node, handler) {\n      if (!this.listeners[eventName]) {\n        this.listeners[eventName] = [];\n      }\n      this.listeners[eventName].push({ node: node, handler: handler });\n    }\n  }]);\n\n  return Emitter;\n}(_eventemitter2.default);\n\nEmitter.events = {\n  EDITOR_CHANGE: 'editor-change',\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n  SCROLL_OPTIMIZE: 'scroll-optimize',\n  SCROLL_UPDATE: 'scroll-update',\n  SELECTION_CHANGE: 'selection-change',\n  TEXT_CHANGE: 'text-change'\n};\nEmitter.sources = {\n  API: 'api',\n  SILENT: 'silent',\n  USER: 'user'\n};\n\nexports.default = Emitter;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Module = function Module(quill) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _classCallCheck(this, Module);\n\n  this.quill = quill;\n  this.options = options;\n};\n\nModule.DEFAULTS = {};\n\nexports.default = Module;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar levels = ['error', 'warn', 'log', 'info'];\nvar level = 'warn';\n\nfunction debug(method) {\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\n    var _console;\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\n  }\n}\n\nfunction namespace(ns) {\n  return levels.reduce(function (logger, method) {\n    logger[method] = debug.bind(console, method, ns);\n    return logger;\n  }, {});\n}\n\ndebug.level = namespace.level = function (newLevel) {\n  level = newLevel;\n};\n\nexports.default = namespace;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pSlice = Array.prototype.slice;\nvar objectKeys = __webpack_require__(52);\nvar isArguments = __webpack_require__(53);\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar Attributor = /** @class */ (function () {\n    function Attributor(attrName, keyName, options) {\n        if (options === void 0) { options = {}; }\n        this.attrName = attrName;\n        this.keyName = keyName;\n        var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\n        if (options.scope != null) {\n            // Ignore type bits, force attribute bit\n            this.scope = (options.scope & Registry.Scope.LEVEL) | attributeBit;\n        }\n        else {\n            this.scope = Registry.Scope.ATTRIBUTE;\n        }\n        if (options.whitelist != null)\n            this.whitelist = options.whitelist;\n    }\n    Attributor.keys = function (node) {\n        return [].map.call(node.attributes, function (item) {\n            return item.name;\n        });\n    };\n    Attributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        node.setAttribute(this.keyName, value);\n        return true;\n    };\n    Attributor.prototype.canAdd = function (node, value) {\n        var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\n        if (match == null)\n            return false;\n        if (this.whitelist == null)\n            return true;\n        if (typeof value === 'string') {\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n        }\n        else {\n            return this.whitelist.indexOf(value) > -1;\n        }\n    };\n    Attributor.prototype.remove = function (node) {\n        node.removeAttribute(this.keyName);\n    };\n    Attributor.prototype.value = function (node) {\n        var value = node.getAttribute(this.keyName);\n        if (this.canAdd(node, value) && value) {\n            return value;\n        }\n        return '';\n    };\n    return Attributor;\n}());\nexports.default = Attributor;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Code = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Code = function (_Inline) {\n  _inherits(Code, _Inline);\n\n  function Code() {\n    _classCallCheck(this, Code);\n\n    return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\n  }\n\n  return Code;\n}(_inline2.default);\n\nCode.blotName = 'code';\nCode.tagName = 'CODE';\n\nvar CodeBlock = function (_Block) {\n  _inherits(CodeBlock, _Block);\n\n  function CodeBlock() {\n    _classCallCheck(this, CodeBlock);\n\n    return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(CodeBlock, [{\n    key: 'delta',\n    value: function delta() {\n      var _this3 = this;\n\n      var text = this.domNode.textContent;\n      if (text.endsWith('\\n')) {\n        // Should always be true\n        text = text.slice(0, -1);\n      }\n      return text.split('\\n').reduce(function (delta, frag) {\n        return delta.insert(frag).insert('\\n', _this3.formats());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (name === this.statics.blotName && value) return;\n\n      var _descendant = this.descendant(_text2.default, this.length() - 1),\n          _descendant2 = _slicedToArray(_descendant, 1),\n          text = _descendant2[0];\n\n      if (text != null) {\n        text.deleteAt(text.length() - 1, 1);\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length === 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\n        return;\n      }\n      var nextNewline = this.newlineIndex(index);\n      if (nextNewline < 0 || nextNewline >= index + length) return;\n      var prevNewline = this.newlineIndex(index, true) + 1;\n      var isolateLength = nextNewline - prevNewline + 1;\n      var blot = this.isolate(prevNewline, isolateLength);\n      var next = blot.next;\n      blot.format(name, value);\n      if (next instanceof CodeBlock) {\n        next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\n      }\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return;\n\n      var _descendant3 = this.descendant(_text2.default, index),\n          _descendant4 = _slicedToArray(_descendant3, 2),\n          text = _descendant4[0],\n          offset = _descendant4[1];\n\n      text.insertAt(offset, value);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      var length = this.domNode.textContent.length;\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        return length + 1;\n      }\n      return length;\n    }\n  }, {\n    key: 'newlineIndex',\n    value: function newlineIndex(searchIndex) {\n      var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!reverse) {\n        var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\n        return offset > -1 ? searchIndex + offset : -1;\n      } else {\n        return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        this.appendChild(_parchment2.default.create('text', '\\n'));\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\n        next.optimize(context);\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\n      [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\n        var blot = _parchment2.default.find(node);\n        if (blot == null) {\n          node.parentNode.removeChild(node);\n        } else if (blot instanceof _parchment2.default.Embed) {\n          blot.remove();\n        } else {\n          blot.unwrap();\n        }\n      });\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\n      domNode.setAttribute('spellcheck', false);\n      return domNode;\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return CodeBlock;\n}(_block2.default);\n\nCodeBlock.blotName = 'code-block';\nCodeBlock.tagName = 'PRE';\nCodeBlock.TAB = '  ';\n\nexports.Code = Code;\nexports.default = CodeBlock;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ASCII = /^[ -~]*$/;\n\nvar Editor = function () {\n  function Editor(scroll) {\n    _classCallCheck(this, Editor);\n\n    this.scroll = scroll;\n    this.delta = this.getDelta();\n  }\n\n  _createClass(Editor, [{\n    key: 'applyDelta',\n    value: function applyDelta(delta) {\n      var _this = this;\n\n      var consumeNextNewline = false;\n      this.scroll.update();\n      var scrollLength = this.scroll.length();\n      this.scroll.batchStart();\n      delta = normalizeDelta(delta);\n      delta.reduce(function (index, op) {\n        var length = op.retain || op.delete || op.insert.length || 1;\n        var attributes = op.attributes || {};\n        if (op.insert != null) {\n          if (typeof op.insert === 'string') {\n            var text = op.insert;\n            if (text.endsWith('\\n') && consumeNextNewline) {\n              consumeNextNewline = false;\n              text = text.slice(0, -1);\n            }\n            if (index >= scrollLength && !text.endsWith('\\n')) {\n              consumeNextNewline = true;\n            }\n            _this.scroll.insertAt(index, text);\n\n            var _scroll$line = _this.scroll.line(index),\n                _scroll$line2 = _slicedToArray(_scroll$line, 2),\n                line = _scroll$line2[0],\n                offset = _scroll$line2[1];\n\n            var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\n            if (line instanceof _block2.default) {\n              var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\n                  _line$descendant2 = _slicedToArray(_line$descendant, 1),\n                  leaf = _line$descendant2[0];\n\n              formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\n            }\n            attributes = _op2.default.attributes.diff(formats, attributes) || {};\n          } else if (_typeof(op.insert) === 'object') {\n            var key = Object.keys(op.insert)[0]; // There should only be one key\n            if (key == null) return index;\n            _this.scroll.insertAt(index, key, op.insert[key]);\n          }\n          scrollLength += length;\n        }\n        Object.keys(attributes).forEach(function (name) {\n          _this.scroll.formatAt(index, length, name, attributes[name]);\n        });\n        return index + length;\n      }, 0);\n      delta.reduce(function (index, op) {\n        if (typeof op.delete === 'number') {\n          _this.scroll.deleteAt(index, op.delete);\n          return index;\n        }\n        return index + (op.retain || op.insert.length || 1);\n      }, 0);\n      this.scroll.batchEnd();\n      return this.update(delta);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length) {\n      this.scroll.deleteAt(index, length);\n      return this.update(new _quillDelta2.default().retain(index).delete(length));\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length) {\n      var _this2 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      this.scroll.update();\n      Object.keys(formats).forEach(function (format) {\n        if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\n        var lines = _this2.scroll.lines(index, Math.max(length, 1));\n        var lengthRemaining = length;\n        lines.forEach(function (line) {\n          var lineLength = line.length();\n          if (!(line instanceof _code2.default)) {\n            line.format(format, formats[format]);\n          } else {\n            var codeIndex = index - line.offset(_this2.scroll);\n            var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\n            line.formatAt(codeIndex, codeLength, format, formats[format]);\n          }\n          lengthRemaining -= lineLength;\n        });\n      });\n      this.scroll.optimize();\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length) {\n      var _this3 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      Object.keys(formats).forEach(function (format) {\n        _this3.scroll.formatAt(index, length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents(index, length) {\n      return this.delta.slice(index, index + length);\n    }\n  }, {\n    key: 'getDelta',\n    value: function getDelta() {\n      return this.scroll.lines().reduce(function (delta, line) {\n        return delta.concat(line.delta());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var lines = [],\n          leaves = [];\n      if (length === 0) {\n        this.scroll.path(index).forEach(function (path) {\n          var _path = _slicedToArray(path, 1),\n              blot = _path[0];\n\n          if (blot instanceof _block2.default) {\n            lines.push(blot);\n          } else if (blot instanceof _parchment2.default.Leaf) {\n            leaves.push(blot);\n          }\n        });\n      } else {\n        lines = this.scroll.lines(index, length);\n        leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\n      }\n      var formatsArr = [lines, leaves].map(function (blots) {\n        if (blots.length === 0) return {};\n        var formats = (0, _block.bubbleFormats)(blots.shift());\n        while (Object.keys(formats).length > 0) {\n          var blot = blots.shift();\n          if (blot == null) return formats;\n          formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\n        }\n        return formats;\n      });\n      return _extend2.default.apply(_extend2.default, formatsArr);\n    }\n  }, {\n    key: 'getText',\n    value: function getText(index, length) {\n      return this.getContents(index, length).filter(function (op) {\n        return typeof op.insert === 'string';\n      }).map(function (op) {\n        return op.insert;\n      }).join('');\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      this.scroll.insertAt(index, embed, value);\n      return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text) {\n      var _this4 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      this.scroll.insertAt(index, text);\n      Object.keys(formats).forEach(function (format) {\n        _this4.scroll.formatAt(index, text.length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'isBlank',\n    value: function isBlank() {\n      if (this.scroll.children.length == 0) return true;\n      if (this.scroll.children.length > 1) return false;\n      var block = this.scroll.children.head;\n      if (block.statics.blotName !== _block2.default.blotName) return false;\n      if (block.children.length > 1) return false;\n      return block.children.head instanceof _break2.default;\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length) {\n      var text = this.getText(index, length);\n\n      var _scroll$line3 = this.scroll.line(index + length),\n          _scroll$line4 = _slicedToArray(_scroll$line3, 2),\n          line = _scroll$line4[0],\n          offset = _scroll$line4[1];\n\n      var suffixLength = 0,\n          suffix = new _quillDelta2.default();\n      if (line != null) {\n        if (!(line instanceof _code2.default)) {\n          suffixLength = line.length() - offset;\n        } else {\n          suffixLength = line.newlineIndex(offset) - offset + 1;\n        }\n        suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\n      }\n      var contents = this.getContents(index, length + suffixLength);\n      var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\n      var delta = new _quillDelta2.default().retain(index).concat(diff);\n      return this.applyDelta(delta);\n    }\n  }, {\n    key: 'update',\n    value: function update(change) {\n      var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n      var oldDelta = this.delta;\n      if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\n        // Optimization for character changes\n        var textBlot = _parchment2.default.find(mutations[0].target);\n        var formats = (0, _block.bubbleFormats)(textBlot);\n        var index = textBlot.offset(this.scroll);\n        var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\n        var oldText = new _quillDelta2.default().insert(oldValue);\n        var newText = new _quillDelta2.default().insert(textBlot.value());\n        var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\n        change = diffDelta.reduce(function (delta, op) {\n          if (op.insert) {\n            return delta.insert(op.insert, formats);\n          } else {\n            return delta.push(op);\n          }\n        }, new _quillDelta2.default());\n        this.delta = oldDelta.compose(change);\n      } else {\n        this.delta = this.getDelta();\n        if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\n          change = oldDelta.diff(this.delta, cursorIndex);\n        }\n      }\n      return change;\n    }\n  }]);\n\n  return Editor;\n}();\n\nfunction combineFormats(formats, combined) {\n  return Object.keys(combined).reduce(function (merged, name) {\n    if (formats[name] == null) return merged;\n    if (combined[name] === formats[name]) {\n      merged[name] = combined[name];\n    } else if (Array.isArray(combined[name])) {\n      if (combined[name].indexOf(formats[name]) < 0) {\n        merged[name] = combined[name].concat([formats[name]]);\n      }\n    } else {\n      merged[name] = [combined[name], formats[name]];\n    }\n    return merged;\n  }, {});\n}\n\nfunction normalizeDelta(delta) {\n  return delta.reduce(function (delta, op) {\n    if (op.insert === 1) {\n      var attributes = (0, _clone2.default)(op.attributes);\n      delete attributes['image'];\n      return delta.insert({ image: op.attributes.image }, attributes);\n    }\n    if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\n      op = (0, _clone2.default)(op);\n      if (op.attributes.list) {\n        op.attributes.list = 'ordered';\n      } else {\n        op.attributes.list = 'bullet';\n        delete op.attributes.bullet;\n      }\n    }\n    if (typeof op.insert === 'string') {\n      var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      return delta.insert(text, op.attributes);\n    }\n    return delta.push(op);\n  }, new _quillDelta2.default());\n}\n\nexports.default = Editor;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Range = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill:selection');\n\nvar Range = function Range(index) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  _classCallCheck(this, Range);\n\n  this.index = index;\n  this.length = length;\n};\n\nvar Selection = function () {\n  function Selection(scroll, emitter) {\n    var _this = this;\n\n    _classCallCheck(this, Selection);\n\n    this.emitter = emitter;\n    this.scroll = scroll;\n    this.composing = false;\n    this.mouseDown = false;\n    this.root = this.scroll.domNode;\n    this.cursor = _parchment2.default.create('cursor', this);\n    // savedRange is last non-null range\n    this.lastRange = this.savedRange = new Range(0, 0);\n    this.handleComposition();\n    this.handleDragging();\n    this.emitter.listenDOM('selectionchange', document, function () {\n      if (!_this.mouseDown) {\n        setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\n      if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\n        _this.update(_emitter4.default.sources.SILENT);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\n      if (!_this.hasFocus()) return;\n      var native = _this.getNativeRange();\n      if (native == null) return;\n      if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\n      // TODO unclear if this has negative side effects\n      _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\n        try {\n          _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\n        } catch (ignored) {}\n      });\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\n      if (context.range) {\n        var _context$range = context.range,\n            startNode = _context$range.startNode,\n            startOffset = _context$range.startOffset,\n            endNode = _context$range.endNode,\n            endOffset = _context$range.endOffset;\n\n        _this.setNativeRange(startNode, startOffset, endNode, endOffset);\n      }\n    });\n    this.update(_emitter4.default.sources.SILENT);\n  }\n\n  _createClass(Selection, [{\n    key: 'handleComposition',\n    value: function handleComposition() {\n      var _this2 = this;\n\n      this.root.addEventListener('compositionstart', function () {\n        _this2.composing = true;\n      });\n      this.root.addEventListener('compositionend', function () {\n        _this2.composing = false;\n        if (_this2.cursor.parent) {\n          var range = _this2.cursor.restore();\n          if (!range) return;\n          setTimeout(function () {\n            _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n          }, 1);\n        }\n      });\n    }\n  }, {\n    key: 'handleDragging',\n    value: function handleDragging() {\n      var _this3 = this;\n\n      this.emitter.listenDOM('mousedown', document.body, function () {\n        _this3.mouseDown = true;\n      });\n      this.emitter.listenDOM('mouseup', document.body, function () {\n        _this3.mouseDown = false;\n        _this3.update(_emitter4.default.sources.USER);\n      });\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      if (this.hasFocus()) return;\n      this.root.focus();\n      this.setRange(this.savedRange);\n    }\n  }, {\n    key: 'format',\n    value: function format(_format, value) {\n      if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\n      this.scroll.update();\n      var nativeRange = this.getNativeRange();\n      if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\n      if (nativeRange.start.node !== this.cursor.textNode) {\n        var blot = _parchment2.default.find(nativeRange.start.node, false);\n        if (blot == null) return;\n        // TODO Give blot ability to not split\n        if (blot instanceof _parchment2.default.Leaf) {\n          var after = blot.split(nativeRange.start.offset);\n          blot.parent.insertBefore(this.cursor, after);\n        } else {\n          blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n        }\n        this.cursor.attach();\n      }\n      this.cursor.format(_format, value);\n      this.scroll.optimize();\n      this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n      this.update();\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var scrollLength = this.scroll.length();\n      index = Math.min(index, scrollLength - 1);\n      length = Math.min(index + length, scrollLength - 1) - index;\n      var node = void 0,\n          _scroll$leaf = this.scroll.leaf(index),\n          _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\n          leaf = _scroll$leaf2[0],\n          offset = _scroll$leaf2[1];\n      if (leaf == null) return null;\n\n      var _leaf$position = leaf.position(offset, true);\n\n      var _leaf$position2 = _slicedToArray(_leaf$position, 2);\n\n      node = _leaf$position2[0];\n      offset = _leaf$position2[1];\n\n      var range = document.createRange();\n      if (length > 0) {\n        range.setStart(node, offset);\n\n        var _scroll$leaf3 = this.scroll.leaf(index + length);\n\n        var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\n\n        leaf = _scroll$leaf4[0];\n        offset = _scroll$leaf4[1];\n\n        if (leaf == null) return null;\n\n        var _leaf$position3 = leaf.position(offset, true);\n\n        var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\n\n        node = _leaf$position4[0];\n        offset = _leaf$position4[1];\n\n        range.setEnd(node, offset);\n        return range.getBoundingClientRect();\n      } else {\n        var side = 'left';\n        var rect = void 0;\n        if (node instanceof Text) {\n          if (offset < node.data.length) {\n            range.setStart(node, offset);\n            range.setEnd(node, offset + 1);\n          } else {\n            range.setStart(node, offset - 1);\n            range.setEnd(node, offset);\n            side = 'right';\n          }\n          rect = range.getBoundingClientRect();\n        } else {\n          rect = leaf.domNode.getBoundingClientRect();\n          if (offset > 0) side = 'right';\n        }\n        return {\n          bottom: rect.top + rect.height,\n          height: rect.height,\n          left: rect[side],\n          right: rect[side],\n          top: rect.top,\n          width: 0\n        };\n      }\n    }\n  }, {\n    key: 'getNativeRange',\n    value: function getNativeRange() {\n      var selection = document.getSelection();\n      if (selection == null || selection.rangeCount <= 0) return null;\n      var nativeRange = selection.getRangeAt(0);\n      if (nativeRange == null) return null;\n      var range = this.normalizeNative(nativeRange);\n      debug.info('getNativeRange', range);\n      return range;\n    }\n  }, {\n    key: 'getRange',\n    value: function getRange() {\n      var normalized = this.getNativeRange();\n      if (normalized == null) return [null, null];\n      var range = this.normalizedToRange(normalized);\n      return [range, normalized];\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return document.activeElement === this.root;\n    }\n  }, {\n    key: 'normalizedToRange',\n    value: function normalizedToRange(range) {\n      var _this4 = this;\n\n      var positions = [[range.start.node, range.start.offset]];\n      if (!range.native.collapsed) {\n        positions.push([range.end.node, range.end.offset]);\n      }\n      var indexes = positions.map(function (position) {\n        var _position = _slicedToArray(position, 2),\n            node = _position[0],\n            offset = _position[1];\n\n        var blot = _parchment2.default.find(node, true);\n        var index = blot.offset(_this4.scroll);\n        if (offset === 0) {\n          return index;\n        } else if (blot instanceof _parchment2.default.Container) {\n          return index + blot.length();\n        } else {\n          return index + blot.index(node, offset);\n        }\n      });\n      var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\n      var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\n      return new Range(start, end - start);\n    }\n  }, {\n    key: 'normalizeNative',\n    value: function normalizeNative(nativeRange) {\n      if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\n        return null;\n      }\n      var range = {\n        start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },\n        end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\n        native: nativeRange\n      };\n      [range.start, range.end].forEach(function (position) {\n        var node = position.node,\n            offset = position.offset;\n        while (!(node instanceof Text) && node.childNodes.length > 0) {\n          if (node.childNodes.length > offset) {\n            node = node.childNodes[offset];\n            offset = 0;\n          } else if (node.childNodes.length === offset) {\n            node = node.lastChild;\n            offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\n          } else {\n            break;\n          }\n        }\n        position.node = node, position.offset = offset;\n      });\n      return range;\n    }\n  }, {\n    key: 'rangeToNative',\n    value: function rangeToNative(range) {\n      var _this5 = this;\n\n      var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n      var args = [];\n      var scrollLength = this.scroll.length();\n      indexes.forEach(function (index, i) {\n        index = Math.min(scrollLength - 1, index);\n        var node = void 0,\n            _scroll$leaf5 = _this5.scroll.leaf(index),\n            _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\n            leaf = _scroll$leaf6[0],\n            offset = _scroll$leaf6[1];\n        var _leaf$position5 = leaf.position(offset, i !== 0);\n\n        var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\n\n        node = _leaf$position6[0];\n        offset = _leaf$position6[1];\n\n        args.push(node, offset);\n      });\n      if (args.length < 2) {\n        args = args.concat(args);\n      }\n      return args;\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView(scrollingContainer) {\n      var range = this.lastRange;\n      if (range == null) return;\n      var bounds = this.getBounds(range.index, range.length);\n      if (bounds == null) return;\n      var limit = this.scroll.length() - 1;\n\n      var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\n          _scroll$line2 = _slicedToArray(_scroll$line, 1),\n          first = _scroll$line2[0];\n\n      var last = first;\n      if (range.length > 0) {\n        var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\n\n        var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\n\n        last = _scroll$line4[0];\n      }\n      if (first == null || last == null) return;\n      var scrollBounds = scrollingContainer.getBoundingClientRect();\n      if (bounds.top < scrollBounds.top) {\n        scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n      } else if (bounds.bottom > scrollBounds.bottom) {\n        scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n      }\n    }\n  }, {\n    key: 'setNativeRange',\n    value: function setNativeRange(startNode, startOffset) {\n      var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\n      var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\n      var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n      debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n      if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\n        return;\n      }\n      var selection = document.getSelection();\n      if (selection == null) return;\n      if (startNode != null) {\n        if (!this.hasFocus()) this.root.focus();\n        var native = (this.getNativeRange() || {}).native;\n        if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\n\n          if (startNode.tagName == \"BR\") {\n            startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\n            startNode = startNode.parentNode;\n          }\n          if (endNode.tagName == \"BR\") {\n            endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\n            endNode = endNode.parentNode;\n          }\n          var range = document.createRange();\n          range.setStart(startNode, startOffset);\n          range.setEnd(endNode, endOffset);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        }\n      } else {\n        selection.removeAllRanges();\n        this.root.blur();\n        document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\n      }\n    }\n  }, {\n    key: 'setRange',\n    value: function setRange(range) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      if (typeof force === 'string') {\n        source = force;\n        force = false;\n      }\n      debug.info('setRange', range);\n      if (range != null) {\n        var args = this.rangeToNative(range);\n        this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\n      } else {\n        this.setNativeRange(null);\n      }\n      this.update(source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var oldRange = this.lastRange;\n\n      var _getRange = this.getRange(),\n          _getRange2 = _slicedToArray(_getRange, 2),\n          lastRange = _getRange2[0],\n          nativeRange = _getRange2[1];\n\n      this.lastRange = lastRange;\n      if (this.lastRange != null) {\n        this.savedRange = this.lastRange;\n      }\n      if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\n        var _emitter;\n\n        if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n          this.cursor.restore();\n        }\n        var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\n        (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n        if (source !== _emitter4.default.sources.SILENT) {\n          var _emitter2;\n\n          (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n        }\n      }\n    }\n  }]);\n\n  return Selection;\n}();\n\nfunction contains(parent, descendant) {\n  try {\n    // Firefox inserts inaccessible nodes around video elements\n    descendant.parentNode;\n  } catch (e) {\n    return false;\n  }\n  // IE11 has bug with Text nodes\n  // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n  if (descendant instanceof Text) {\n    descendant = descendant.parentNode;\n  }\n  return parent.contains(descendant);\n}\n\nexports.Range = Range;\nexports.default = Selection;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Break = function (_Parchment$Embed) {\n  _inherits(Break, _Parchment$Embed);\n\n  function Break() {\n    _classCallCheck(this, Break);\n\n    return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\n  }\n\n  _createClass(Break, [{\n    key: 'insertInto',\n    value: function insertInto(parent, ref) {\n      if (parent.children.length === 0) {\n        _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\n      } else {\n        this.remove();\n      }\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return 0;\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }], [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  return Break;\n}(_parchment2.default.Embed);\n\nBreak.blotName = 'break';\nBreak.tagName = 'BR';\n\nexports.default = Break;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar linked_list_1 = __webpack_require__(44);\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar ContainerBlot = /** @class */ (function (_super) {\n    __extends(ContainerBlot, _super);\n    function ContainerBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.build();\n        return _this;\n    }\n    ContainerBlot.prototype.appendChild = function (other) {\n        this.insertBefore(other);\n    };\n    ContainerBlot.prototype.attach = function () {\n        _super.prototype.attach.call(this);\n        this.children.forEach(function (child) {\n            child.attach();\n        });\n    };\n    ContainerBlot.prototype.build = function () {\n        var _this = this;\n        this.children = new linked_list_1.default();\n        // Need to be reversed for if DOM nodes already in order\n        [].slice\n            .call(this.domNode.childNodes)\n            .reverse()\n            .forEach(function (node) {\n            try {\n                var child = makeBlot(node);\n                _this.insertBefore(child, _this.children.head || undefined);\n            }\n            catch (err) {\n                if (err instanceof Registry.ParchmentError)\n                    return;\n                else\n                    throw err;\n            }\n        });\n    };\n    ContainerBlot.prototype.deleteAt = function (index, length) {\n        if (index === 0 && length === this.length()) {\n            return this.remove();\n        }\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.deleteAt(offset, length);\n        });\n    };\n    ContainerBlot.prototype.descendant = function (criteria, index) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if ((criteria.blotName == null && criteria(child)) ||\n            (criteria.blotName != null && child instanceof criteria)) {\n            return [child, offset];\n        }\n        else if (child instanceof ContainerBlot) {\n            return child.descendant(criteria, offset);\n        }\n        else {\n            return [null, -1];\n        }\n    };\n    ContainerBlot.prototype.descendants = function (criteria, index, length) {\n        if (index === void 0) { index = 0; }\n        if (length === void 0) { length = Number.MAX_VALUE; }\n        var descendants = [];\n        var lengthLeft = length;\n        this.children.forEachAt(index, length, function (child, index, length) {\n            if ((criteria.blotName == null && criteria(child)) ||\n                (criteria.blotName != null && child instanceof criteria)) {\n                descendants.push(child);\n            }\n            if (child instanceof ContainerBlot) {\n                descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\n            }\n            lengthLeft -= length;\n        });\n        return descendants;\n    };\n    ContainerBlot.prototype.detach = function () {\n        this.children.forEach(function (child) {\n            child.detach();\n        });\n        _super.prototype.detach.call(this);\n    };\n    ContainerBlot.prototype.formatAt = function (index, length, name, value) {\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.formatAt(offset, length, name, value);\n        });\n    };\n    ContainerBlot.prototype.insertAt = function (index, value, def) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if (child) {\n            child.insertAt(offset, value, def);\n        }\n        else {\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n            this.appendChild(blot);\n        }\n    };\n    ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\n        if (this.statics.allowedChildren != null &&\n            !this.statics.allowedChildren.some(function (child) {\n                return childBlot instanceof child;\n            })) {\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\n        }\n        childBlot.insertInto(this, refBlot);\n    };\n    ContainerBlot.prototype.length = function () {\n        return this.children.reduce(function (memo, child) {\n            return memo + child.length();\n        }, 0);\n    };\n    ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\n        this.children.forEach(function (child) {\n            targetParent.insertBefore(child, refNode);\n        });\n    };\n    ContainerBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        if (this.children.length === 0) {\n            if (this.statics.defaultChild != null) {\n                var child = Registry.create(this.statics.defaultChild);\n                this.appendChild(child);\n                child.optimize(context);\n            }\n            else {\n                this.remove();\n            }\n        }\n    };\n    ContainerBlot.prototype.path = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var _a = this.children.find(index, inclusive), child = _a[0], offset = _a[1];\n        var position = [[this, index]];\n        if (child instanceof ContainerBlot) {\n            return position.concat(child.path(offset, inclusive));\n        }\n        else if (child != null) {\n            position.push([child, offset]);\n        }\n        return position;\n    };\n    ContainerBlot.prototype.removeChild = function (child) {\n        this.children.remove(child);\n    };\n    ContainerBlot.prototype.replace = function (target) {\n        if (target instanceof ContainerBlot) {\n            target.moveChildren(this);\n        }\n        _super.prototype.replace.call(this, target);\n    };\n    ContainerBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = this.clone();\n        this.parent.insertBefore(after, this.next);\n        this.children.forEachAt(index, this.length(), function (child, offset, length) {\n            child = child.split(offset, force);\n            after.appendChild(child);\n        });\n        return after;\n    };\n    ContainerBlot.prototype.unwrap = function () {\n        this.moveChildren(this.parent, this.next);\n        this.remove();\n    };\n    ContainerBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        var addedNodes = [];\n        var removedNodes = [];\n        mutations.forEach(function (mutation) {\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\n                addedNodes.push.apply(addedNodes, mutation.addedNodes);\n                removedNodes.push.apply(removedNodes, mutation.removedNodes);\n            }\n        });\n        removedNodes.forEach(function (node) {\n            // Check node has actually been removed\n            // One exception is Chrome does not immediately remove IFRAMEs\n            // from DOM but MutationRecord is correct in its reported removal\n            if (node.parentNode != null &&\n                // @ts-ignore\n                node.tagName !== 'IFRAME' &&\n                document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n                return;\n            }\n            var blot = Registry.find(node);\n            if (blot == null)\n                return;\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\n                blot.detach();\n            }\n        });\n        addedNodes\n            .filter(function (node) {\n            return node.parentNode == _this.domNode;\n        })\n            .sort(function (a, b) {\n            if (a === b)\n                return 0;\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n                return 1;\n            }\n            return -1;\n        })\n            .forEach(function (node) {\n            var refBlot = null;\n            if (node.nextSibling != null) {\n                refBlot = Registry.find(node.nextSibling);\n            }\n            var blot = makeBlot(node);\n            if (blot.next != refBlot || blot.next == null) {\n                if (blot.parent != null) {\n                    blot.parent.removeChild(_this);\n                }\n                _this.insertBefore(blot, refBlot || undefined);\n            }\n        });\n    };\n    return ContainerBlot;\n}(shadow_1.default));\nfunction makeBlot(node) {\n    var blot = Registry.find(node);\n    if (blot == null) {\n        try {\n            blot = Registry.create(node);\n        }\n        catch (e) {\n            blot = Registry.create(Registry.Scope.INLINE);\n            [].slice.call(node.childNodes).forEach(function (child) {\n                // @ts-ignore\n                blot.domNode.appendChild(child);\n            });\n            if (node.parentNode) {\n                node.parentNode.replaceChild(blot.domNode, node);\n            }\n            blot.attach();\n        }\n    }\n    return blot;\n}\nexports.default = ContainerBlot;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar store_1 = __webpack_require__(31);\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar FormatBlot = /** @class */ (function (_super) {\n    __extends(FormatBlot, _super);\n    function FormatBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.attributes = new store_1.default(_this.domNode);\n        return _this;\n    }\n    FormatBlot.formats = function (domNode) {\n        if (typeof this.tagName === 'string') {\n            return true;\n        }\n        else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n        }\n        return undefined;\n    };\n    FormatBlot.prototype.format = function (name, value) {\n        var format = Registry.query(name);\n        if (format instanceof attributor_1.default) {\n            this.attributes.attribute(format, value);\n        }\n        else if (value) {\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\n                this.replaceWith(name, value);\n            }\n        }\n    };\n    FormatBlot.prototype.formats = function () {\n        var formats = this.attributes.values();\n        var format = this.statics.formats(this.domNode);\n        if (format != null) {\n            formats[this.statics.blotName] = format;\n        }\n        return formats;\n    };\n    FormatBlot.prototype.replaceWith = function (name, value) {\n        var replacement = _super.prototype.replaceWith.call(this, name, value);\n        this.attributes.copy(replacement);\n        return replacement;\n    };\n    FormatBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        _super.prototype.update.call(this, mutations, context);\n        if (mutations.some(function (mutation) {\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\n        })) {\n            this.attributes.build();\n        }\n    };\n    FormatBlot.prototype.wrap = function (name, value) {\n        var wrapper = _super.prototype.wrap.call(this, name, value);\n        if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\n            this.attributes.move(wrapper);\n        }\n        return wrapper;\n    };\n    return FormatBlot;\n}(container_1.default));\nexports.default = FormatBlot;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar LeafBlot = /** @class */ (function (_super) {\n    __extends(LeafBlot, _super);\n    function LeafBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LeafBlot.value = function (domNode) {\n        return true;\n    };\n    LeafBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node ||\n            this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return Math.min(offset, 1);\n        }\n        return -1;\n    };\n    LeafBlot.prototype.position = function (index, inclusive) {\n        var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\n        if (index > 0)\n            offset += 1;\n        return [this.parent.domNode, offset];\n    };\n    LeafBlot.prototype.value = function () {\n        return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\n        var _a;\n    };\n    LeafBlot.scope = Registry.Scope.INLINE_BLOT;\n    return LeafBlot;\n}(shadow_1.default));\nexports.default = LeafBlot;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\n\n\nvar lib = {\n  attributes: {\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = extend(true, {}, b);\n      if (!keepNull) {\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\n          if (attributes[key] != null) {\n            copy[key] = attributes[key];\n          }\n          return copy;\n        }, {});\n      }\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    diff: function(a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (!equal(a[key], b[key])) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b;  // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\n\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n};\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp)\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (typeof nextOp['delete'] === 'number') {\n      return { 'delete': length };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return { retain: Infinity };\n  }\n};\n\nIterator.prototype.peek = function () {\n  return this.ops[this.index];\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\n\n\nmodule.exports = lib;\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nvar clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction isLine(blot) {\n  return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\n}\n\nvar Scroll = function (_Parchment$Scroll) {\n  _inherits(Scroll, _Parchment$Scroll);\n\n  function Scroll(domNode, config) {\n    _classCallCheck(this, Scroll);\n\n    var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\n\n    _this.emitter = config.emitter;\n    if (Array.isArray(config.whitelist)) {\n      _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\n        whitelist[format] = true;\n        return whitelist;\n      }, {});\n    }\n    // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\n    _this.domNode.addEventListener('DOMNodeInserted', function () {});\n    _this.optimize();\n    _this.enable();\n    return _this;\n  }\n\n  _createClass(Scroll, [{\n    key: 'batchStart',\n    value: function batchStart() {\n      this.batch = true;\n    }\n  }, {\n    key: 'batchEnd',\n    value: function batchEnd() {\n      this.batch = false;\n      this.optimize();\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      var _line = this.line(index),\n          _line2 = _slicedToArray(_line, 2),\n          first = _line2[0],\n          offset = _line2[1];\n\n      var _line3 = this.line(index + length),\n          _line4 = _slicedToArray(_line3, 1),\n          last = _line4[0];\n\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\n      if (last != null && first !== last && offset > 0) {\n        if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\n          this.optimize();\n          return;\n        }\n        if (first instanceof _code2.default) {\n          var newlineIndex = first.newlineIndex(first.length(), true);\n          if (newlineIndex > -1) {\n            first = first.split(newlineIndex + 1);\n            if (first === last) {\n              this.optimize();\n              return;\n            }\n          }\n        } else if (last instanceof _code2.default) {\n          var _newlineIndex = last.newlineIndex(0);\n          if (_newlineIndex > -1) {\n            last.split(_newlineIndex + 1);\n          }\n        }\n        var ref = last.children.head instanceof _break2.default ? null : last.children.head;\n        first.moveChildren(last, ref);\n        first.remove();\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.domNode.setAttribute('contenteditable', enabled);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, format, value) {\n      if (this.whitelist != null && !this.whitelist[format]) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\n      this.optimize();\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null && this.whitelist != null && !this.whitelist[value]) return;\n      if (index >= this.length()) {\n        if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\n          var blot = _parchment2.default.create(this.statics.defaultChild);\n          this.appendChild(blot);\n          if (def == null && value.endsWith('\\n')) {\n            value = value.slice(0, -1);\n          }\n          blot.insertAt(0, value, def);\n        } else {\n          var embed = _parchment2.default.create(value, def);\n          this.appendChild(embed);\n        }\n      } else {\n        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\n        var wrapper = _parchment2.default.create(this.statics.defaultChild);\n        wrapper.appendChild(blot);\n        blot = wrapper;\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\n    }\n  }, {\n    key: 'leaf',\n    value: function leaf(index) {\n      return this.path(index).pop() || [null, -1];\n    }\n  }, {\n    key: 'line',\n    value: function line(index) {\n      if (index === this.length()) {\n        return this.line(index - 1);\n      }\n      return this.descendant(isLine, index);\n    }\n  }, {\n    key: 'lines',\n    value: function lines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      var getLines = function getLines(blot, index, length) {\n        var lines = [],\n            lengthLeft = length;\n        blot.children.forEachAt(index, length, function (child, index, length) {\n          if (isLine(child)) {\n            lines.push(child);\n          } else if (child instanceof _parchment2.default.Container) {\n            lines = lines.concat(getLines(child, index, lengthLeft));\n          }\n          lengthLeft -= length;\n        });\n        return lines;\n      };\n      return getLines(this, index, length);\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize() {\n      var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.batch === true) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\n      }\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations) {\n      if (this.batch === true) return;\n      var source = _emitter2.default.sources.USER;\n      if (typeof mutations === 'string') {\n        source = mutations;\n      }\n      if (!Array.isArray(mutations)) {\n        mutations = this.observer.takeRecords();\n      }\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\n      }\n    }\n  }]);\n\n  return Scroll;\n}(_parchment2.default.Scroll);\n\nScroll.blotName = 'scroll';\nScroll.className = 'ql-editor';\nScroll.tagName = 'DIV';\nScroll.defaultChild = 'block';\nScroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\n\nexports.default = Scroll;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SHORTKEY = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:keyboard');\n\nvar SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\nvar Keyboard = function (_Module) {\n  _inherits(Keyboard, _Module);\n\n  _createClass(Keyboard, null, [{\n    key: 'match',\n    value: function match(evt, binding) {\n      binding = normalize(binding);\n      if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\n        return !!binding[key] !== evt[key] && binding[key] !== null;\n      })) {\n        return false;\n      }\n      return binding.key === (evt.which || evt.keyCode);\n    }\n  }]);\n\n  function Keyboard(quill, options) {\n    _classCallCheck(this, Keyboard);\n\n    var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\n\n    _this.bindings = {};\n    Object.keys(_this.options.bindings).forEach(function (name) {\n      if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\n        return;\n      }\n      if (_this.options.bindings[name]) {\n        _this.addBinding(_this.options.bindings[name]);\n      }\n    });\n    _this.addBinding({ key: Keyboard.keys.ENTER, shiftKey: null }, handleEnter);\n    _this.addBinding({ key: Keyboard.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function () {});\n    if (/Firefox/i.test(navigator.userAgent)) {\n      // Need to handle delete and backspace for Firefox in the general case #1171\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true }, handleDelete);\n    } else {\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);\n    }\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);\n    _this.listen();\n    return _this;\n  }\n\n  _createClass(Keyboard, [{\n    key: 'addBinding',\n    value: function addBinding(key) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var binding = normalize(key);\n      if (binding == null || binding.key == null) {\n        return debug.warn('Attempted to add invalid keyboard binding', binding);\n      }\n      if (typeof context === 'function') {\n        context = { handler: context };\n      }\n      if (typeof handler === 'function') {\n        handler = { handler: handler };\n      }\n      binding = (0, _extend2.default)(binding, context, handler);\n      this.bindings[binding.key] = this.bindings[binding.key] || [];\n      this.bindings[binding.key].push(binding);\n    }\n  }, {\n    key: 'listen',\n    value: function listen() {\n      var _this2 = this;\n\n      this.quill.root.addEventListener('keydown', function (evt) {\n        if (evt.defaultPrevented) return;\n        var which = evt.which || evt.keyCode;\n        var bindings = (_this2.bindings[which] || []).filter(function (binding) {\n          return Keyboard.match(evt, binding);\n        });\n        if (bindings.length === 0) return;\n        var range = _this2.quill.getSelection();\n        if (range == null || !_this2.quill.hasFocus()) return;\n\n        var _quill$getLine = _this2.quill.getLine(range.index),\n            _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\n            line = _quill$getLine2[0],\n            offset = _quill$getLine2[1];\n\n        var _quill$getLeaf = _this2.quill.getLeaf(range.index),\n            _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\n            leafStart = _quill$getLeaf2[0],\n            offsetStart = _quill$getLeaf2[1];\n\n        var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\n            _ref2 = _slicedToArray(_ref, 2),\n            leafEnd = _ref2[0],\n            offsetEnd = _ref2[1];\n\n        var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\n        var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\n        var curContext = {\n          collapsed: range.length === 0,\n          empty: range.length === 0 && line.length() <= 1,\n          format: _this2.quill.getFormat(range),\n          offset: offset,\n          prefix: prefixText,\n          suffix: suffixText\n        };\n        var prevented = bindings.some(function (binding) {\n          if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\n          if (binding.empty != null && binding.empty !== curContext.empty) return false;\n          if (binding.offset != null && binding.offset !== curContext.offset) return false;\n          if (Array.isArray(binding.format)) {\n            // any format is present\n            if (binding.format.every(function (name) {\n              return curContext.format[name] == null;\n            })) {\n              return false;\n            }\n          } else if (_typeof(binding.format) === 'object') {\n            // all formats must match\n            if (!Object.keys(binding.format).every(function (name) {\n              if (binding.format[name] === true) return curContext.format[name] != null;\n              if (binding.format[name] === false) return curContext.format[name] == null;\n              return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\n            })) {\n              return false;\n            }\n          }\n          if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\n          if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\n          return binding.handler.call(_this2, range, curContext) !== true;\n        });\n        if (prevented) {\n          evt.preventDefault();\n        }\n      });\n    }\n  }]);\n\n  return Keyboard;\n}(_module2.default);\n\nKeyboard.keys = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  ESCAPE: 27,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46\n};\n\nKeyboard.DEFAULTS = {\n  bindings: {\n    'bold': makeFormatHandler('bold'),\n    'italic': makeFormatHandler('italic'),\n    'underline': makeFormatHandler('underline'),\n    'indent': {\n      // highlight tab or tab at beginning of list, indent or blockquote\n      key: Keyboard.keys.TAB,\n      format: ['blockquote', 'indent', 'list'],\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '+1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      format: ['blockquote', 'indent', 'list'],\n      // highlight tab or tab at beginning of list, indent or blockquote\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '-1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent backspace': {\n      key: Keyboard.keys.BACKSPACE,\n      collapsed: true,\n      shiftKey: null,\n      metaKey: null,\n      ctrlKey: null,\n      altKey: null,\n      format: ['indent', 'list'],\n      offset: 0,\n      handler: function handler(range, context) {\n        if (context.format.indent != null) {\n          this.quill.format('indent', '-1', _quill2.default.sources.USER);\n        } else if (context.format.list != null) {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'indent code-block': makeCodeBlockHandler(true),\n    'outdent code-block': makeCodeBlockHandler(false),\n    'remove tab': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      collapsed: true,\n      prefix: /\\t$/,\n      handler: function handler(range) {\n        this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\n      }\n    },\n    'tab': {\n      key: Keyboard.keys.TAB,\n      handler: function handler(range) {\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n      }\n    },\n    'list empty enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['list'],\n      empty: true,\n      handler: function handler(range, context) {\n        this.quill.format('list', false, _quill2.default.sources.USER);\n        if (context.format.indent) {\n          this.quill.format('indent', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'checklist enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: { list: 'checked' },\n      handler: function handler(range) {\n        var _quill$getLine3 = this.quill.getLine(range.index),\n            _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\n            line = _quill$getLine4[0],\n            offset = _quill$getLine4[1];\n\n        var formats = (0, _extend2.default)({}, line.formats(), { list: 'checked' });\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, { list: 'unchecked' });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'header enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['header'],\n      suffix: /^$/,\n      handler: function handler(range, context) {\n        var _quill$getLine5 = this.quill.getLine(range.index),\n            _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\n            line = _quill$getLine6[0],\n            offset = _quill$getLine6[1];\n\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, { header: null });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'list autofill': {\n      key: ' ',\n      collapsed: true,\n      format: { list: false },\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n      handler: function handler(range, context) {\n        var length = context.prefix.length;\n\n        var _quill$getLine7 = this.quill.getLine(range.index),\n            _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\n            line = _quill$getLine8[0],\n            offset = _quill$getLine8[1];\n\n        if (offset > length) return true;\n        var value = void 0;\n        switch (context.prefix.trim()) {\n          case '[]':case '[ ]':\n            value = 'unchecked';\n            break;\n          case '[x]':\n            value = 'checked';\n            break;\n          case '-':case '*':\n            value = 'bullet';\n            break;\n          default:\n            value = 'ordered';\n        }\n        this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\n      }\n    },\n    'code exit': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['code-block'],\n      prefix: /\\n\\n$/,\n      suffix: /^\\s+$/,\n      handler: function handler(range) {\n        var _quill$getLine9 = this.quill.getLine(range.index),\n            _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\n            line = _quill$getLine10[0],\n            offset = _quill$getLine10[1];\n\n        var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { 'code-block': null }).delete(1);\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n      }\n    },\n    'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\n    'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\n    'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\n    'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\n  }\n};\n\nfunction makeEmbedArrowHandler(key, shiftKey) {\n  var _ref3;\n\n  var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\n  return _ref3 = {\n    key: key,\n    shiftKey: shiftKey,\n    altKey: null\n  }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\n    var index = range.index;\n    if (key === Keyboard.keys.RIGHT) {\n      index += range.length + 1;\n    }\n\n    var _quill$getLeaf3 = this.quill.getLeaf(index),\n        _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\n        leaf = _quill$getLeaf4[0];\n\n    if (!(leaf instanceof _parchment2.default.Embed)) return true;\n    if (key === Keyboard.keys.LEFT) {\n      if (shiftKey) {\n        this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\n      }\n    } else {\n      if (shiftKey) {\n        this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\n      }\n    }\n    return false;\n  }), _ref3;\n}\n\nfunction handleBackspace(range, context) {\n  if (range.index === 0 || this.quill.getLength() <= 1) return;\n\n  var _quill$getLine11 = this.quill.getLine(range.index),\n      _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\n      line = _quill$getLine12[0];\n\n  var formats = {};\n  if (context.offset === 0) {\n    var _quill$getLine13 = this.quill.getLine(range.index - 1),\n        _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\n        prev = _quill$getLine14[0];\n\n    if (prev != null && prev.length() > 1) {\n      var curFormats = line.formats();\n      var prevFormats = this.quill.getFormat(range.index - 1, 1);\n      formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\n    }\n  }\n  // Check for astral symbols\n  var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\n  this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\n  }\n  this.quill.focus();\n}\n\nfunction handleDelete(range, context) {\n  // Check for astral symbols\n  var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\n  if (range.index >= this.quill.getLength() - length) return;\n  var formats = {},\n      nextLength = 0;\n\n  var _quill$getLine15 = this.quill.getLine(range.index),\n      _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\n      line = _quill$getLine16[0];\n\n  if (context.offset >= line.length() - 1) {\n    var _quill$getLine17 = this.quill.getLine(range.index + 1),\n        _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\n        next = _quill$getLine18[0];\n\n    if (next) {\n      var curFormats = line.formats();\n      var nextFormats = this.quill.getFormat(range.index, 1);\n      formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\n      nextLength = next.length();\n    }\n  }\n  this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\n  }\n}\n\nfunction handleDeleteRange(range) {\n  var lines = this.quill.getLines(range);\n  var formats = {};\n  if (lines.length > 1) {\n    var firstFormats = lines[0].formats();\n    var lastFormats = lines[lines.length - 1].formats();\n    formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\n  }\n  this.quill.deleteText(range, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\n  }\n  this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\n  this.quill.focus();\n}\n\nfunction handleEnter(range, context) {\n  var _this3 = this;\n\n  if (range.length > 0) {\n    this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\n  }\n  var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\n    if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\n      lineFormats[format] = context.format[format];\n    }\n    return lineFormats;\n  }, {});\n  this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER);\n  // Earlier scroll.deleteAt might have messed up our selection,\n  // so insertText's built in selection preservation is not reliable\n  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n  this.quill.focus();\n  Object.keys(context.format).forEach(function (name) {\n    if (lineFormats[name] != null) return;\n    if (Array.isArray(context.format[name])) return;\n    if (name === 'link') return;\n    _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\n  });\n}\n\nfunction makeCodeBlockHandler(indent) {\n  return {\n    key: Keyboard.keys.TAB,\n    shiftKey: !indent,\n    format: { 'code-block': true },\n    handler: function handler(range) {\n      var CodeBlock = _parchment2.default.query('code-block');\n      var index = range.index,\n          length = range.length;\n\n      var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\n          _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n          block = _quill$scroll$descend2[0],\n          offset = _quill$scroll$descend2[1];\n\n      if (block == null) return;\n      var scrollIndex = this.quill.getIndex(block);\n      var start = block.newlineIndex(offset, true) + 1;\n      var end = block.newlineIndex(scrollIndex + offset + length);\n      var lines = block.domNode.textContent.slice(start, end).split('\\n');\n      offset = 0;\n      lines.forEach(function (line, i) {\n        if (indent) {\n          block.insertAt(start + offset, CodeBlock.TAB);\n          offset += CodeBlock.TAB.length;\n          if (i === 0) {\n            index += CodeBlock.TAB.length;\n          } else {\n            length += CodeBlock.TAB.length;\n          }\n        } else if (line.startsWith(CodeBlock.TAB)) {\n          block.deleteAt(start + offset, CodeBlock.TAB.length);\n          offset -= CodeBlock.TAB.length;\n          if (i === 0) {\n            index -= CodeBlock.TAB.length;\n          } else {\n            length -= CodeBlock.TAB.length;\n          }\n        }\n        offset += line.length + 1;\n      });\n      this.quill.update(_quill2.default.sources.USER);\n      this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\n    }\n  };\n}\n\nfunction makeFormatHandler(format) {\n  return {\n    key: format[0].toUpperCase(),\n    shortKey: true,\n    handler: function handler(range, context) {\n      this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\n    }\n  };\n}\n\nfunction normalize(binding) {\n  if (typeof binding === 'string' || typeof binding === 'number') {\n    return normalize({ key: binding });\n  }\n  if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\n    binding = (0, _clone2.default)(binding, false);\n  }\n  if (typeof binding.key === 'string') {\n    if (Keyboard.keys[binding.key.toUpperCase()] != null) {\n      binding.key = Keyboard.keys[binding.key.toUpperCase()];\n    } else if (binding.key.length === 1) {\n      binding.key = binding.key.toUpperCase().charCodeAt(0);\n    } else {\n      return null;\n    }\n  }\n  if (binding.shortKey) {\n    binding[SHORTKEY] = binding.shortKey;\n    delete binding.shortKey;\n  }\n  return binding;\n}\n\nexports.default = Keyboard;\nexports.SHORTKEY = SHORTKEY;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cursor = function (_Parchment$Embed) {\n  _inherits(Cursor, _Parchment$Embed);\n\n  _createClass(Cursor, null, [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  function Cursor(domNode, selection) {\n    _classCallCheck(this, Cursor);\n\n    var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\n\n    _this.selection = selection;\n    _this.textNode = document.createTextNode(Cursor.CONTENTS);\n    _this.domNode.appendChild(_this.textNode);\n    _this._length = 0;\n    return _this;\n  }\n\n  _createClass(Cursor, [{\n    key: 'detach',\n    value: function detach() {\n      // super.detach() will also clear domNode.__blot\n      if (this.parent != null) this.parent.removeChild(this);\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (this._length !== 0) {\n        return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\n      }\n      var target = this,\n          index = 0;\n      while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\n        index += target.offset(target.parent);\n        target = target.parent;\n      }\n      if (target != null) {\n        this._length = Cursor.CONTENTS.length;\n        target.optimize();\n        target.formatAt(index, Cursor.CONTENTS.length, name, value);\n        this._length = 0;\n      }\n    }\n  }, {\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.textNode) return 0;\n      return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return this._length;\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      return [this.textNode, this.textNode.data.length];\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\n      this.parent = null;\n    }\n  }, {\n    key: 'restore',\n    value: function restore() {\n      if (this.selection.composing || this.parent == null) return;\n      var textNode = this.textNode;\n      var range = this.selection.getNativeRange();\n      var restoreText = void 0,\n          start = void 0,\n          end = void 0;\n      if (range != null && range.start.node === textNode && range.end.node === textNode) {\n        var _ref = [textNode, range.start.offset, range.end.offset];\n        restoreText = _ref[0];\n        start = _ref[1];\n        end = _ref[2];\n      }\n      // Link format will insert text outside of anchor tag\n      while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\n        this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n      }\n      if (this.textNode.data !== Cursor.CONTENTS) {\n        var text = this.textNode.data.split(Cursor.CONTENTS).join('');\n        if (this.next instanceof _text2.default) {\n          restoreText = this.next.domNode;\n          this.next.insertAt(0, text);\n          this.textNode.data = Cursor.CONTENTS;\n        } else {\n          this.textNode.data = text;\n          this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\n          this.textNode = document.createTextNode(Cursor.CONTENTS);\n          this.domNode.appendChild(this.textNode);\n        }\n      }\n      this.remove();\n      if (start != null) {\n        var _map = [start, end].map(function (offset) {\n          return Math.max(0, Math.min(restoreText.data.length, offset - 1));\n        });\n\n        var _map2 = _slicedToArray(_map, 2);\n\n        start = _map2[0];\n        end = _map2[1];\n\n        return {\n          startNode: restoreText,\n          startOffset: start,\n          endNode: restoreText,\n          endOffset: end\n        };\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      if (mutations.some(function (mutation) {\n        return mutation.type === 'characterData' && mutation.target === _this2.textNode;\n      })) {\n        var range = this.restore();\n        if (range) context.range = range;\n      }\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }]);\n\n  return Cursor;\n}(_parchment2.default.Embed);\n\nCursor.blotName = 'cursor';\nCursor.className = 'ql-cursor';\nCursor.tagName = 'span';\nCursor.CONTENTS = '\\uFEFF'; // Zero width no break space\n\n\nexports.default = Cursor;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = function (_Parchment$Container) {\n  _inherits(Container, _Parchment$Container);\n\n  function Container() {\n    _classCallCheck(this, Container);\n\n    return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\n  }\n\n  return Container;\n}(_parchment2.default.Container);\n\nContainer.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\n\nexports.default = Container;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorAttributor = function (_Parchment$Attributor) {\n  _inherits(ColorAttributor, _Parchment$Attributor);\n\n  function ColorAttributor() {\n    _classCallCheck(this, ColorAttributor);\n\n    return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\n  }\n\n  _createClass(ColorAttributor, [{\n    key: 'value',\n    value: function value(domNode) {\n      var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\n      if (!value.startsWith('rgb(')) return value;\n      value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n      return '#' + value.split(',').map(function (component) {\n        return ('00' + parseInt(component).toString(16)).slice(-2);\n      }).join('');\n    }\n  }]);\n\n  return ColorAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar ColorStyle = new ColorAttributor('color', 'color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.ColorAttributor = ColorAttributor;\nexports.ColorClass = ColorClass;\nexports.ColorStyle = ColorStyle;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitize = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Link = function (_Inline) {\n  _inherits(Link, _Inline);\n\n  function Link() {\n    _classCallCheck(this, Link);\n\n    return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\n  }\n\n  _createClass(Link, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\n      value = this.constructor.sanitize(value);\n      this.domNode.setAttribute('href', value);\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\n      value = this.sanitize(value);\n      node.setAttribute('href', value);\n      node.setAttribute('target', '_blank');\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.getAttribute('href');\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n    }\n  }]);\n\n  return Link;\n}(_inline2.default);\n\nLink.blotName = 'link';\nLink.tagName = 'A';\nLink.SANITIZED_URL = 'about:blank';\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\nfunction _sanitize(url, protocols) {\n  var anchor = document.createElement('a');\n  anchor.href = url;\n  var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\nexports.default = Link;\nexports.sanitize = _sanitize;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _dropdown = __webpack_require__(107);\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar optionsCounter = 0;\n\nfunction toggleAriaAttribute(element, attribute) {\n  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\n}\n\nvar Picker = function () {\n  function Picker(select) {\n    var _this = this;\n\n    _classCallCheck(this, Picker);\n\n    this.select = select;\n    this.container = document.createElement('span');\n    this.buildPicker();\n    this.select.style.display = 'none';\n    this.select.parentNode.insertBefore(this.container, this.select);\n\n    this.label.addEventListener('mousedown', function () {\n      _this.togglePicker();\n    });\n    this.label.addEventListener('keydown', function (event) {\n      switch (event.keyCode) {\n        // Allows the \"Enter\" key to open the picker\n        case _keyboard2.default.keys.ENTER:\n          _this.togglePicker();\n          break;\n\n        // Allows the \"Escape\" key to close the picker\n        case _keyboard2.default.keys.ESCAPE:\n          _this.escape();\n          event.preventDefault();\n          break;\n        default:\n      }\n    });\n    this.select.addEventListener('change', this.update.bind(this));\n  }\n\n  _createClass(Picker, [{\n    key: 'togglePicker',\n    value: function togglePicker() {\n      this.container.classList.toggle('ql-expanded');\n      // Toggle aria-expanded and aria-hidden to make the picker accessible\n      toggleAriaAttribute(this.label, 'aria-expanded');\n      toggleAriaAttribute(this.options, 'aria-hidden');\n    }\n  }, {\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var _this2 = this;\n\n      var item = document.createElement('span');\n      item.tabIndex = '0';\n      item.setAttribute('role', 'button');\n\n      item.classList.add('ql-picker-item');\n      if (option.hasAttribute('value')) {\n        item.setAttribute('data-value', option.getAttribute('value'));\n      }\n      if (option.textContent) {\n        item.setAttribute('data-label', option.textContent);\n      }\n      item.addEventListener('click', function () {\n        _this2.selectItem(item, true);\n      });\n      item.addEventListener('keydown', function (event) {\n        switch (event.keyCode) {\n          // Allows the \"Enter\" key to select an item\n          case _keyboard2.default.keys.ENTER:\n            _this2.selectItem(item, true);\n            event.preventDefault();\n            break;\n\n          // Allows the \"Escape\" key to close the picker\n          case _keyboard2.default.keys.ESCAPE:\n            _this2.escape();\n            event.preventDefault();\n            break;\n          default:\n        }\n      });\n\n      return item;\n    }\n  }, {\n    key: 'buildLabel',\n    value: function buildLabel() {\n      var label = document.createElement('span');\n      label.classList.add('ql-picker-label');\n      label.innerHTML = _dropdown2.default;\n      label.tabIndex = '0';\n      label.setAttribute('role', 'button');\n      label.setAttribute('aria-expanded', 'false');\n      this.container.appendChild(label);\n      return label;\n    }\n  }, {\n    key: 'buildOptions',\n    value: function buildOptions() {\n      var _this3 = this;\n\n      var options = document.createElement('span');\n      options.classList.add('ql-picker-options');\n\n      // Don't want screen readers to read this until options are visible\n      options.setAttribute('aria-hidden', 'true');\n      options.tabIndex = '-1';\n\n      // Need a unique id for aria-controls\n      options.id = 'ql-picker-options-' + optionsCounter;\n      optionsCounter += 1;\n      this.label.setAttribute('aria-controls', options.id);\n\n      this.options = options;\n\n      [].slice.call(this.select.options).forEach(function (option) {\n        var item = _this3.buildItem(option);\n        options.appendChild(item);\n        if (option.selected === true) {\n          _this3.selectItem(item);\n        }\n      });\n      this.container.appendChild(options);\n    }\n  }, {\n    key: 'buildPicker',\n    value: function buildPicker() {\n      var _this4 = this;\n\n      [].slice.call(this.select.attributes).forEach(function (item) {\n        _this4.container.setAttribute(item.name, item.value);\n      });\n      this.container.classList.add('ql-picker');\n      this.label = this.buildLabel();\n      this.buildOptions();\n    }\n  }, {\n    key: 'escape',\n    value: function escape() {\n      var _this5 = this;\n\n      // Close menu and return focus to trigger label\n      this.close();\n      // Need setTimeout for accessibility to ensure that the browser executes\n      // focus on the next process thread and after any DOM content changes\n      setTimeout(function () {\n        return _this5.label.focus();\n      }, 1);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.container.classList.remove('ql-expanded');\n      this.label.setAttribute('aria-expanded', 'false');\n      this.options.setAttribute('aria-hidden', 'true');\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item) {\n      var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var selected = this.container.querySelector('.ql-selected');\n      if (item === selected) return;\n      if (selected != null) {\n        selected.classList.remove('ql-selected');\n      }\n      if (item == null) return;\n      item.classList.add('ql-selected');\n      this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\n      if (item.hasAttribute('data-value')) {\n        this.label.setAttribute('data-value', item.getAttribute('data-value'));\n      } else {\n        this.label.removeAttribute('data-value');\n      }\n      if (item.hasAttribute('data-label')) {\n        this.label.setAttribute('data-label', item.getAttribute('data-label'));\n      } else {\n        this.label.removeAttribute('data-label');\n      }\n      if (trigger) {\n        if (typeof Event === 'function') {\n          this.select.dispatchEvent(new Event('change'));\n        } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\n          // IE11\n          var event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n          this.select.dispatchEvent(event);\n        }\n        this.close();\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var option = void 0;\n      if (this.select.selectedIndex > -1) {\n        var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\n        option = this.select.options[this.select.selectedIndex];\n        this.selectItem(item);\n      } else {\n        this.selectItem(null);\n      }\n      var isActive = option != null && option !== this.select.querySelector('option[selected]');\n      this.label.classList.toggle('ql-active', isActive);\n    }\n  }]);\n\n  return Picker;\n}();\n\nexports.default = Picker;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _scroll = __webpack_require__(22);\n\nvar _scroll2 = _interopRequireDefault(_scroll);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _clipboard = __webpack_require__(55);\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _history = __webpack_require__(42);\n\nvar _history2 = _interopRequireDefault(_history);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_quill2.default.register({\n  'blots/block': _block2.default,\n  'blots/block/embed': _block.BlockEmbed,\n  'blots/break': _break2.default,\n  'blots/container': _container2.default,\n  'blots/cursor': _cursor2.default,\n  'blots/embed': _embed2.default,\n  'blots/inline': _inline2.default,\n  'blots/scroll': _scroll2.default,\n  'blots/text': _text2.default,\n\n  'modules/clipboard': _clipboard2.default,\n  'modules/history': _history2.default,\n  'modules/keyboard': _keyboard2.default\n});\n\n_parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\n\nexports.default = _quill2.default;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar ShadowBlot = /** @class */ (function () {\n    function ShadowBlot(domNode) {\n        this.domNode = domNode;\n        // @ts-ignore\n        this.domNode[Registry.DATA_KEY] = { blot: this };\n    }\n    Object.defineProperty(ShadowBlot.prototype, \"statics\", {\n        // Hack for accessing inherited static methods\n        get: function () {\n            return this.constructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShadowBlot.create = function (value) {\n        if (this.tagName == null) {\n            throw new Registry.ParchmentError('Blot definition missing tagName');\n        }\n        var node;\n        if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string') {\n                value = value.toUpperCase();\n                if (parseInt(value).toString() === value) {\n                    value = parseInt(value);\n                }\n            }\n            if (typeof value === 'number') {\n                node = document.createElement(this.tagName[value - 1]);\n            }\n            else if (this.tagName.indexOf(value) > -1) {\n                node = document.createElement(value);\n            }\n            else {\n                node = document.createElement(this.tagName[0]);\n            }\n        }\n        else {\n            node = document.createElement(this.tagName);\n        }\n        if (this.className) {\n            node.classList.add(this.className);\n        }\n        return node;\n    };\n    ShadowBlot.prototype.attach = function () {\n        if (this.parent != null) {\n            this.scroll = this.parent.scroll;\n        }\n    };\n    ShadowBlot.prototype.clone = function () {\n        var domNode = this.domNode.cloneNode(false);\n        return Registry.create(domNode);\n    };\n    ShadowBlot.prototype.detach = function () {\n        if (this.parent != null)\n            this.parent.removeChild(this);\n        // @ts-ignore\n        delete this.domNode[Registry.DATA_KEY];\n    };\n    ShadowBlot.prototype.deleteAt = function (index, length) {\n        var blot = this.isolate(index, length);\n        blot.remove();\n    };\n    ShadowBlot.prototype.formatAt = function (index, length, name, value) {\n        var blot = this.isolate(index, length);\n        if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\n            blot.wrap(name, value);\n        }\n        else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\n            var parent = Registry.create(this.statics.scope);\n            blot.wrap(parent);\n            parent.format(name, value);\n        }\n    };\n    ShadowBlot.prototype.insertAt = function (index, value, def) {\n        var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n        var ref = this.split(index);\n        this.parent.insertBefore(blot, ref);\n    };\n    ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\n        if (refBlot === void 0) { refBlot = null; }\n        if (this.parent != null) {\n            this.parent.children.remove(this);\n        }\n        var refDomNode = null;\n        parentBlot.children.insertBefore(this, refBlot);\n        if (refBlot != null) {\n            refDomNode = refBlot.domNode;\n        }\n        if (this.domNode.parentNode != parentBlot.domNode ||\n            this.domNode.nextSibling != refDomNode) {\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\n        }\n        this.parent = parentBlot;\n        this.attach();\n    };\n    ShadowBlot.prototype.isolate = function (index, length) {\n        var target = this.split(index);\n        target.split(length);\n        return target;\n    };\n    ShadowBlot.prototype.length = function () {\n        return 1;\n    };\n    ShadowBlot.prototype.offset = function (root) {\n        if (root === void 0) { root = this.parent; }\n        if (this.parent == null || this == root)\n            return 0;\n        return this.parent.children.offset(this) + this.parent.offset(root);\n    };\n    ShadowBlot.prototype.optimize = function (context) {\n        // TODO clean up once we use WeakMap\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY] != null) {\n            // @ts-ignore\n            delete this.domNode[Registry.DATA_KEY].mutations;\n        }\n    };\n    ShadowBlot.prototype.remove = function () {\n        if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        this.detach();\n    };\n    ShadowBlot.prototype.replace = function (target) {\n        if (target.parent == null)\n            return;\n        target.parent.insertBefore(this, target.next);\n        target.remove();\n    };\n    ShadowBlot.prototype.replaceWith = function (name, value) {\n        var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\n        replacement.replace(this);\n        return replacement;\n    };\n    ShadowBlot.prototype.split = function (index, force) {\n        return index === 0 ? this : this.next;\n    };\n    ShadowBlot.prototype.update = function (mutations, context) {\n        // Nothing to do by default\n    };\n    ShadowBlot.prototype.wrap = function (name, value) {\n        var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\n        if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next);\n        }\n        wrapper.appendChild(this);\n        return wrapper;\n    };\n    ShadowBlot.blotName = 'abstract';\n    return ShadowBlot;\n}());\nexports.default = ShadowBlot;\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar Registry = __webpack_require__(1);\nvar AttributorStore = /** @class */ (function () {\n    function AttributorStore(domNode) {\n        this.attributes = {};\n        this.domNode = domNode;\n        this.build();\n    }\n    AttributorStore.prototype.attribute = function (attribute, value) {\n        // verb\n        if (value) {\n            if (attribute.add(this.domNode, value)) {\n                if (attribute.value(this.domNode) != null) {\n                    this.attributes[attribute.attrName] = attribute;\n                }\n                else {\n                    delete this.attributes[attribute.attrName];\n                }\n            }\n        }\n        else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n        }\n    };\n    AttributorStore.prototype.build = function () {\n        var _this = this;\n        this.attributes = {};\n        var attributes = attributor_1.default.keys(this.domNode);\n        var classes = class_1.default.keys(this.domNode);\n        var styles = style_1.default.keys(this.domNode);\n        attributes\n            .concat(classes)\n            .concat(styles)\n            .forEach(function (name) {\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\n            if (attr instanceof attributor_1.default) {\n                _this.attributes[attr.attrName] = attr;\n            }\n        });\n    };\n    AttributorStore.prototype.copy = function (target) {\n        var _this = this;\n        Object.keys(this.attributes).forEach(function (key) {\n            var value = _this.attributes[key].value(_this.domNode);\n            target.format(key, value);\n        });\n    };\n    AttributorStore.prototype.move = function (target) {\n        var _this = this;\n        this.copy(target);\n        Object.keys(this.attributes).forEach(function (key) {\n            _this.attributes[key].remove(_this.domNode);\n        });\n        this.attributes = {};\n    };\n    AttributorStore.prototype.values = function () {\n        var _this = this;\n        return Object.keys(this.attributes).reduce(function (attributes, name) {\n            attributes[name] = _this.attributes[name].value(_this.domNode);\n            return attributes;\n        }, {});\n    };\n    return AttributorStore;\n}());\nexports.default = AttributorStore;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction match(node, prefix) {\n    var className = node.getAttribute('class') || '';\n    return className.split(/\\s+/).filter(function (name) {\n        return name.indexOf(prefix + \"-\") === 0;\n    });\n}\nvar ClassAttributor = /** @class */ (function (_super) {\n    __extends(ClassAttributor, _super);\n    function ClassAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ClassAttributor.keys = function (node) {\n        return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\n            return name\n                .split('-')\n                .slice(0, -1)\n                .join('-');\n        });\n    };\n    ClassAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        this.remove(node);\n        node.classList.add(this.keyName + \"-\" + value);\n        return true;\n    };\n    ClassAttributor.prototype.remove = function (node) {\n        var matches = match(node, this.keyName);\n        matches.forEach(function (name) {\n            node.classList.remove(name);\n        });\n        if (node.classList.length === 0) {\n            node.removeAttribute('class');\n        }\n    };\n    ClassAttributor.prototype.value = function (node) {\n        var result = match(node, this.keyName)[0] || '';\n        var value = result.slice(this.keyName.length + 1); // +1 for hyphen\n        return this.canAdd(node, value) ? value : '';\n    };\n    return ClassAttributor;\n}(attributor_1.default));\nexports.default = ClassAttributor;\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction camelize(name) {\n    var parts = name.split('-');\n    var rest = parts\n        .slice(1)\n        .map(function (part) {\n        return part[0].toUpperCase() + part.slice(1);\n    })\n        .join('');\n    return parts[0] + rest;\n}\nvar StyleAttributor = /** @class */ (function (_super) {\n    __extends(StyleAttributor, _super);\n    function StyleAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StyleAttributor.keys = function (node) {\n        return (node.getAttribute('style') || '').split(';').map(function (value) {\n            var arr = value.split(':');\n            return arr[0].trim();\n        });\n    };\n    StyleAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = value;\n        return true;\n    };\n    StyleAttributor.prototype.remove = function (node) {\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = '';\n        if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n        }\n    };\n    StyleAttributor.prototype.value = function (node) {\n        // @ts-ignore\n        var value = node.style[camelize(this.keyName)];\n        return this.canAdd(node, value) ? value : '';\n    };\n    return StyleAttributor;\n}(attributor_1.default));\nexports.default = StyleAttributor;\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Theme = function () {\n  function Theme(quill, options) {\n    _classCallCheck(this, Theme);\n\n    this.quill = quill;\n    this.options = options;\n    this.modules = {};\n  }\n\n  _createClass(Theme, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      Object.keys(this.options.modules).forEach(function (name) {\n        if (_this.modules[name] == null) {\n          _this.addModule(name);\n        }\n      });\n    }\n  }, {\n    key: 'addModule',\n    value: function addModule(name) {\n      var moduleClass = this.quill.constructor.import('modules/' + name);\n      this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\n      return this.modules[name];\n    }\n  }]);\n\n  return Theme;\n}();\n\nTheme.DEFAULTS = {\n  modules: {}\n};\nTheme.themes = {\n  'default': Theme\n};\n\nexports.default = Theme;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GUARD_TEXT = '\\uFEFF';\n\nvar Embed = function (_Parchment$Embed) {\n  _inherits(Embed, _Parchment$Embed);\n\n  function Embed(node) {\n    _classCallCheck(this, Embed);\n\n    var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\n\n    _this.contentNode = document.createElement('span');\n    _this.contentNode.setAttribute('contenteditable', false);\n    [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\n      _this.contentNode.appendChild(childNode);\n    });\n    _this.leftGuard = document.createTextNode(GUARD_TEXT);\n    _this.rightGuard = document.createTextNode(GUARD_TEXT);\n    _this.domNode.appendChild(_this.leftGuard);\n    _this.domNode.appendChild(_this.contentNode);\n    _this.domNode.appendChild(_this.rightGuard);\n    return _this;\n  }\n\n  _createClass(Embed, [{\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.leftGuard) return 0;\n      if (node === this.rightGuard) return 1;\n      return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'restore',\n    value: function restore(node) {\n      var range = void 0,\n          textNode = void 0;\n      var text = node.data.split(GUARD_TEXT).join('');\n      if (node === this.leftGuard) {\n        if (this.prev instanceof _text2.default) {\n          var prevLength = this.prev.length();\n          this.prev.insertAt(prevLength, text);\n          range = {\n            startNode: this.prev.domNode,\n            startOffset: prevLength + text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      } else if (node === this.rightGuard) {\n        if (this.next instanceof _text2.default) {\n          this.next.insertAt(0, text);\n          range = {\n            startNode: this.next.domNode,\n            startOffset: text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      }\n      node.data = GUARD_TEXT;\n      return range;\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      mutations.forEach(function (mutation) {\n        if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\n          var range = _this2.restore(mutation.target);\n          if (range) context.range = range;\n        }\n      });\n    }\n  }]);\n\n  return Embed;\n}(_parchment2.default.Embed);\n\nexports.default = Embed;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['right', 'center', 'justify']\n};\n\nvar AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\nvar AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\nvar AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\n\nexports.AlignAttribute = AlignAttribute;\nexports.AlignClass = AlignClass;\nexports.AlignStyle = AlignStyle;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BackgroundStyle = exports.BackgroundClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _color = __webpack_require__(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.BackgroundClass = BackgroundClass;\nexports.BackgroundStyle = BackgroundStyle;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['rtl']\n};\n\nvar DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\nvar DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\nvar DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\n\nexports.DirectionAttribute = DirectionAttribute;\nexports.DirectionClass = DirectionClass;\nexports.DirectionStyle = DirectionStyle;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FontClass = exports.FontStyle = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar config = {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['serif', 'monospace']\n};\n\nvar FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\n\nvar FontStyleAttributor = function (_Parchment$Attributor) {\n  _inherits(FontStyleAttributor, _Parchment$Attributor);\n\n  function FontStyleAttributor() {\n    _classCallCheck(this, FontStyleAttributor);\n\n    return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\n  }\n\n  _createClass(FontStyleAttributor, [{\n    key: 'value',\n    value: function value(node) {\n      return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\n    }\n  }]);\n\n  return FontStyleAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar FontStyle = new FontStyleAttributor('font', 'font-family', config);\n\nexports.FontStyle = FontStyle;\nexports.FontClass = FontClass;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SizeStyle = exports.SizeClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['small', 'large', 'huge']\n});\nvar SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['10px', '18px', '32px']\n});\n\nexports.SizeClass = SizeClass;\nexports.SizeStyle = SizeStyle;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  'align': {\n    '': __webpack_require__(76),\n    'center': __webpack_require__(77),\n    'right': __webpack_require__(78),\n    'justify': __webpack_require__(79)\n  },\n  'background': __webpack_require__(80),\n  'blockquote': __webpack_require__(81),\n  'bold': __webpack_require__(82),\n  'clean': __webpack_require__(83),\n  'code': __webpack_require__(58),\n  'code-block': __webpack_require__(58),\n  'color': __webpack_require__(84),\n  'direction': {\n    '': __webpack_require__(85),\n    'rtl': __webpack_require__(86)\n  },\n  'float': {\n    'center': __webpack_require__(87),\n    'full': __webpack_require__(88),\n    'left': __webpack_require__(89),\n    'right': __webpack_require__(90)\n  },\n  'formula': __webpack_require__(91),\n  'header': {\n    '1': __webpack_require__(92),\n    '2': __webpack_require__(93)\n  },\n  'italic': __webpack_require__(94),\n  'image': __webpack_require__(95),\n  'indent': {\n    '+1': __webpack_require__(96),\n    '-1': __webpack_require__(97)\n  },\n  'link': __webpack_require__(98),\n  'list': {\n    'ordered': __webpack_require__(99),\n    'bullet': __webpack_require__(100),\n    'check': __webpack_require__(101)\n  },\n  'script': {\n    'sub': __webpack_require__(102),\n    'super': __webpack_require__(103)\n  },\n  'strike': __webpack_require__(104),\n  'underline': __webpack_require__(105),\n  'video': __webpack_require__(106)\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLastChangeIndex = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar History = function (_Module) {\n  _inherits(History, _Module);\n\n  function History(quill, options) {\n    _classCallCheck(this, History);\n\n    var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\n\n    _this.lastRecorded = 0;\n    _this.ignoreChange = false;\n    _this.clear();\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\n      if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\n      if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\n        _this.record(delta, oldDelta);\n      } else {\n        _this.transform(delta);\n      }\n    });\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true }, _this.undo.bind(_this));\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true, shiftKey: true }, _this.redo.bind(_this));\n    if (/Win/i.test(navigator.platform)) {\n      _this.quill.keyboard.addBinding({ key: 'Y', shortKey: true }, _this.redo.bind(_this));\n    }\n    return _this;\n  }\n\n  _createClass(History, [{\n    key: 'change',\n    value: function change(source, dest) {\n      if (this.stack[source].length === 0) return;\n      var delta = this.stack[source].pop();\n      this.stack[dest].push(delta);\n      this.lastRecorded = 0;\n      this.ignoreChange = true;\n      this.quill.updateContents(delta[source], _quill2.default.sources.USER);\n      this.ignoreChange = false;\n      var index = getLastChangeIndex(delta[source]);\n      this.quill.setSelection(index);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.stack = { undo: [], redo: [] };\n    }\n  }, {\n    key: 'cutoff',\n    value: function cutoff() {\n      this.lastRecorded = 0;\n    }\n  }, {\n    key: 'record',\n    value: function record(changeDelta, oldDelta) {\n      if (changeDelta.ops.length === 0) return;\n      this.stack.redo = [];\n      var undoDelta = this.quill.getContents().diff(oldDelta);\n      var timestamp = Date.now();\n      if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n        var delta = this.stack.undo.pop();\n        undoDelta = undoDelta.compose(delta.undo);\n        changeDelta = delta.redo.compose(changeDelta);\n      } else {\n        this.lastRecorded = timestamp;\n      }\n      this.stack.undo.push({\n        redo: changeDelta,\n        undo: undoDelta\n      });\n      if (this.stack.undo.length > this.options.maxStack) {\n        this.stack.undo.shift();\n      }\n    }\n  }, {\n    key: 'redo',\n    value: function redo() {\n      this.change('redo', 'undo');\n    }\n  }, {\n    key: 'transform',\n    value: function transform(delta) {\n      this.stack.undo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n      this.stack.redo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n    }\n  }, {\n    key: 'undo',\n    value: function undo() {\n      this.change('undo', 'redo');\n    }\n  }]);\n\n  return History;\n}(_module2.default);\n\nHistory.DEFAULTS = {\n  delay: 1000,\n  maxStack: 100,\n  userOnly: false\n};\n\nfunction endsWithNewlineChange(delta) {\n  var lastOp = delta.ops[delta.ops.length - 1];\n  if (lastOp == null) return false;\n  if (lastOp.insert != null) {\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n  }\n  if (lastOp.attributes != null) {\n    return Object.keys(lastOp.attributes).some(function (attr) {\n      return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\n    });\n  }\n  return false;\n}\n\nfunction getLastChangeIndex(delta) {\n  var deleteLength = delta.reduce(function (length, op) {\n    length += op.delete || 0;\n    return length;\n  }, 0);\n  var changeIndex = delta.length() - deleteLength;\n  if (endsWithNewlineChange(delta)) {\n    changeIndex -= 1;\n  }\n  return changeIndex;\n}\n\nexports.default = History;\nexports.getLastChangeIndex = getLastChangeIndex;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BaseTooltip = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ALIGNS = [false, 'center', 'right', 'justify'];\n\nvar COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\n\nvar FONTS = [false, 'serif', 'monospace'];\n\nvar HEADERS = ['1', '2', '3', false];\n\nvar SIZES = ['small', false, 'large', 'huge'];\n\nvar BaseTheme = function (_Theme) {\n  _inherits(BaseTheme, _Theme);\n\n  function BaseTheme(quill, options) {\n    _classCallCheck(this, BaseTheme);\n\n    var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\n\n    var listener = function listener(e) {\n      if (!document.body.contains(quill.root)) {\n        return document.body.removeEventListener('click', listener);\n      }\n      if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\n        _this.tooltip.hide();\n      }\n      if (_this.pickers != null) {\n        _this.pickers.forEach(function (picker) {\n          if (!picker.container.contains(e.target)) {\n            picker.close();\n          }\n        });\n      }\n    };\n    quill.emitter.listenDOM('click', document.body, listener);\n    return _this;\n  }\n\n  _createClass(BaseTheme, [{\n    key: 'addModule',\n    value: function addModule(name) {\n      var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\n      if (name === 'toolbar') {\n        this.extendToolbar(module);\n      }\n      return module;\n    }\n  }, {\n    key: 'buildButtons',\n    value: function buildButtons(buttons, icons) {\n      buttons.forEach(function (button) {\n        var className = button.getAttribute('class') || '';\n        className.split(/\\s+/).forEach(function (name) {\n          if (!name.startsWith('ql-')) return;\n          name = name.slice('ql-'.length);\n          if (icons[name] == null) return;\n          if (name === 'direction') {\n            button.innerHTML = icons[name][''] + icons[name]['rtl'];\n          } else if (typeof icons[name] === 'string') {\n            button.innerHTML = icons[name];\n          } else {\n            var value = button.value || '';\n            if (value != null && icons[name][value]) {\n              button.innerHTML = icons[name][value];\n            }\n          }\n        });\n      });\n    }\n  }, {\n    key: 'buildPickers',\n    value: function buildPickers(selects, icons) {\n      var _this2 = this;\n\n      this.pickers = selects.map(function (select) {\n        if (select.classList.contains('ql-align')) {\n          if (select.querySelector('option') == null) {\n            fillSelect(select, ALIGNS);\n          }\n          return new _iconPicker2.default(select, icons.align);\n        } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n          var format = select.classList.contains('ql-background') ? 'background' : 'color';\n          if (select.querySelector('option') == null) {\n            fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\n          }\n          return new _colorPicker2.default(select, icons[format]);\n        } else {\n          if (select.querySelector('option') == null) {\n            if (select.classList.contains('ql-font')) {\n              fillSelect(select, FONTS);\n            } else if (select.classList.contains('ql-header')) {\n              fillSelect(select, HEADERS);\n            } else if (select.classList.contains('ql-size')) {\n              fillSelect(select, SIZES);\n            }\n          }\n          return new _picker2.default(select);\n        }\n      });\n      var update = function update() {\n        _this2.pickers.forEach(function (picker) {\n          picker.update();\n        });\n      };\n      this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\n    }\n  }]);\n\n  return BaseTheme;\n}(_theme2.default);\n\nBaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        formula: function formula() {\n          this.quill.theme.tooltip.edit('formula');\n        },\n        image: function image() {\n          var _this3 = this;\n\n          var fileInput = this.container.querySelector('input.ql-image[type=file]');\n          if (fileInput == null) {\n            fileInput = document.createElement('input');\n            fileInput.setAttribute('type', 'file');\n            fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\n            fileInput.classList.add('ql-image');\n            fileInput.addEventListener('change', function () {\n              if (fileInput.files != null && fileInput.files[0] != null) {\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                  var range = _this3.quill.getSelection(true);\n                  _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e.target.result }), _emitter2.default.sources.USER);\n                  _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\n                  fileInput.value = \"\";\n                };\n                reader.readAsDataURL(fileInput.files[0]);\n              }\n            });\n            this.container.appendChild(fileInput);\n          }\n          fileInput.click();\n        },\n        video: function video() {\n          this.quill.theme.tooltip.edit('video');\n        }\n      }\n    }\n  }\n});\n\nvar BaseTooltip = function (_Tooltip) {\n  _inherits(BaseTooltip, _Tooltip);\n\n  function BaseTooltip(quill, boundsContainer) {\n    _classCallCheck(this, BaseTooltip);\n\n    var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\n\n    _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\n    _this4.listen();\n    return _this4;\n  }\n\n  _createClass(BaseTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this5 = this;\n\n      this.textbox.addEventListener('keydown', function (event) {\n        if (_keyboard2.default.match(event, 'enter')) {\n          _this5.save();\n          event.preventDefault();\n        } else if (_keyboard2.default.match(event, 'escape')) {\n          _this5.cancel();\n          event.preventDefault();\n        }\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.hide();\n    }\n  }, {\n    key: 'edit',\n    value: function edit() {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\n      var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      this.root.classList.remove('ql-hidden');\n      this.root.classList.add('ql-editing');\n      if (preview != null) {\n        this.textbox.value = preview;\n      } else if (mode !== this.root.getAttribute('data-mode')) {\n        this.textbox.value = '';\n      }\n      this.position(this.quill.getBounds(this.quill.selection.savedRange));\n      this.textbox.select();\n      this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\n      this.root.setAttribute('data-mode', mode);\n    }\n  }, {\n    key: 'restoreFocus',\n    value: function restoreFocus() {\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.quill.focus();\n      this.quill.scrollingContainer.scrollTop = scrollTop;\n    }\n  }, {\n    key: 'save',\n    value: function save() {\n      var value = this.textbox.value;\n      switch (this.root.getAttribute('data-mode')) {\n        case 'link':\n          {\n            var scrollTop = this.quill.root.scrollTop;\n            if (this.linkRange) {\n              this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\n              delete this.linkRange;\n            } else {\n              this.restoreFocus();\n              this.quill.format('link', value, _emitter2.default.sources.USER);\n            }\n            this.quill.root.scrollTop = scrollTop;\n            break;\n          }\n        case 'video':\n          {\n            value = extractVideoUrl(value);\n          } // eslint-disable-next-line no-fallthrough\n        case 'formula':\n          {\n            if (!value) break;\n            var range = this.quill.getSelection(true);\n            if (range != null) {\n              var index = range.index + range.length;\n              this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\n              if (this.root.getAttribute('data-mode') === 'formula') {\n                this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\n              }\n              this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\n            }\n            break;\n          }\n        default:\n      }\n      this.textbox.value = '';\n      this.hide();\n    }\n  }]);\n\n  return BaseTooltip;\n}(_tooltip2.default);\n\nfunction extractVideoUrl(url) {\n  var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n  if (match) {\n    return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\n  }\n  if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\n    // eslint-disable-line no-cond-assign\n    return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\n  }\n  return url;\n}\n\nfunction fillSelect(select, values) {\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value === defaultValue) {\n      option.setAttribute('selected', 'selected');\n    } else {\n      option.setAttribute('value', value);\n    }\n    select.appendChild(option);\n  });\n}\n\nexports.BaseTooltip = BaseTooltip;\nexports.default = BaseTheme;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedList = /** @class */ (function () {\n    function LinkedList() {\n        this.head = this.tail = null;\n        this.length = 0;\n    }\n    LinkedList.prototype.append = function () {\n        var nodes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n        }\n        this.insertBefore(nodes[0], null);\n        if (nodes.length > 1) {\n            this.append.apply(this, nodes.slice(1));\n        }\n    };\n    LinkedList.prototype.contains = function (node) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            if (cur === node)\n                return true;\n        }\n        return false;\n    };\n    LinkedList.prototype.insertBefore = function (node, refNode) {\n        if (!node)\n            return;\n        node.next = refNode;\n        if (refNode != null) {\n            node.prev = refNode.prev;\n            if (refNode.prev != null) {\n                refNode.prev.next = node;\n            }\n            refNode.prev = node;\n            if (refNode === this.head) {\n                this.head = node;\n            }\n        }\n        else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n        }\n        else {\n            node.prev = null;\n            this.head = this.tail = node;\n        }\n        this.length += 1;\n    };\n    LinkedList.prototype.offset = function (target) {\n        var index = 0, cur = this.head;\n        while (cur != null) {\n            if (cur === target)\n                return index;\n            index += cur.length();\n            cur = cur.next;\n        }\n        return -1;\n    };\n    LinkedList.prototype.remove = function (node) {\n        if (!this.contains(node))\n            return;\n        if (node.prev != null)\n            node.prev.next = node.next;\n        if (node.next != null)\n            node.next.prev = node.prev;\n        if (node === this.head)\n            this.head = node.next;\n        if (node === this.tail)\n            this.tail = node.prev;\n        this.length -= 1;\n    };\n    LinkedList.prototype.iterator = function (curNode) {\n        if (curNode === void 0) { curNode = this.head; }\n        // TODO use yield when we can\n        return function () {\n            var ret = curNode;\n            if (curNode != null)\n                curNode = curNode.next;\n            return ret;\n        };\n    };\n    LinkedList.prototype.find = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            var length = cur.length();\n            if (index < length ||\n                (inclusive && index === length && (cur.next == null || cur.next.length() !== 0))) {\n                return [cur, index];\n            }\n            index -= length;\n        }\n        return [null, 0];\n    };\n    LinkedList.prototype.forEach = function (callback) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            callback(cur);\n        }\n    };\n    LinkedList.prototype.forEachAt = function (index, length, callback) {\n        if (length <= 0)\n            return;\n        var _a = this.find(index), startNode = _a[0], offset = _a[1];\n        var cur, curIndex = index - offset, next = this.iterator(startNode);\n        while ((cur = next()) && curIndex < index + length) {\n            var curLength = cur.length();\n            if (index > curIndex) {\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            }\n            else {\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n            curIndex += curLength;\n        }\n    };\n    LinkedList.prototype.map = function (callback) {\n        return this.reduce(function (memo, cur) {\n            memo.push(callback(cur));\n            return memo;\n        }, []);\n    };\n    LinkedList.prototype.reduce = function (callback, memo) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            memo = callback(memo, cur);\n        }\n        return memo;\n    };\n    return LinkedList;\n}());\nexports.default = LinkedList;\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar OBSERVER_CONFIG = {\n    attributes: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true,\n};\nvar MAX_OPTIMIZE_ITERATIONS = 100;\nvar ScrollBlot = /** @class */ (function (_super) {\n    __extends(ScrollBlot, _super);\n    function ScrollBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.scroll = _this;\n        _this.observer = new MutationObserver(function (mutations) {\n            _this.update(mutations);\n        });\n        _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\n        _this.attach();\n        return _this;\n    }\n    ScrollBlot.prototype.detach = function () {\n        _super.prototype.detach.call(this);\n        this.observer.disconnect();\n    };\n    ScrollBlot.prototype.deleteAt = function (index, length) {\n        this.update();\n        if (index === 0 && length === this.length()) {\n            this.children.forEach(function (child) {\n                child.remove();\n            });\n        }\n        else {\n            _super.prototype.deleteAt.call(this, index, length);\n        }\n    };\n    ScrollBlot.prototype.formatAt = function (index, length, name, value) {\n        this.update();\n        _super.prototype.formatAt.call(this, index, length, name, value);\n    };\n    ScrollBlot.prototype.insertAt = function (index, value, def) {\n        this.update();\n        _super.prototype.insertAt.call(this, index, value, def);\n    };\n    ScrollBlot.prototype.optimize = function (mutations, context) {\n        var _this = this;\n        if (mutations === void 0) { mutations = []; }\n        if (context === void 0) { context = {}; }\n        _super.prototype.optimize.call(this, context);\n        // We must modify mutations directly, cannot make copy and then modify\n        var records = [].slice.call(this.observer.takeRecords());\n        // Array.push currently seems to be implemented by a non-tail recursive function\n        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n        while (records.length > 0)\n            mutations.push(records.pop());\n        // TODO use WeakMap\n        var mark = function (blot, markParent) {\n            if (markParent === void 0) { markParent = true; }\n            if (blot == null || blot === _this)\n                return;\n            if (blot.domNode.parentNode == null)\n                return;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [];\n            }\n            if (markParent)\n                mark(blot.parent);\n        };\n        var optimize = function (blot) {\n            // Post-order traversal\n            if (\n            // @ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null ||\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations == null) {\n                return;\n            }\n            if (blot instanceof container_1.default) {\n                blot.children.forEach(optimize);\n            }\n            blot.optimize(context);\n        };\n        var remaining = mutations;\n        for (var i = 0; remaining.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n                throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n            remaining.forEach(function (mutation) {\n                var blot = Registry.find(mutation.target, true);\n                if (blot == null)\n                    return;\n                if (blot.domNode === mutation.target) {\n                    if (mutation.type === 'childList') {\n                        mark(Registry.find(mutation.previousSibling, false));\n                        [].forEach.call(mutation.addedNodes, function (node) {\n                            var child = Registry.find(node, false);\n                            mark(child, false);\n                            if (child instanceof container_1.default) {\n                                child.children.forEach(function (grandChild) {\n                                    mark(grandChild, false);\n                                });\n                            }\n                        });\n                    }\n                    else if (mutation.type === 'attributes') {\n                        mark(blot.prev);\n                    }\n                }\n                mark(blot);\n            });\n            this.children.forEach(optimize);\n            remaining = [].slice.call(this.observer.takeRecords());\n            records = remaining.slice();\n            while (records.length > 0)\n                mutations.push(records.pop());\n        }\n    };\n    ScrollBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (context === void 0) { context = {}; }\n        mutations = mutations || this.observer.takeRecords();\n        // TODO use WeakMap\n        mutations\n            .map(function (mutation) {\n            var blot = Registry.find(mutation.target, true);\n            if (blot == null)\n                return null;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [mutation];\n                return blot;\n            }\n            else {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\n                return null;\n            }\n        })\n            .forEach(function (blot) {\n            if (blot == null ||\n                blot === _this ||\n                //@ts-ignore\n                blot.domNode[Registry.DATA_KEY] == null)\n                return;\n            // @ts-ignore\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\n        });\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY].mutations != null) {\n            // @ts-ignore\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\n        }\n        this.optimize(mutations, context);\n    };\n    ScrollBlot.blotName = 'scroll';\n    ScrollBlot.defaultChild = 'block';\n    ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\n    ScrollBlot.tagName = 'DIV';\n    return ScrollBlot;\n}(container_1.default));\nexports.default = ScrollBlot;\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\n// Shallow object comparison\nfunction isEqual(obj1, obj2) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length)\n        return false;\n    // @ts-ignore\n    for (var prop in obj1) {\n        // @ts-ignore\n        if (obj1[prop] !== obj2[prop])\n            return false;\n    }\n    return true;\n}\nvar InlineBlot = /** @class */ (function (_super) {\n    __extends(InlineBlot, _super);\n    function InlineBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InlineBlot.formats = function (domNode) {\n        if (domNode.tagName === InlineBlot.tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    InlineBlot.prototype.format = function (name, value) {\n        var _this = this;\n        if (name === this.statics.blotName && !value) {\n            this.children.forEach(function (child) {\n                if (!(child instanceof format_1.default)) {\n                    child = child.wrap(InlineBlot.blotName, true);\n                }\n                _this.attributes.copy(child);\n            });\n            this.unwrap();\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    InlineBlot.prototype.formatAt = function (index, length, name, value) {\n        if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\n            var blot = this.isolate(index, length);\n            blot.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    InlineBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        var formats = this.formats();\n        if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n        }\n        var next = this.next;\n        if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n        }\n    };\n    InlineBlot.blotName = 'inline';\n    InlineBlot.scope = Registry.Scope.INLINE_BLOT;\n    InlineBlot.tagName = 'SPAN';\n    return InlineBlot;\n}(format_1.default));\nexports.default = InlineBlot;\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\nvar BlockBlot = /** @class */ (function (_super) {\n    __extends(BlockBlot, _super);\n    function BlockBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BlockBlot.formats = function (domNode) {\n        var tagName = Registry.query(BlockBlot.blotName).tagName;\n        if (domNode.tagName === tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    BlockBlot.prototype.format = function (name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) == null) {\n            return;\n        }\n        else if (name === this.statics.blotName && !value) {\n            this.replaceWith(BlockBlot.blotName);\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    BlockBlot.prototype.formatAt = function (index, length, name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) != null) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    BlockBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\n            // Insert text or inline\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n        else {\n            var after = this.split(index);\n            var blot = Registry.create(value, def);\n            after.parent.insertBefore(blot, after);\n        }\n    };\n    BlockBlot.prototype.update = function (mutations, context) {\n        if (navigator.userAgent.match(/Trident/)) {\n            this.build();\n        }\n        else {\n            _super.prototype.update.call(this, mutations, context);\n        }\n    };\n    BlockBlot.blotName = 'block';\n    BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\n    BlockBlot.tagName = 'P';\n    return BlockBlot;\n}(format_1.default));\nexports.default = BlockBlot;\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar EmbedBlot = /** @class */ (function (_super) {\n    __extends(EmbedBlot, _super);\n    function EmbedBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmbedBlot.formats = function (domNode) {\n        return undefined;\n    };\n    EmbedBlot.prototype.format = function (name, value) {\n        // super.formatAt wraps, which is what we want in general,\n        // but this allows subclasses to overwrite for formats\n        // that just apply to particular embeds\n        _super.prototype.formatAt.call(this, 0, this.length(), name, value);\n    };\n    EmbedBlot.prototype.formatAt = function (index, length, name, value) {\n        if (index === 0 && length === this.length()) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    EmbedBlot.prototype.formats = function () {\n        return this.statics.formats(this.domNode);\n    };\n    return EmbedBlot;\n}(leaf_1.default));\nexports.default = EmbedBlot;\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar Registry = __webpack_require__(1);\nvar TextBlot = /** @class */ (function (_super) {\n    __extends(TextBlot, _super);\n    function TextBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.text = _this.statics.value(_this.domNode);\n        return _this;\n    }\n    TextBlot.create = function (value) {\n        return document.createTextNode(value);\n    };\n    TextBlot.value = function (domNode) {\n        var text = domNode.data;\n        // @ts-ignore\n        if (text['normalize'])\n            text = text['normalize']();\n        return text;\n    };\n    TextBlot.prototype.deleteAt = function (index, length) {\n        this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\n    };\n    TextBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node) {\n            return offset;\n        }\n        return -1;\n    };\n    TextBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n        }\n        else {\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n    };\n    TextBlot.prototype.length = function () {\n        return this.text.length;\n    };\n    TextBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        this.text = this.statics.value(this.domNode);\n        if (this.text.length === 0) {\n            this.remove();\n        }\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n        }\n    };\n    TextBlot.prototype.position = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        return [this.domNode, index];\n    };\n    TextBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = Registry.create(this.domNode.splitText(index));\n        this.parent.insertBefore(after, this.next);\n        this.text = this.statics.value(this.domNode);\n        return after;\n    };\n    TextBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (mutations.some(function (mutation) {\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\n        })) {\n            this.text = this.statics.value(this.domNode);\n        }\n    };\n    TextBlot.prototype.value = function () {\n        return this.text;\n    };\n    TextBlot.blotName = 'text';\n    TextBlot.scope = Registry.Scope.INLINE_BLOT;\n    return TextBlot;\n}(leaf_1.default));\nexports.default = TextBlot;\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar elem = document.createElement('div');\nelem.classList.toggle('test-class', false);\nif (elem.classList.contains('test-class')) {\n  var _toggle = DOMTokenList.prototype.toggle;\n  DOMTokenList.prototype.toggle = function (token, force) {\n    if (arguments.length > 1 && !this.contains(token) === !force) {\n      return force;\n    } else {\n      return _toggle.call(this, token);\n    }\n  };\n}\n\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function (searchString, position) {\n    position = position || 0;\n    return this.substr(position, searchString.length) === searchString;\n  };\n}\n\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, \"find\", {\n    value: function value(predicate) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return value;\n        }\n      }\n      return undefined;\n    }\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Disable resizing in Firefox\n  document.execCommand(\"enableObjectResizing\", false, false);\n  // Disable automatic linkifying in IE11\n  document.execCommand(\"autoUrlDetect\", false, false);\n});\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {Int} cursor_pos Expected edit position in text1 (optional)\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2, cursor_pos) {\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  // Check cursor_pos within bounds\n  if (cursor_pos < 0 || text1.length < cursor_pos) {\n    cursor_pos = null;\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs);\n  if (cursor_pos != null) {\n    diffs = fix_cursor(diffs, cursor_pos);\n  }\n  diffs = fix_emoji(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\n             [DIFF_EQUAL, shorttext],\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\n                                           shorttext.substring(j));\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\n                                           shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n */\nfunction diff_cleanupMerge(diffs) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL,\n                                    text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          if (count_delete === 0) {\n            diffs.splice(pointer - count_insert,\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\n          } else if (count_insert === 0) {\n            diffs.splice(pointer - count_delete,\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\n          } else {\n            diffs.splice(pointer - count_delete - count_insert,\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\n                [DIFF_INSERT, text_insert]);\n          }\n          pointer = pointer - count_delete - count_insert +\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs);\n  }\n};\n\n\nvar diff = diff_main;\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\nmodule.exports = diff;\n\n/*\n * Modify a diff such that the cursor position points to the start of a change:\n * E.g.\n *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\n *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\n *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\n *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} A tuple [cursor location in the modified diff, modified diff]\n */\nfunction cursor_normalize_diff (diffs, cursor_pos) {\n  if (cursor_pos === 0) {\n    return [DIFF_EQUAL, diffs];\n  }\n  for (var current_pos = 0, i = 0; i < diffs.length; i++) {\n    var d = diffs[i];\n    if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\n      var next_pos = current_pos + d[1].length;\n      if (cursor_pos === next_pos) {\n        return [i + 1, diffs];\n      } else if (cursor_pos < next_pos) {\n        // copy to prevent side effects\n        diffs = diffs.slice();\n        // split d into two diff changes\n        var split_pos = cursor_pos - current_pos;\n        var d_left = [d[0], d[1].slice(0, split_pos)];\n        var d_right = [d[0], d[1].slice(split_pos)];\n        diffs.splice(i, 1, d_left, d_right);\n        return [i + 1, diffs];\n      } else {\n        current_pos = next_pos;\n      }\n    }\n  }\n  throw new Error('cursor_pos is out of bounds!')\n}\n\n/*\n * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\n *\n * Case 1)\n *   Check if a naive shift is possible:\n *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\n *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\n * Case 2)\n *   Check if the following shifts are possible:\n *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\n *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\n *         ^            ^\n *         d          d_next\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} Array of diff tuples\n */\nfunction fix_cursor (diffs, cursor_pos) {\n  var norm = cursor_normalize_diff(diffs, cursor_pos);\n  var ndiffs = norm[1];\n  var cursor_pointer = norm[0];\n  var d = ndiffs[cursor_pointer];\n  var d_next = ndiffs[cursor_pointer + 1];\n\n  if (d == null) {\n    // Text was deleted from end of original string,\n    // cursor is now out of bounds in new string\n    return diffs;\n  } else if (d[0] !== DIFF_EQUAL) {\n    // A modification happened at the cursor location.\n    // This is the expected outcome, so we can return the original diff.\n    return diffs;\n  } else {\n    if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\n      // Case 1)\n      // It is possible to perform a naive shift\n      ndiffs.splice(cursor_pointer, 2, d_next, d)\n      return merge_tuples(ndiffs, cursor_pointer, 2)\n    } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\n      // Case 2)\n      // d[1] is a prefix of d_next[1]\n      // We can assume that d_next[0] !== 0, since d[0] === 0\n      // Shift edit locations..\n      ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\n      var suffix = d_next[1].slice(d[1].length);\n      if (suffix.length > 0) {\n        ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\n      }\n      return merge_tuples(ndiffs, cursor_pointer, 3)\n    } else {\n      // Not possible to perform any modification\n      return diffs;\n    }\n  }\n}\n\n/*\n * Check diff did not split surrogate pairs.\n * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\n *     '\\uD83D\\uDC36' === '🐶', '\\uD83D\\uDC2F' === '🐯'\n *\n * @param {Array} diffs Array of diff tuples\n * @return {Array} Array of diff tuples\n */\nfunction fix_emoji (diffs) {\n  var compact = false;\n  var starts_with_pair_end = function(str) {\n    return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\n  }\n  var ends_with_pair_start = function(str) {\n    return str.charCodeAt(str.length-1) >= 0xD800 && str.charCodeAt(str.length-1) <= 0xDBFF;\n  }\n  for (var i = 2; i < diffs.length; i += 1) {\n    if (diffs[i-2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i-2][1]) &&\n        diffs[i-1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i-1][1]) &&\n        diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\n      compact = true;\n\n      diffs[i-1][1] = diffs[i-2][1].slice(-1) + diffs[i-1][1];\n      diffs[i][1] = diffs[i-2][1].slice(-1) + diffs[i][1];\n\n      diffs[i-2][1] = diffs[i-2][1].slice(0, -1);\n    }\n  }\n  if (!compact) {\n    return diffs;\n  }\n  var fixed_diffs = [];\n  for (var i = 0; i < diffs.length; i += 1) {\n    if (diffs[i][1].length > 0) {\n      fixed_diffs.push(diffs[i]);\n    }\n  }\n  return fixed_diffs;\n}\n\n/*\n * Try to merge tuples with their neigbors in a given range.\n * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\n *\n * @param {Array} diffs Array of diff tuples.\n * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\n * @param {Int} length Number of consecutive elements to check.\n * @return {Array} Array of merged diff tuples.\n */\nfunction merge_tuples (diffs, start, length) {\n  // Check from (start-1) to (start+length).\n  for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\n    if (i + 1 < diffs.length) {\n      var left_d = diffs[i];\n      var right_d = diffs[i+1];\n      if (left_d[0] === right_d[1]) {\n        diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\n      }\n    }\n  }\n  return diffs;\n}\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\nexports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nvar supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend2 = __webpack_require__(3);\n\nvar _extend3 = _interopRequireDefault(_extend2);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _align = __webpack_require__(36);\n\nvar _background = __webpack_require__(37);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _color = __webpack_require__(26);\n\nvar _direction = __webpack_require__(38);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:clipboard');\n\nvar DOM_KEY = '__ql-matcher';\n\nvar CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\n\nvar ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar Clipboard = function (_Module) {\n  _inherits(Clipboard, _Module);\n\n  function Clipboard(quill, options) {\n    _classCallCheck(this, Clipboard);\n\n    var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\n\n    _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\n    _this.container = _this.quill.addContainer('ql-clipboard');\n    _this.container.setAttribute('contenteditable', true);\n    _this.container.setAttribute('tabindex', -1);\n    _this.matchers = [];\n    CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          selector = _ref2[0],\n          matcher = _ref2[1];\n\n      if (!options.matchVisual && matcher === matchSpacing) return;\n      _this.addMatcher(selector, matcher);\n    });\n    return _this;\n  }\n\n  _createClass(Clipboard, [{\n    key: 'addMatcher',\n    value: function addMatcher(selector, matcher) {\n      this.matchers.push([selector, matcher]);\n    }\n  }, {\n    key: 'convert',\n    value: function convert(html) {\n      if (typeof html === 'string') {\n        this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\n        return this.convert();\n      }\n      var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\n      if (formats[_code2.default.blotName]) {\n        var text = this.container.innerText;\n        this.container.innerHTML = '';\n        return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\n      }\n\n      var _prepareMatching = this.prepareMatching(),\n          _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\n          elementMatchers = _prepareMatching2[0],\n          textMatchers = _prepareMatching2[1];\n\n      var delta = traverse(this.container, elementMatchers, textMatchers);\n      // Remove trailing newline\n      if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\n        delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\n      }\n      debug.log('convert', this.container.innerHTML, delta);\n      this.container.innerHTML = '';\n      return delta;\n    }\n  }, {\n    key: 'dangerouslyPasteHTML',\n    value: function dangerouslyPasteHTML(index, html) {\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\n\n      if (typeof index === 'string') {\n        this.quill.setContents(this.convert(index), html);\n        this.quill.setSelection(0, _quill2.default.sources.SILENT);\n      } else {\n        var paste = this.convert(html);\n        this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\n        this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\n      }\n    }\n  }, {\n    key: 'onPaste',\n    value: function onPaste(e) {\n      var _this2 = this;\n\n      if (e.defaultPrevented || !this.quill.isEnabled()) return;\n      var range = this.quill.getSelection();\n      var delta = new _quillDelta2.default().retain(range.index);\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.container.focus();\n      this.quill.selection.update(_quill2.default.sources.SILENT);\n      setTimeout(function () {\n        delta = delta.concat(_this2.convert()).delete(range.length);\n        _this2.quill.updateContents(delta, _quill2.default.sources.USER);\n        // range.length contributes to delta.length()\n        _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\n        _this2.quill.scrollingContainer.scrollTop = scrollTop;\n        _this2.quill.focus();\n      }, 1);\n    }\n  }, {\n    key: 'prepareMatching',\n    value: function prepareMatching() {\n      var _this3 = this;\n\n      var elementMatchers = [],\n          textMatchers = [];\n      this.matchers.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            selector = _pair[0],\n            matcher = _pair[1];\n\n        switch (selector) {\n          case Node.TEXT_NODE:\n            textMatchers.push(matcher);\n            break;\n          case Node.ELEMENT_NODE:\n            elementMatchers.push(matcher);\n            break;\n          default:\n            [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\n              // TODO use weakmap\n              node[DOM_KEY] = node[DOM_KEY] || [];\n              node[DOM_KEY].push(matcher);\n            });\n            break;\n        }\n      });\n      return [elementMatchers, textMatchers];\n    }\n  }]);\n\n  return Clipboard;\n}(_module2.default);\n\nClipboard.DEFAULTS = {\n  matchers: [],\n  matchVisual: true\n};\n\nfunction applyFormat(delta, format, value) {\n  if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\n    return Object.keys(format).reduce(function (delta, key) {\n      return applyFormat(delta, key, format[key]);\n    }, delta);\n  } else {\n    return delta.reduce(function (delta, op) {\n      if (op.attributes && op.attributes[format]) {\n        return delta.push(op);\n      } else {\n        return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\n      }\n    }, new _quillDelta2.default());\n  }\n}\n\nfunction computeStyle(node) {\n  if (node.nodeType !== Node.ELEMENT_NODE) return {};\n  var DOM_KEY = '__ql-computed-style';\n  return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\n}\n\nfunction deltaEndsWith(delta, text) {\n  var endText = \"\";\n  for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\n    var op = delta.ops[i];\n    if (typeof op.insert !== 'string') break;\n    endText = op.insert + endText;\n  }\n  return endText.slice(-1 * text.length) === text;\n}\n\nfunction isLine(node) {\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\n  var style = computeStyle(node);\n  return ['block', 'list-item'].indexOf(style.display) > -1;\n}\n\nfunction traverse(node, elementMatchers, textMatchers) {\n  // Post-order\n  if (node.nodeType === node.TEXT_NODE) {\n    return textMatchers.reduce(function (delta, matcher) {\n      return matcher(node, delta);\n    }, new _quillDelta2.default());\n  } else if (node.nodeType === node.ELEMENT_NODE) {\n    return [].reduce.call(node.childNodes || [], function (delta, childNode) {\n      var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\n      if (childNode.nodeType === node.ELEMENT_NODE) {\n        childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n        childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n      }\n      return delta.concat(childrenDelta);\n    }, new _quillDelta2.default());\n  } else {\n    return new _quillDelta2.default();\n  }\n}\n\nfunction matchAlias(format, node, delta) {\n  return applyFormat(delta, format, true);\n}\n\nfunction matchAttributor(node, delta) {\n  var attributes = _parchment2.default.Attributor.Attribute.keys(node);\n  var classes = _parchment2.default.Attributor.Class.keys(node);\n  var styles = _parchment2.default.Attributor.Style.keys(node);\n  var formats = {};\n  attributes.concat(classes).concat(styles).forEach(function (name) {\n    var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\n    if (attr != null) {\n      formats[attr.attrName] = attr.value(node);\n      if (formats[attr.attrName]) return;\n    }\n    attr = ATTRIBUTE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n    attr = STYLE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      attr = STYLE_ATTRIBUTORS[name];\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n  });\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  return delta;\n}\n\nfunction matchBlot(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null) return delta;\n  if (match.prototype instanceof _parchment2.default.Embed) {\n    var embed = {};\n    var value = match.value(node);\n    if (value != null) {\n      embed[match.blotName] = value;\n      delta = new _quillDelta2.default().insert(embed, match.formats(node));\n    }\n  } else if (typeof match.formats === 'function') {\n    delta = applyFormat(delta, match.blotName, match.formats(node));\n  }\n  return delta;\n}\n\nfunction matchBreak(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    delta.insert('\\n');\n  }\n  return delta;\n}\n\nfunction matchIgnore() {\n  return new _quillDelta2.default();\n}\n\nfunction matchIndent(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\n    return delta;\n  }\n  var indent = -1,\n      parent = node.parentNode;\n  while (!parent.classList.contains('ql-clipboard')) {\n    if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\n      indent += 1;\n    }\n    parent = parent.parentNode;\n  }\n  if (indent <= 0) return delta;\n  return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent: indent }));\n}\n\nfunction matchNewline(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchSpacing(node, delta) {\n  if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\n    var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\n    if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchStyles(node, delta) {\n  var formats = {};\n  var style = node.style || {};\n  if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\n    formats.italic = true;\n  }\n  if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\n    formats.bold = true;\n  }\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  if (parseFloat(style.textIndent || 0) > 0) {\n    // Could be 0.5in\n    delta = new _quillDelta2.default().insert('\\t').concat(delta);\n  }\n  return delta;\n}\n\nfunction matchText(node, delta) {\n  var text = node.data;\n  // Word represents empty line with <o:p>&nbsp;</o:p>\n  if (node.parentNode.tagName === 'O:P') {\n    return delta.insert(text.trim());\n  }\n  if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\n    return delta;\n  }\n  if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\n    // eslint-disable-next-line func-style\n    var replacer = function replacer(collapse, match) {\n      match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n      return match.length < 1 && collapse ? ' ' : match;\n    };\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n    }\n    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n    }\n  }\n  return delta.insert(text);\n}\n\nexports.default = Clipboard;\nexports.matchAttributor = matchAttributor;\nexports.matchBlot = matchBlot;\nexports.matchNewline = matchNewline;\nexports.matchSpacing = matchSpacing;\nexports.matchText = matchText;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Bold = function (_Inline) {\n  _inherits(Bold, _Inline);\n\n  function Bold() {\n    _classCallCheck(this, Bold);\n\n    return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\n  }\n\n  _createClass(Bold, [{\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\n      if (this.domNode.tagName !== this.statics.tagName[0]) {\n        this.replaceWith(this.statics.blotName);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create() {\n      return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return Bold;\n}(_inline2.default);\n\nBold.blotName = 'bold';\nBold.tagName = ['STRONG', 'B'];\n\nexports.default = Bold;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addControls = exports.default = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:toolbar');\n\nvar Toolbar = function (_Module) {\n  _inherits(Toolbar, _Module);\n\n  function Toolbar(quill, options) {\n    _classCallCheck(this, Toolbar);\n\n    var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\n\n    if (Array.isArray(_this.options.container)) {\n      var container = document.createElement('div');\n      addControls(container, _this.options.container);\n      quill.container.parentNode.insertBefore(container, quill.container);\n      _this.container = container;\n    } else if (typeof _this.options.container === 'string') {\n      _this.container = document.querySelector(_this.options.container);\n    } else {\n      _this.container = _this.options.container;\n    }\n    if (!(_this.container instanceof HTMLElement)) {\n      var _ret;\n\n      return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\n    }\n    _this.container.classList.add('ql-toolbar');\n    _this.controls = [];\n    _this.handlers = {};\n    Object.keys(_this.options.handlers).forEach(function (format) {\n      _this.addHandler(format, _this.options.handlers[format]);\n    });\n    [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\n      _this.attach(input);\n    });\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\n      if (type === _quill2.default.events.SELECTION_CHANGE) {\n        _this.update(range);\n      }\n    });\n    _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      var _this$quill$selection = _this.quill.selection.getRange(),\n          _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\n          range = _this$quill$selection2[0]; // quill.getSelection triggers update\n\n\n      _this.update(range);\n    });\n    return _this;\n  }\n\n  _createClass(Toolbar, [{\n    key: 'addHandler',\n    value: function addHandler(format, handler) {\n      this.handlers[format] = handler;\n    }\n  }, {\n    key: 'attach',\n    value: function attach(input) {\n      var _this2 = this;\n\n      var format = [].find.call(input.classList, function (className) {\n        return className.indexOf('ql-') === 0;\n      });\n      if (!format) return;\n      format = format.slice('ql-'.length);\n      if (input.tagName === 'BUTTON') {\n        input.setAttribute('type', 'button');\n      }\n      if (this.handlers[format] == null) {\n        if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\n          debug.warn('ignoring attaching to disabled format', format, input);\n          return;\n        }\n        if (_parchment2.default.query(format) == null) {\n          debug.warn('ignoring attaching to nonexistent format', format, input);\n          return;\n        }\n      }\n      var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n      input.addEventListener(eventName, function (e) {\n        var value = void 0;\n        if (input.tagName === 'SELECT') {\n          if (input.selectedIndex < 0) return;\n          var selected = input.options[input.selectedIndex];\n          if (selected.hasAttribute('selected')) {\n            value = false;\n          } else {\n            value = selected.value || false;\n          }\n        } else {\n          if (input.classList.contains('ql-active')) {\n            value = false;\n          } else {\n            value = input.value || !input.hasAttribute('value');\n          }\n          e.preventDefault();\n        }\n        _this2.quill.focus();\n\n        var _quill$selection$getR = _this2.quill.selection.getRange(),\n            _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\n            range = _quill$selection$getR2[0];\n\n        if (_this2.handlers[format] != null) {\n          _this2.handlers[format].call(_this2, value);\n        } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\n          value = prompt('Enter ' + format);\n          if (!value) return;\n          _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\n        } else {\n          _this2.quill.format(format, value, _quill2.default.sources.USER);\n        }\n        _this2.update(range);\n      });\n      // TODO use weakmap\n      this.controls.push([format, input]);\n    }\n  }, {\n    key: 'update',\n    value: function update(range) {\n      var formats = range == null ? {} : this.quill.getFormat(range);\n      this.controls.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            format = _pair[0],\n            input = _pair[1];\n\n        if (input.tagName === 'SELECT') {\n          var option = void 0;\n          if (range == null) {\n            option = null;\n          } else if (formats[format] == null) {\n            option = input.querySelector('option[selected]');\n          } else if (!Array.isArray(formats[format])) {\n            var value = formats[format];\n            if (typeof value === 'string') {\n              value = value.replace(/\\\"/g, '\\\\\"');\n            }\n            option = input.querySelector('option[value=\"' + value + '\"]');\n          }\n          if (option == null) {\n            input.value = ''; // TODO make configurable?\n            input.selectedIndex = -1;\n          } else {\n            option.selected = true;\n          }\n        } else {\n          if (range == null) {\n            input.classList.remove('ql-active');\n          } else if (input.hasAttribute('value')) {\n            // both being null should match (default values)\n            // '1' should match with 1 (headers)\n            var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\n            input.classList.toggle('ql-active', isActive);\n          } else {\n            input.classList.toggle('ql-active', formats[format] != null);\n          }\n        }\n      });\n    }\n  }]);\n\n  return Toolbar;\n}(_module2.default);\n\nToolbar.DEFAULTS = {};\n\nfunction addButton(container, format, value) {\n  var input = document.createElement('button');\n  input.setAttribute('type', 'button');\n  input.classList.add('ql-' + format);\n  if (value != null) {\n    input.value = value;\n  }\n  container.appendChild(input);\n}\n\nfunction addControls(container, groups) {\n  if (!Array.isArray(groups[0])) {\n    groups = [groups];\n  }\n  groups.forEach(function (controls) {\n    var group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach(function (control) {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        var format = Object.keys(control)[0];\n        var value = control[format];\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(container, format, values) {\n  var input = document.createElement('select');\n  input.classList.add('ql-' + format);\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value !== false) {\n      option.setAttribute('value', value);\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\nToolbar.DEFAULTS = {\n  container: null,\n  handlers: {\n    clean: function clean() {\n      var _this3 = this;\n\n      var range = this.quill.getSelection();\n      if (range == null) return;\n      if (range.length == 0) {\n        var formats = this.quill.getFormat();\n        Object.keys(formats).forEach(function (name) {\n          // Clean functionality in existing apps only clean inline formats\n          if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\n            _this3.quill.format(name, false);\n          }\n        });\n      } else {\n        this.quill.removeFormat(range, _quill2.default.sources.USER);\n      }\n    },\n    direction: function direction(value) {\n      var align = this.quill.getFormat()['align'];\n      if (value === 'rtl' && align == null) {\n        this.quill.format('align', 'right', _quill2.default.sources.USER);\n      } else if (!value && align === 'right') {\n        this.quill.format('align', false, _quill2.default.sources.USER);\n      }\n      this.quill.format('direction', value, _quill2.default.sources.USER);\n    },\n    indent: function indent(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      var indent = parseInt(formats.indent || 0);\n      if (value === '+1' || value === '-1') {\n        var modifier = value === '+1' ? 1 : -1;\n        if (formats.direction === 'rtl') modifier *= -1;\n        this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\n      }\n    },\n    link: function link(value) {\n      if (value === true) {\n        value = prompt('Enter link URL:');\n      }\n      this.quill.format('link', value, _quill2.default.sources.USER);\n    },\n    list: function list(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      if (value === 'check') {\n        if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        } else {\n          this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\n        }\n      } else {\n        this.quill.format('list', value, _quill2.default.sources.USER);\n      }\n    }\n  }\n};\n\nexports.default = Toolbar;\nexports.addControls = addControls;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorPicker = function (_Picker) {\n  _inherits(ColorPicker, _Picker);\n\n  function ColorPicker(select, label) {\n    _classCallCheck(this, ColorPicker);\n\n    var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\n\n    _this.label.innerHTML = label;\n    _this.container.classList.add('ql-color-picker');\n    [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\n      item.classList.add('ql-primary');\n    });\n    return _this;\n  }\n\n  _createClass(ColorPicker, [{\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\n      item.style.backgroundColor = option.getAttribute('value') || '';\n      return item;\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      var colorLabel = this.label.querySelector('.ql-color-label');\n      var value = item ? item.getAttribute('data-value') || '' : '';\n      if (colorLabel) {\n        if (colorLabel.tagName === 'line') {\n          colorLabel.style.stroke = value;\n        } else {\n          colorLabel.style.fill = value;\n        }\n      }\n    }\n  }]);\n\n  return ColorPicker;\n}(_picker2.default);\n\nexports.default = ColorPicker;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IconPicker = function (_Picker) {\n  _inherits(IconPicker, _Picker);\n\n  function IconPicker(select, icons) {\n    _classCallCheck(this, IconPicker);\n\n    var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\n\n    _this.container.classList.add('ql-icon-picker');\n    [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\n    });\n    _this.defaultItem = _this.container.querySelector('.ql-selected');\n    _this.selectItem(_this.defaultItem);\n    return _this;\n  }\n\n  _createClass(IconPicker, [{\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      item = item || this.defaultItem;\n      this.label.innerHTML = item.innerHTML;\n    }\n  }]);\n\n  return IconPicker;\n}(_picker2.default);\n\nexports.default = IconPicker;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Tooltip = function () {\n  function Tooltip(quill, boundsContainer) {\n    var _this = this;\n\n    _classCallCheck(this, Tooltip);\n\n    this.quill = quill;\n    this.boundsContainer = boundsContainer || document.body;\n    this.root = quill.addContainer('ql-tooltip');\n    this.root.innerHTML = this.constructor.TEMPLATE;\n    if (this.quill.root === this.quill.scrollingContainer) {\n      this.quill.root.addEventListener('scroll', function () {\n        _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\n      });\n    }\n    this.hide();\n  }\n\n  _createClass(Tooltip, [{\n    key: 'hide',\n    value: function hide() {\n      this.root.classList.add('ql-hidden');\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;\n      // root.scrollTop should be 0 if scrollContainer !== root\n      var top = reference.bottom + this.quill.root.scrollTop;\n      this.root.style.left = left + 'px';\n      this.root.style.top = top + 'px';\n      this.root.classList.remove('ql-flip');\n      var containerBounds = this.boundsContainer.getBoundingClientRect();\n      var rootBounds = this.root.getBoundingClientRect();\n      var shift = 0;\n      if (rootBounds.right > containerBounds.right) {\n        shift = containerBounds.right - rootBounds.right;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.left < containerBounds.left) {\n        shift = containerBounds.left - rootBounds.left;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.bottom > containerBounds.bottom) {\n        var height = rootBounds.bottom - rootBounds.top;\n        var verticalShift = reference.bottom - reference.top + height;\n        this.root.style.top = top - verticalShift + 'px';\n        this.root.classList.add('ql-flip');\n      }\n      return shift;\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this.root.classList.remove('ql-editing');\n      this.root.classList.remove('ql-hidden');\n    }\n  }]);\n\n  return Tooltip;\n}();\n\nexports.default = Tooltip;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [[{ header: ['1', '2', '3', false] }], ['bold', 'italic', 'underline', 'link'], [{ list: 'ordered' }, { list: 'bullet' }], ['clean']];\n\nvar SnowTheme = function (_BaseTheme) {\n  _inherits(SnowTheme, _BaseTheme);\n\n  function SnowTheme(quill, options) {\n    _classCallCheck(this, SnowTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-snow');\n    return _this;\n  }\n\n  _createClass(SnowTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      toolbar.container.classList.add('ql-snow');\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n      this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n      if (toolbar.container.querySelector('.ql-link')) {\n        this.quill.keyboard.addBinding({ key: 'K', shortKey: true }, function (range, context) {\n          toolbar.handlers['link'].call(toolbar, !context.format.link);\n        });\n      }\n    }\n  }]);\n\n  return SnowTheme;\n}(_base2.default);\n\nSnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (value) {\n            var range = this.quill.getSelection();\n            if (range == null || range.length == 0) return;\n            var preview = this.quill.getText(range);\n            if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\n              preview = 'mailto:' + preview;\n            }\n            var tooltip = this.quill.theme.tooltip;\n            tooltip.edit('link', preview);\n          } else {\n            this.quill.format('link', false);\n          }\n        }\n      }\n    }\n  }\n});\n\nvar SnowTooltip = function (_BaseTooltip) {\n  _inherits(SnowTooltip, _BaseTooltip);\n\n  function SnowTooltip(quill, bounds) {\n    _classCallCheck(this, SnowTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\n\n    _this2.preview = _this2.root.querySelector('a.ql-preview');\n    return _this2;\n  }\n\n  _createClass(SnowTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\n        if (_this3.root.classList.contains('ql-editing')) {\n          _this3.save();\n        } else {\n          _this3.edit('link', _this3.preview.textContent);\n        }\n        event.preventDefault();\n      });\n      this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\n        if (_this3.linkRange != null) {\n          var range = _this3.linkRange;\n          _this3.restoreFocus();\n          _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\n          delete _this3.linkRange;\n        }\n        event.preventDefault();\n        _this3.hide();\n      });\n      this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\n        if (range == null) return;\n        if (range.length === 0 && source === _emitter2.default.sources.USER) {\n          var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\n              _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n              link = _quill$scroll$descend2[0],\n              offset = _quill$scroll$descend2[1];\n\n          if (link != null) {\n            _this3.linkRange = new _selection.Range(range.index - offset, link.length());\n            var preview = _link2.default.formats(link.domNode);\n            _this3.preview.textContent = preview;\n            _this3.preview.setAttribute('href', preview);\n            _this3.show();\n            _this3.position(_this3.quill.getBounds(_this3.linkRange));\n            return;\n          }\n        } else {\n          delete _this3.linkRange;\n        }\n        _this3.hide();\n      });\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\n      this.root.removeAttribute('data-mode');\n    }\n  }]);\n\n  return SnowTooltip;\n}(_base.BaseTooltip);\n\nSnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\n\nexports.default = SnowTheme;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _core = __webpack_require__(29);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _align = __webpack_require__(36);\n\nvar _direction = __webpack_require__(38);\n\nvar _indent = __webpack_require__(64);\n\nvar _blockquote = __webpack_require__(65);\n\nvar _blockquote2 = _interopRequireDefault(_blockquote);\n\nvar _header = __webpack_require__(66);\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _list = __webpack_require__(67);\n\nvar _list2 = _interopRequireDefault(_list);\n\nvar _background = __webpack_require__(37);\n\nvar _color = __webpack_require__(26);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nvar _italic = __webpack_require__(68);\n\nvar _italic2 = _interopRequireDefault(_italic);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _script = __webpack_require__(69);\n\nvar _script2 = _interopRequireDefault(_script);\n\nvar _strike = __webpack_require__(70);\n\nvar _strike2 = _interopRequireDefault(_strike);\n\nvar _underline = __webpack_require__(71);\n\nvar _underline2 = _interopRequireDefault(_underline);\n\nvar _image = __webpack_require__(72);\n\nvar _image2 = _interopRequireDefault(_image);\n\nvar _video = __webpack_require__(73);\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _formula = __webpack_require__(74);\n\nvar _formula2 = _interopRequireDefault(_formula);\n\nvar _syntax = __webpack_require__(75);\n\nvar _syntax2 = _interopRequireDefault(_syntax);\n\nvar _toolbar = __webpack_require__(57);\n\nvar _toolbar2 = _interopRequireDefault(_toolbar);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _bubble = __webpack_require__(108);\n\nvar _bubble2 = _interopRequireDefault(_bubble);\n\nvar _snow = __webpack_require__(62);\n\nvar _snow2 = _interopRequireDefault(_snow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_core2.default.register({\n  'attributors/attribute/direction': _direction.DirectionAttribute,\n\n  'attributors/class/align': _align.AlignClass,\n  'attributors/class/background': _background.BackgroundClass,\n  'attributors/class/color': _color.ColorClass,\n  'attributors/class/direction': _direction.DirectionClass,\n  'attributors/class/font': _font.FontClass,\n  'attributors/class/size': _size.SizeClass,\n\n  'attributors/style/align': _align.AlignStyle,\n  'attributors/style/background': _background.BackgroundStyle,\n  'attributors/style/color': _color.ColorStyle,\n  'attributors/style/direction': _direction.DirectionStyle,\n  'attributors/style/font': _font.FontStyle,\n  'attributors/style/size': _size.SizeStyle\n}, true);\n\n_core2.default.register({\n  'formats/align': _align.AlignClass,\n  'formats/direction': _direction.DirectionClass,\n  'formats/indent': _indent.IndentClass,\n\n  'formats/background': _background.BackgroundStyle,\n  'formats/color': _color.ColorStyle,\n  'formats/font': _font.FontClass,\n  'formats/size': _size.SizeClass,\n\n  'formats/blockquote': _blockquote2.default,\n  'formats/code-block': _code2.default,\n  'formats/header': _header2.default,\n  'formats/list': _list2.default,\n\n  'formats/bold': _bold2.default,\n  'formats/code': _code.Code,\n  'formats/italic': _italic2.default,\n  'formats/link': _link2.default,\n  'formats/script': _script2.default,\n  'formats/strike': _strike2.default,\n  'formats/underline': _underline2.default,\n\n  'formats/image': _image2.default,\n  'formats/video': _video2.default,\n\n  'formats/list/item': _list.ListItem,\n\n  'modules/formula': _formula2.default,\n  'modules/syntax': _syntax2.default,\n  'modules/toolbar': _toolbar2.default,\n\n  'themes/bubble': _bubble2.default,\n  'themes/snow': _snow2.default,\n\n  'ui/icons': _icons2.default,\n  'ui/picker': _picker2.default,\n  'ui/icon-picker': _iconPicker2.default,\n  'ui/color-picker': _colorPicker2.default,\n  'ui/tooltip': _tooltip2.default\n}, true);\n\nexports.default = _core2.default;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IndentClass = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IdentAttributor = function (_Parchment$Attributor) {\n  _inherits(IdentAttributor, _Parchment$Attributor);\n\n  function IdentAttributor() {\n    _classCallCheck(this, IdentAttributor);\n\n    return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\n  }\n\n  _createClass(IdentAttributor, [{\n    key: 'add',\n    value: function add(node, value) {\n      if (value === '+1' || value === '-1') {\n        var indent = this.value(node) || 0;\n        value = value === '+1' ? indent + 1 : indent - 1;\n      }\n      if (value === 0) {\n        this.remove(node);\n        return true;\n      } else {\n        return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\n      }\n    }\n  }, {\n    key: 'canAdd',\n    value: function canAdd(node, value) {\n      return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\n    }\n  }, {\n    key: 'value',\n    value: function value(node) {\n      return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\n    }\n  }]);\n\n  return IdentAttributor;\n}(_parchment2.default.Attributor.Class);\n\nvar IndentClass = new IdentAttributor('indent', 'ql-indent', {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n});\n\nexports.IndentClass = IndentClass;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Blockquote = function (_Block) {\n  _inherits(Blockquote, _Block);\n\n  function Blockquote() {\n    _classCallCheck(this, Blockquote);\n\n    return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\n  }\n\n  return Blockquote;\n}(_block2.default);\n\nBlockquote.blotName = 'blockquote';\nBlockquote.tagName = 'blockquote';\n\nexports.default = Blockquote;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Header = function (_Block) {\n  _inherits(Header, _Block);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n  }\n\n  _createClass(Header, null, [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return this.tagName.indexOf(domNode.tagName) + 1;\n    }\n  }]);\n\n  return Header;\n}(_block2.default);\n\nHeader.blotName = 'header';\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\nexports.default = Header;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ListItem = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ListItem = function (_Block) {\n  _inherits(ListItem, _Block);\n\n  function ListItem() {\n    _classCallCheck(this, ListItem);\n\n    return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\n  }\n\n  _createClass(ListItem, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name === List.blotName && !value) {\n        this.replaceWith(_parchment2.default.create(this.statics.scope));\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      if (this.prev == null && this.next == null) {\n        this.parent.remove();\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\n      }\n    }\n  }, {\n    key: 'replaceWith',\n    value: function replaceWith(name, value) {\n      this.parent.isolate(this.offset(this.parent), this.length());\n      if (name === this.parent.statics.blotName) {\n        this.parent.replaceWith(name, value);\n        return this;\n      } else {\n        this.parent.unwrap();\n        return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\n    }\n  }]);\n\n  return ListItem;\n}(_block2.default);\n\nListItem.blotName = 'list-item';\nListItem.tagName = 'LI';\n\nvar List = function (_Container) {\n  _inherits(List, _Container);\n\n  _createClass(List, null, [{\n    key: 'create',\n    value: function create(value) {\n      var tagName = value === 'ordered' ? 'OL' : 'UL';\n      var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\n      if (value === 'checked' || value === 'unchecked') {\n        node.setAttribute('data-checked', value === 'checked');\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'OL') return 'ordered';\n      if (domNode.tagName === 'UL') {\n        if (domNode.hasAttribute('data-checked')) {\n          return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\n        } else {\n          return 'bullet';\n        }\n      }\n      return undefined;\n    }\n  }]);\n\n  function List(domNode) {\n    _classCallCheck(this, List);\n\n    var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\n\n    var listEventHandler = function listEventHandler(e) {\n      if (e.target.parentNode !== domNode) return;\n      var format = _this2.statics.formats(domNode);\n      var blot = _parchment2.default.find(e.target);\n      if (format === 'checked') {\n        blot.format('list', 'unchecked');\n      } else if (format === 'unchecked') {\n        blot.format('list', 'checked');\n      }\n    };\n\n    domNode.addEventListener('touchstart', listEventHandler);\n    domNode.addEventListener('mousedown', listEventHandler);\n    return _this2;\n  }\n\n  _createClass(List, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (this.children.length > 0) {\n        this.children.tail.format(name, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      // We don't inherit from FormatBlot\n      return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot instanceof ListItem) {\n        _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\n      } else {\n        var index = ref == null ? this.length() : ref.offset(this);\n        var after = this.split(index);\n        after.parent.insertBefore(blot, after);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      if (target.statics.blotName !== this.statics.blotName) {\n        var item = _parchment2.default.create(this.statics.defaultChild);\n        target.moveChildren(item);\n        this.appendChild(item);\n      }\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\n    }\n  }]);\n\n  return List;\n}(_container2.default);\n\nList.blotName = 'list';\nList.scope = _parchment2.default.Scope.BLOCK_BLOT;\nList.tagName = ['OL', 'UL'];\nList.defaultChild = 'list-item';\nList.allowedChildren = [ListItem];\n\nexports.ListItem = ListItem;\nexports.default = List;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Italic = function (_Bold) {\n  _inherits(Italic, _Bold);\n\n  function Italic() {\n    _classCallCheck(this, Italic);\n\n    return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\n  }\n\n  return Italic;\n}(_bold2.default);\n\nItalic.blotName = 'italic';\nItalic.tagName = ['EM', 'I'];\n\nexports.default = Italic;\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Script = function (_Inline) {\n  _inherits(Script, _Inline);\n\n  function Script() {\n    _classCallCheck(this, Script);\n\n    return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\n  }\n\n  _createClass(Script, null, [{\n    key: 'create',\n    value: function create(value) {\n      if (value === 'super') {\n        return document.createElement('sup');\n      } else if (value === 'sub') {\n        return document.createElement('sub');\n      } else {\n        return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'SUB') return 'sub';\n      if (domNode.tagName === 'SUP') return 'super';\n      return undefined;\n    }\n  }]);\n\n  return Script;\n}(_inline2.default);\n\nScript.blotName = 'script';\nScript.tagName = ['SUB', 'SUP'];\n\nexports.default = Script;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Strike = function (_Inline) {\n  _inherits(Strike, _Inline);\n\n  function Strike() {\n    _classCallCheck(this, Strike);\n\n    return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\n  }\n\n  return Strike;\n}(_inline2.default);\n\nStrike.blotName = 'strike';\nStrike.tagName = 'S';\n\nexports.default = Strike;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Underline = function (_Inline) {\n  _inherits(Underline, _Inline);\n\n  function Underline() {\n    _classCallCheck(this, Underline);\n\n    return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\n  }\n\n  return Underline;\n}(_inline2.default);\n\nUnderline.blotName = 'underline';\nUnderline.tagName = 'U';\n\nexports.default = Underline;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _link = __webpack_require__(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['alt', 'height', 'width'];\n\nvar Image = function (_Parchment$Embed) {\n  _inherits(Image, _Parchment$Embed);\n\n  function Image() {\n    _classCallCheck(this, Image);\n\n    return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n  }\n\n  _createClass(Image, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        node.setAttribute('src', this.sanitize(value));\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'match',\n    value: function match(url) {\n      return (/\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url)\n      );\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Image;\n}(_parchment2.default.Embed);\n\nImage.blotName = 'image';\nImage.tagName = 'IMG';\n\nexports.default = Image;\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _block = __webpack_require__(4);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['height', 'width'];\n\nvar Video = function (_BlockEmbed) {\n  _inherits(Video, _BlockEmbed);\n\n  function Video() {\n    _classCallCheck(this, Video);\n\n    return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n  }\n\n  _createClass(Video, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\n      node.setAttribute('frameborder', '0');\n      node.setAttribute('allowfullscreen', true);\n      node.setAttribute('src', this.sanitize(value));\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _link2.default.sanitize(url);\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Video;\n}(_block.BlockEmbed);\n\nVideo.blotName = 'video';\nVideo.className = 'ql-video';\nVideo.tagName = 'IFRAME';\n\nexports.default = Video;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.FormulaBlot = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormulaBlot = function (_Embed) {\n  _inherits(FormulaBlot, _Embed);\n\n  function FormulaBlot() {\n    _classCallCheck(this, FormulaBlot);\n\n    return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\n  }\n\n  _createClass(FormulaBlot, null, [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        window.katex.render(value, node, {\n          throwOnError: false,\n          errorColor: '#f00'\n        });\n        node.setAttribute('data-value', value);\n      }\n      return node;\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('data-value');\n    }\n  }]);\n\n  return FormulaBlot;\n}(_embed2.default);\n\nFormulaBlot.blotName = 'formula';\nFormulaBlot.className = 'ql-formula';\nFormulaBlot.tagName = 'SPAN';\n\nvar Formula = function (_Module) {\n  _inherits(Formula, _Module);\n\n  _createClass(Formula, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(FormulaBlot, true);\n    }\n  }]);\n\n  function Formula() {\n    _classCallCheck(this, Formula);\n\n    var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\n\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n    return _this2;\n  }\n\n  return Formula;\n}(_module2.default);\n\nexports.FormulaBlot = FormulaBlot;\nexports.default = Formula;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.CodeToken = exports.CodeBlock = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SyntaxCodeBlock = function (_CodeBlock) {\n  _inherits(SyntaxCodeBlock, _CodeBlock);\n\n  function SyntaxCodeBlock() {\n    _classCallCheck(this, SyntaxCodeBlock);\n\n    return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(SyntaxCodeBlock, [{\n    key: 'replaceWith',\n    value: function replaceWith(block) {\n      this.domNode.textContent = this.domNode.textContent;\n      this.attach();\n      _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\n    }\n  }, {\n    key: 'highlight',\n    value: function highlight(_highlight) {\n      var text = this.domNode.textContent;\n      if (this.cachedText !== text) {\n        if (text.trim().length > 0 || this.cachedText == null) {\n          this.domNode.innerHTML = _highlight(text);\n          this.domNode.normalize();\n          this.attach();\n        }\n        this.cachedText = text;\n      }\n    }\n  }]);\n\n  return SyntaxCodeBlock;\n}(_code2.default);\n\nSyntaxCodeBlock.className = 'ql-syntax';\n\nvar CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nvar Syntax = function (_Module) {\n  _inherits(Syntax, _Module);\n\n  _createClass(Syntax, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(CodeToken, true);\n      _quill2.default.register(SyntaxCodeBlock, true);\n    }\n  }]);\n\n  function Syntax(quill, options) {\n    _classCallCheck(this, Syntax);\n\n    var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\n\n    if (typeof _this2.options.highlight !== 'function') {\n      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\n    }\n    var timer = null;\n    _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        _this2.highlight();\n        timer = null;\n      }, _this2.options.interval);\n    });\n    _this2.highlight();\n    return _this2;\n  }\n\n  _createClass(Syntax, [{\n    key: 'highlight',\n    value: function highlight() {\n      var _this3 = this;\n\n      if (this.quill.selection.composing) return;\n      this.quill.update(_quill2.default.sources.USER);\n      var range = this.quill.getSelection();\n      this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\n        code.highlight(_this3.options.highlight);\n      });\n      this.quill.update(_quill2.default.sources.SILENT);\n      if (range != null) {\n        this.quill.setSelection(range, _quill2.default.sources.SILENT);\n      }\n    }\n  }]);\n\n  return Syntax;\n}(_module2.default);\n\nSyntax.DEFAULTS = {\n  highlight: function () {\n    if (window.hljs == null) return null;\n    return function (text) {\n      var result = window.hljs.highlightAuto(text);\n      return result.value;\n    };\n  }(),\n  interval: 1000\n};\n\nexports.CodeBlock = SyntaxCodeBlock;\nexports.CodeToken = CodeToken;\nexports.default = Syntax;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BubbleTooltip = undefined;\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{ header: 1 }, { header: 2 }, 'blockquote']];\n\nvar BubbleTheme = function (_BaseTheme) {\n  _inherits(BubbleTheme, _BaseTheme);\n\n  function BubbleTheme(quill, options) {\n    _classCallCheck(this, BubbleTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-bubble');\n    return _this;\n  }\n\n  _createClass(BubbleTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n      this.tooltip.root.appendChild(toolbar.container);\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n    }\n  }]);\n\n  return BubbleTheme;\n}(_base2.default);\n\nBubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (!value) {\n            this.quill.format('link', false);\n          } else {\n            this.quill.theme.tooltip.edit();\n          }\n        }\n      }\n    }\n  }\n});\n\nvar BubbleTooltip = function (_BaseTooltip) {\n  _inherits(BubbleTooltip, _BaseTooltip);\n\n  function BubbleTooltip(quill, bounds) {\n    _classCallCheck(this, BubbleTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\n\n    _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\n      if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\n      if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\n        _this2.show();\n        // Lock our width so we will expand beyond our offsetParent boundaries\n        _this2.root.style.left = '0px';\n        _this2.root.style.width = '';\n        _this2.root.style.width = _this2.root.offsetWidth + 'px';\n        var lines = _this2.quill.getLines(range.index, range.length);\n        if (lines.length === 1) {\n          _this2.position(_this2.quill.getBounds(range));\n        } else {\n          var lastLine = lines[lines.length - 1];\n          var index = _this2.quill.getIndex(lastLine);\n          var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\n          var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\n          _this2.position(_bounds);\n        }\n      } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\n        _this2.hide();\n      }\n    });\n    return _this2;\n  }\n\n  _createClass(BubbleTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('.ql-close').addEventListener('click', function () {\n        _this3.root.classList.remove('ql-editing');\n      });\n      this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\n        // Let selection be restored by toolbar handlers before repositioning\n        setTimeout(function () {\n          if (_this3.root.classList.contains('ql-hidden')) return;\n          var range = _this3.quill.getSelection();\n          if (range != null) {\n            _this3.position(_this3.quill.getBounds(range));\n          }\n        }, 1);\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.show();\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\n      var arrow = this.root.querySelector('.ql-tooltip-arrow');\n      arrow.style.marginLeft = '';\n      if (shift === 0) return shift;\n      arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\n    }\n  }]);\n\n  return BubbleTooltip;\n}(_base.BaseTooltip);\n\nBubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\n\nexports.BubbleTooltip = BubbleTooltip;\nexports.default = BubbleTheme;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(63);\n\n\n/***/ })\n/******/ ])[\"default\"];\n});","import errors from \"../modules/Errors\";\r\nimport Quill from \"quill\";\r\n\r\nclass KbfWysiwyg extends EventTarget {\r\n\r\n    constructor(selector, options = {}) {\r\n\r\n        super();\r\n\r\n        // Emituj wyjatek gdy nie podano selektora albo element nie zostal znaleziony\r\n\r\n        if (!selector) throw errors.argumentNotFound(\"selector\");\r\n\r\n        this.selector = selector;\r\n        this.$container = $(selector);\r\n\r\n        this.options = {\r\n            modules: {\r\n                toolbar: [['bold', 'italic', 'underline', 'strike'],  [ { 'align': [] } ], [{ 'list': 'ordered'}, { 'list': 'bullet' }]]\r\n            },\r\n            theme: 'bubble',\r\n            ...options\r\n        };\r\n\r\n        this.init();\r\n        this.addListeners();\r\n\r\n    }\r\n\r\n    // Dodaje listenery\r\n    addListeners() {\r\n\r\n        let instance = this;\r\n\r\n        // Aktualizuj wartosc pola input\r\n        this.editor.on('editor-change', function () {\r\n            instance.setInputValue(instance.$contents.html());\r\n        })\r\n\r\n        // Ustaw focus na edytorze\r\n\r\n        $(window).on('click', function () {\r\n            instance.$contents.removeClass('focus');\r\n        });\r\n\r\n        this.$contents.on('click', function (e) {\r\n            e.stopPropagation();\r\n            instance.$contents.addClass('focus');\r\n        })\r\n    }\r\n\r\n    // Inicjalizuje\r\n    init() {\r\n\r\n        // Aliasy\r\n        this.on = this.addEventListener;\r\n        this.off = this.removeEventListener;\r\n        this.emit = this.dispatchEvent;\r\n\r\n        this.editor = new Quill(this.selector, this.options);\r\n        this.$contents = $('.ql-editor');\r\n        this.$wysiwygInput = $('.wysiwyg').next('input[type=\"hidden\"]');\r\n\r\n        this.$wysiwygInput.html(this.$contents.html());\r\n\r\n    }\r\n\r\n    //Ustawia wartosc pola input\r\n    setInputValue(html) {\r\n\r\n        let instance = this;\r\n\r\n        if (html === '<p><br></p>' || html.length === 0) this.$wysiwygInput.attr('value', '');\r\n        else this.$wysiwygInput.attr('value', html);\r\n\r\n        // Emituj wartosc w polu edytora\r\n        this.emit(new CustomEvent('change', { detail: instance.$wysiwygInput[0].value }));\r\n\r\n    }\r\n\r\n    // Ustawia wartosc poczatkowa dla edytora\r\n    setInitialValue(html) {\r\n        this.$contents.html(html);\r\n        this.setInputValue(html)\r\n    }\r\n\r\n}\r\n\r\nexport default KbfWysiwyg;","import config from \"../config/config\";\r\n\r\nlet apiEndpoint = config.apiEndpoint;\r\n\r\n// Sprawdza czy urzadzenie jest dotykowe\r\nexport function isTouchDevice() {\r\n    return (('ontouchstart' in window) || (navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0));\r\n}\r\n\r\n// Zwraca liste nazw powiatow, areasGeoJSON - granice powiatow z nazwami\r\nexport function getAreaNames(areasGeoJSON) {\r\n    let result = [];\r\n    areasGeoJSON.features.forEach(function (feature) {\r\n        result.push(feature.properties.name); // Dodaj nazwe powiatu do listy powiatow\r\n    });\r\n\r\n    result = result.sort(function (current, next) {\r\n        return current.localeCompare(next);\r\n    })\r\n\r\n    return result;\r\n}\r\n\r\n// Zwraca slownik wojewodztwo: powiaty, areasGeoJSON - granice powiatow z nazwami\r\nexport function getProvinceAreaDict(areasGeoJSON) {\r\n\r\n    let result = {};\r\n    areasGeoJSON.features.forEach(function (feature) {\r\n        result[feature.properties.province] = [...result[feature.properties.province] || [], feature.properties.name];\r\n        result[feature.properties.province].sort(function (current, next) {\r\n            return current.localeCompare(next);\r\n        });\r\n    })\r\n\r\n    return result;\r\n\r\n}\r\n\r\n// Zwraca liste nazw wojewodztw ze slownika provinceAreaDict\r\nexport function getProvinceNames(provinceAreaDict) {\r\n    let result = [];\r\n    result = Object.keys(provinceAreaDict);\r\n    result = result.sort(function (current, next) {\r\n        return current.localeCompare(next);\r\n    });\r\n\r\n    return result;\r\n}\r\n\r\n// Konwertuje nazwe branzy\r\nexport function capitalizeIndustry(industry) {\r\n    let _industry = industry.toLowerCase();\r\n    return _industry.trim().substr(0, 1).toUpperCase() + _industry.trim().substr(1);\r\n}\r\n\r\n// Tworzy skrot\r\nexport function getEllipsis(string, length) {\r\n\r\n    let ellipsis;\r\n\r\n    if (string.length - 4 >= length - 4) ellipsis = string.trim().substring(0, length - 5) + ' ...';\r\n    if (string.length - 4 < length - 4) ellipsis = string;\r\n\r\n    return ellipsis;\r\n}\r\n\r\n// Przygotowuje opcje dla dropdown branz\r\nexport function getIndustriesOptions(industries, ellipsis = true) {\r\n\r\n    // Utworz tablice branz\r\n    let capitalizedIndustries = [];\r\n    industries.forEach(function (industry) {\r\n        if (ellipsis) capitalizedIndustries.push(capitalizeIndustry(getEllipsis(industry, 34)));\r\n        else capitalizedIndustries.push(capitalizeIndustry(industry));\r\n    });\r\n\r\n    // Utworz opcje\r\n    let opts = {};\r\n    let idx = 0;\r\n    capitalizedIndustries.forEach(function (capitalizedIndustry) {\r\n        opts[capitalizedIndustry] = industries[idx];\r\n        idx++;\r\n    })\r\n\r\n    return opts;\r\n}\r\n\r\n// Pobiera nazwy branz z rest api\r\nexport async function getIndustries() {\r\n    let $ = window.$;\r\n    return await $.get(`${apiEndpoint}/api/industries/`);\r\n}\r\n\r\n// Pobiera nazwy sub branz z rest api dla danej branzy\r\nexport async function getSubIndustries(industryName) {\r\n    let $ = window.$;\r\n    return await $.get(`${apiEndpoint}/api/sub-industries/?industry=${industryName}`);\r\n}\r\n\r\n// Pobiera dane do markerow dla mapy\r\nexport async function getCompanyMarkersData(requestData) {\r\n\r\n    let $ = window.$;\r\n    let url = '';\r\n    let provinceName = requestData['province-name'];\r\n    let areaName = requestData['area-name'];\r\n    let industry = requestData.industry;\r\n    let subIndustry = requestData['sub-industry'];\r\n\r\n    if (subIndustry.length > 0) url = `${apiEndpoint}/api/markers/?province-name=${provinceName}&area-name=${areaName}&industry=${industry}&sub-industry=${subIndustry}`;\r\n    if (subIndustry.length === 0) url = `${apiEndpoint}/api/markers/?province-name=${provinceName}&area-name=${areaName}&industry=${industry}`;\r\n\r\n    return await $.get(url).fail(function () {\r\n        $('.kbf-mini-preloader').hide();\r\n    });\r\n\r\n}\r\n\r\n// Zamienia placeholders w stringu\r\nexport function replacePlaceholders(placeholderMap, string) {\r\n\r\n    for (const [placeholder, value] of Object.entries(placeholderMap)) {\r\n        string = string.replace(placeholder, value);\r\n    }\r\n\r\n   return string;\r\n\r\n}","import errors from \"../modules/Errors\";\r\nimport { replacePlaceholders } from \"../functions/library\";\r\n\r\nclass KbfRepeater extends EventTarget {\r\n\r\n    constructor(selector) {\r\n\r\n        super();\r\n\r\n        let $ = window.$;\r\n\r\n        // Sprawdz czy podano argumenty\r\n        if (!selector) throw errors.argumentNotFound(\"Selector\");\r\n\r\n        this.$repeaterItems = $(selector);\r\n        if(this.$repeaterItems.length === 0) throw errors.elementNotFound(selector);\r\n\r\n        this.$currentHiddenInput = undefined;\r\n        this.$currentItems = [];\r\n        \r\n        this.init();\r\n        this.addListeners();\r\n    }\r\n\r\n    init() {\r\n\r\n        let $ = window.$;\r\n        let instance = this;\r\n\r\n        // Aliasy\r\n        this.on = this.addEventListener;\r\n        this.off = this.removeEventListener;\r\n        this.emit = this.dispatchEvent;\r\n\r\n        this.$addButtons = this.$repeaterItems.closest('.job-details-edit').find('.add-button');\r\n        this.$removeButtons = this.$repeaterItems.find('.repeater-actions a');\r\n        this.$repeaterItems = this.$repeaterItems.find('span');\r\n\r\n    }\r\n\r\n    addListeners() {\r\n\r\n        let instance = this;\r\n\r\n        this.$removeButtons.on('click', (e) => {\r\n            instance.removeHandler(e)\r\n\r\n        });\r\n        this.$repeaterItems.on('blur', function (e) {\r\n            instance.updateHandler(e);\r\n        });\r\n\r\n        this.$addButtons.on('click', function (e) {\r\n\r\n            e.preventDefault();\r\n\r\n            let $this = $(this);\r\n\r\n            let $itemsContainer = $(this).closest('.job-details-edit').find('.list-group');\r\n            let content = replacePlaceholders({ '{itemName}': $this.parent().prev().val() }, KbfRepeater.itemTemplate);\r\n\r\n            let $contentElement = $(content);\r\n            $itemsContainer.append($contentElement);\r\n            $this.parent().prev().val('');\r\n\r\n            $contentElement.animate({\r\n                opacity: 1,\r\n                bottom: 0\r\n            }, function () {\r\n\r\n                let $removeButton = $contentElement.find('.repeater-actions a');\r\n                let $span = $contentElement.find('span');\r\n\r\n                // Dodaj listenery do dodanego elementu\r\n                $removeButton.on('click', function (e) {\r\n                    instance.removeHandler(e)\r\n                })\r\n\r\n                $span.on('blur', function (e) {\r\n                    instance.updateHandler(e);\r\n                })\r\n\r\n                // Zaktualizuj ukryte pole\r\n                instance.currentRepeater = $contentElement[0].closest('.job-details-edit');\r\n                instance.$currentHiddenInput = $(instance.currentRepeater).find('[type=\"hidden\"]');\r\n                instance.getCurrentItems();\r\n                instance.updateInput();\r\n\r\n            })\r\n        })\r\n    }\r\n\r\n    updateHandler(e) {\r\n\r\n        this.currentRepeater = e.target.closest('.job-details-edit');\r\n        this.$currentHiddenInput = $(this.currentRepeater).find('[type=\"hidden\"]');\r\n        this.getCurrentItems();\r\n        this.updateInput();\r\n\r\n    }\r\n\r\n    removeHandler(e) {\r\n        this.removeItem(e);\r\n    }\r\n\r\n    removeItem(e) {\r\n\r\n        e.preventDefault();\r\n        let instance = this;\r\n\r\n        this.currentRepeater = e.target.closest('.job-details-edit');\r\n        this.$currentHiddenInput = $(this.currentRepeater).find('[type=\"hidden\"]');\r\n\r\n        let $target = $(e.target.parentElement);\r\n\r\n        $target.closest('.repeater-item').fadeOut(250, function () {\r\n            this.remove();\r\n            instance.getCurrentItems();\r\n            instance.updateInput();\r\n        })\r\n\r\n    }\r\n\r\n    updateInput() {\r\n\r\n        let itemContents = [];\r\n\r\n        this.$currentItems.each(function (idx, $item) {\r\n            itemContents.push($item.innerHTML.trim());\r\n        })\r\n\r\n        this.$currentHiddenInput.val(itemContents.join(','));\r\n\r\n    }\r\n\r\n    getCurrentItems() {\r\n       this.$currentItems = $(this.currentRepeater).find('.repeater-item span');\r\n    }\r\n\r\n\r\n}\r\n\r\nKbfRepeater.itemTemplate = '<li style=\"opacity: 0; bottom: -8px\" class=\"repeater-item position-relative list-group-item d-flex\"><span spellcheck=\"false\" contenteditable=\"true\" class=\"col-10\">{itemName}</span><div class=\"repeater-actions d-inline-block d-md-flex justify-content-end col-3\"><a class=\"d-inline-block ml-2\" href=\"#\">Usuń</a></div></li>';\r\n\r\nexport default KbfRepeater;","import KbfPreloaderButton from \"../../components/KbfPreloaderButton\";\r\nimport KbfDatepicker from \"../../components/KbfDatePicker\";\r\nimport KbfTabs from \"../../components/KbfTabs\";\r\nimport KbfDropdown from \"../../components/KbfDropdown\";\r\nimport KbfCityAutocomplete from \"../../components/KbfCityAutocomplete\";\r\nimport KbfWysiwyg from \"../../components/KbfWysiwyg\";\r\nimport KbfRepeater from \"../../components/KbfRepeater\";\r\n\r\nclass App {\r\n\r\n    constructor() {\r\n\r\n        this.init();\r\n        this.addListeners();\r\n\r\n    }\r\n\r\n    init() {\r\n\r\n        let instance = this;\r\n        let $ = window.$;\r\n\r\n        this.$submitButton = $('.submit-button');\r\n        this.$provinceNameField = $('[name=\"province_name\"]');\r\n\r\n        // Taby\r\n        this.tabs = new KbfTabs('dashboard-edit-job');\r\n\r\n        // Datepicker\r\n        this.datepickerJobExpire = new KbfDatepicker('.job_expire-date-picker', '[name=\"job_expire\"]');\r\n        this.datepickerStartDate = new KbfDatepicker('.job_start_date-date-picker', '[name=\"job_start_date\"]');\r\n\r\n\r\n        // Rodzaj etatu\r\n        this.jobTypeDropdown = new KbfDropdown('.dropdown-job_type');\r\n\r\n        // Miasto autocomplete\r\n        this.cityAutocomplete = new KbfCityAutocomplete('[name=\"job_city\"]');\r\n\r\n        // Wysiwyg\r\n        // TODO: Musi byc zmienione, ukryte pole musi byc niezalezne od kontekstu\r\n        this.$descriptionFieldHidden = $('[name=\"job_description_hidden\"]');\r\n        this.wysiwyg = new KbfWysiwyg('.wysiwyg');\r\n\r\n        let htmlToInsert = this.$descriptionFieldHidden.val();\r\n        let editor = document.getElementsByClassName('ql-editor')\r\n        editor[0].innerHTML = htmlToInsert\r\n\r\n        // Preloader button\r\n        this.preloaderButton = new KbfPreloaderButton('.submit-button', false);\r\n\r\n        // Repeater\r\n        this.repeater = new KbfRepeater('.repeater-item');\r\n\r\n    }\r\n\r\n\r\n    addListeners() {\r\n\r\n        let instance = this;\r\n\r\n        this.$submitButton.on('click', function (e) {\r\n            e.preventDefault();\r\n            instance.tabs.validateForm();\r\n            if(instance.tabs.formIsValid) instance.preloaderButton.triggerStart(this);\r\n        });\r\n\r\n\r\n        // Datepicker\r\n        $('[name=\"job_expire\"]').on('focus', function () {\r\n            instance.datepickerStartDate.hideDatePicker();\r\n        })\r\n\r\n        $('[name=\"job_start_date\"]').on('focus', function () {\r\n            instance.datepickerJobExpire.hideDatePicker();\r\n        })\r\n\r\n        $('[name=\"job_name\"], #job_type-button, [name=\"job_city\"]').on('focus', this.hideAllPickers.bind(this))\r\n\r\n        this.wysiwyg.$container.find('.ql-editor').on('click', this.hideAllPickers.bind(this))\r\n\r\n        // Aktualizacja pola \"Miasto\"\r\n        this.cityAutocomplete.on('city-change', function (e) {\r\n            instance.$provinceNameField.val(e.detail.provinceName);\r\n        })\r\n\r\n    }\r\n\r\n    hideAllPickers() {\r\n        this.datepickerJobExpire.hideDatePicker();\r\n        this.datepickerStartDate.hideDatePicker();\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default App;","import App from './components/App';\r\n\r\n(function($){\r\n\r\n    $(document).ready(function () {\r\n\r\n        new App();\r\n\r\n    })\r\n\r\n})(window.$)"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","value","_typeof","obj","Symbol","iterator","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","call","assertThisInitialized","_getPrototypeOf","getPrototypeOf","_isNativeFunction","fn","Function","toString","indexOf","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_construct","Parent","args","Class","isNativeReflectConstruct","a","push","apply","bind","arguments","_wrapNativeSuper","_cache","Map","undefined","isNativeFunction","has","get","set","Wrapper","errors","elementNotFound","selector","Error","formNotFound","formName","argumentNotFound","argumentName","substring","toUpperCase","noValidator","noGeoCoords","KbfPreloaderButton","auto","$","window","$preloaderButton","init","addListeners","on","addEventListener","off","removeEventListener","emit","dispatchEvent","buttonCurrentContents","html","buttonElement","buttonGeometry","getBoundingClientRect","bgColor","getComputedStyle","backgroundColor","trigger","type","CustomEvent","$buttonElement","attr","css","width","height","preloaderMarkup","removeAttr","triggerStart","startPreloader","EventTarget","INTL_DATE_TIME_FORMAT","Intl","DateTimeFormat","UP_KEYS","DOWN_KEYS","PREV_KEY_CODES_SET","Set","NEXT_KEY_CODES_SET","NEXT_DAY_KEY_CODES_SET","PREV_DAY_KEY_CODES_SET","ALL_NAV_KEYS_SET","DATEPICKER_NAME","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","err","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","_superPropBase","object","property","hasOwnProperty","_get","receiver","base","superPropBase","desc","getOwnPropertyDescriptor","runtime","exports","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","name","mark","awrap","__await","AsyncIterator","PromiseImpl","invoke","record","result","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","next","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","keys","reverse","pop","iterable","iteratorMethod","isNaN","skipTempReset","prev","charAt","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","require$$0","__decorate","decorators","c","r","d","decorate","_arrayLikeToArray","arr","len","arr2","Array","_arrayWithoutHoles","isArray","arrayLikeToArray","_iterableToArray","from","_unsupportedIterableToArray","minLen","n","test","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","render","iconChevronLeft","iconChevronRight","resetButton","datepickerVariables","_arrayWithHoles","_iterableToArrayLimit","_i","_arr","_n","_d","_s","_e","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","nonIterableRest","animateElement","node","opts","hasNativeWebAnimation","keyframes","options","duration","y","animationEnd","animate","onfinish","endFrame","transitionEnd","style","transitionDuration","easing","transitionTimingFunction","getDateRange","min","max","getNextSelectableDate","keyCode","disabledDaysSet","disabledDatesSet","focusedDate","maxTime","minTime","focusedDateTime","isLessThanMinTime","isMoreThanMaxTime","isDisabledDay","getUTCDay","selectableFocusedDateTime","selectableFocusedDate","Date","fy","getUTCFullYear","m","getUTCMonth","getUTCDate","toUTCDate","computeNextFocusedDate","hasAltKey","selectedDate","oldFy","oldM","oldD","sdFy","sdM","notInCurrentMonth","shouldRunSwitch","totalDaysOfMonth","newFocusedDate","dispatchCustomEvent","eventName","detail","bubbles","composed","findShadowTarget","ev","callback","composedPath","find","HTMLElement","getFormatters","locale","dateFmt","timeZone","weekday","month","day","dayFmt","fullDateFmt","year","longMonthYearFmt","longWeekdayFmt","narrowWeekdayFmt","yearFmt","dateFormat","getFormatter","dayFormat","fullDateFormat","longMonthYearFormat","longWeekdayFormat","narrowWeekdayFormat","yearFormat","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","_objectWithoutProperties","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_defineProperty","getMultiCalendars","disabledDates","disabledDays","firstDayOfWeek","showWeekNumber","weekLabel","weekNumberType","Number","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","weekdays","getWeekdays","getKey","date","toJSON","join","filter","ify","im","calendarsList","map","firstDayOfMonth","lastDayOfMonthTime","calendar","calendarDays","calendars","$disabledDatesSet","$disabledDaysSet","cal","rest","size","add","getResolvedDate","dateDate","isUTCDateFormat","isUnixTimestamp","isFinite","getFullYear","getMonth","getDate","getResolvedLocale","resolvedOptions","hasClass","className","classList","contains","isValidDate","makeNumberPrecise","num","Math","floor","toFixed","passiveHandler","cb","passive","handleEvent","splitString","dateString","dateList","split","targetScrollTo","scrollToOptions","scrollTo","top","left","scrollTop","scrollLeft","toFormattedDateString","replace","toYearList","_","updateYearWithMinMax","dateTime","toPointer","clientX","clientY","pageX","pageY","x","id","identifier","pointerId","getFirstTouch","startPointer","changedTouches","newPointer","oldPointer","touches","addPassiveEventListener","event","supportsPassiveEventListener","Tracker","_element","handlers","_startPointer","down","move","up","_down","_onDown","_move","_onMove","_up","_onUp","rootEl","MouseEvent","_updatePointers","shouldReset","Datepicker","landscape","inline","dragRatio","_hasMin","_hasMax","_disabledDaysSet","_disabledDatesSet","_dx","Infinity","_hasNativeWebAnimation","_updatingDateWithKey","todayDate","allFormatters","formattedTodayDate","startView","_min","_max","_todayDate","_maxDate","_yearList","_selectedDate","_focusedDate","_formatters","_startView","val","defaultVal","oldVal","requestUpdate","valDate","isValidMin","isValidMax","validValue","_lastSelectedDate","shadowRoot","querySelector","_tracker","disconnect","datepickerBodyContent","_renderDatepickerYearList","_renderDatepickerCalendar","datepickerHeaderContent","_renderHeaderSelectorButton","cache","firstFocusableElement","_buttonSelectorYear","_yearViewListItem","changed","newValue","selectedYearScrollTop","_yearViewFullList","calendarsContainer","$down","$move","$transitioning","pointer","dx","hasMin","abs","transform","_$","_$$","maxWidth","didPassThreshold","transitionEasing","transformTo","_updateMonth","removeAttribute","_updateFocusedDate","_focusElement","focusedTarget","focus","isCalendarView","formattedDate","formatterFy","classMap","selected","_updateView","focusedDateFy","_updateYear","$focusedDate","$selectedDate","$max","$min","hasMinDate","hasMaxDate","weekdaysContent","label","calendarsContent","repeat","ci","calendarAriaId","midCalendarFullDate","fullDate","isMidCalendar","$newFocusedDate","_isInVisibleMonth","calendarRow","calendarCol","disabled","curTime","isCurrentDate","shouldTab","_updateFocusedDateWithKeyboard","view","handleUpdateView","updateType","handleUpdateMonth","updateComplete","minDate","maxDate","isPreviousMonth","newSelectedDate","newSelectedDateFy","newSelectedDateM","minDateFy","minDateM","maxDateFy","maxDateM","isLessThanYearAndMonth","isMoreThanYearAndMonth","selectedYearEl","setUTCFullYear","selectedDayEl","some","isKeypress","nextFocusedDate","altKey","dateA","dateB","dateAFy","dateAM","dateBFY","dateBM","LitElement","styles","reflect","String","attribute","query","eventOptions","customElementsDefine","tagName","baseClass","customElements","KbfDatepicker","inputElementSelector","$datepicker","$inputElement","datePickerHandler","originalEvent","hideDatePicker","showDatePicker","fadeIn","fadeOut","getLocator","tst","align","locator","alternation","mloc","getDecisionTaker","decisionTaker","getPlaceholder","pos","returnPL","inputmask","maskset","getTest","match","placeholder","static","validPositions","tests","getTests","staticAlternations","prevTest","def","optionality","optionalQuantifier","getMaskTemplate","baseOnInput","minimalPos","includeMode","noJit","clearOptionalTail","greedy","maskTemplate","ndxIntlzr","testPos","jitRenderStatic","generatedInput","input","skipOptionalPartCharacter","determineTestTemplate","nativeDef","getTestTemplate","jitMasking","jit","groupSeparator","maxLength","maskLength","tstPs","altTest","targetLocator","tstLocator","closest","bestMatch","ndx","distance","newBlockMarker","dependencyLib","el","maskTokens","maskToken","ndxInitializer","matches","insertStop","latestMatch","cacheDependency","resolveTestFromToken","loopNdx","quantifierRecurse","handleMatch","isFirstMatch","tokenGroup","firstMatch","every","isQuantifier","resolveNdxInitializer","alternateNdx","targetAlternation","indexPos","lmnt","ndxPos","bestMatchAltIndex","isSubsetOf","expand","pattern","expanded","start","end","l","charCodeAt","fromCharCode","regex","RegExp","staticCanMatchDefinition","setMergeLocators","targetMatch","altMatch","alternationNdx","shouldMerge","locNdx","isSameLevel","_maxTestPos","mask","isGroup","isOptional","optionalToken","mtchsNdx","mtch","isAlternator","alternateToken","malternateMatches","maltMatches","currentMatches","loopNdxCnt","altIndex","shift","currentPos","ndxInitializerClone","altIndexArr","amndx","excludes","altIndexArrClone","exl","excludeSet","splice","keepStatic","parseInt","unMatchedAlternation","concat","ndx1","dropMatch","ndx2","altMatch2","includes","userOptions","qt","qndx","quantifier","jitOffset","tndx","mergeLocators","previousPos","cd","mtndx","casing","extend","ua","navigator","userAgent","ie","mobile","iemobile","iphone","applyInputValue","refreshValue","onBeforeMask","checkVal","undoValue","getBuffer","clearMaskOnLostFocus","clearIncomplete","_valueGet","getBufferTemplate","getLastValidPosition","_valueSet","buffer","template","writeOut","strict","nptvl","initiatingEvent","inputValue","charCodes","initialNdx","isTemplateMatch","targetTemplate","seekNext","charCodeNdx","isMask","nextPos","caretPos","begin","resetMaskSet","radixPoint","determineNewCaretPosition","staticMatches","prevCaretPos","charCode","isValid","keypress","Event","which","lvp","EventHandlers","keypressEvent","isRTL","forwardPosition","writeBuffer","sndx","validPos","nextValid","isComplete","nextSndx","HandleNativePlaceholder","npt","nptValue","unmaskedvalue","umValue","vps","pndx","metadata","unmaskedValue","onUnMask","bufferValue","triggerEvents","onBeforeWrite","refreshFromBuffer","refresh","caret","DELETE","BACKSPACE","$input","nptVal","skipInputEvent","setTimeout","keydownEvent","k","kdResult","onKeyDown","BACKSPACE_SAFARI","ctrlKey","X","preventDefault","handleRemove","END","PAGE_DOWN","shiftKey","HOME","PAGE_UP","undoOnEscape","ESCAPE","tabThrough","TAB","seekPrevious","insertModeVisual","insertMode","RIGHT","LEFT","translatePosition","ignorable","ignorables","checkval","metaKey","ENTER","location","writeOutBuffer","valResult","numericInput","onKeyValidation","keyupEvent","isComposing","KEY_229","$el","pasteEvent","tempValue","valueBeforeCaret","substr","valueAfterCaret","clipboardData","getData","pasteValue","onBeforePaste","inputFallBackEvent","ieMobileHandler","inputChar","iv","analyseChanges","frontPart","backPart","frontBufferPart","backBufferPart","fpl","bpl","bl","action","data","marker","unshift","newBuffer","oldBuffer","changes","document","activeElement","keydown","compositionendEvent","setValueEvent","focusEvent","showMaskOnFocus","positionCaretOnTab","mouseEnter","clickEvent","invalidEvent","validationEvent","mouseleaveEvent","originalPlaceholder","tabbed","newCaretPosition","cutEvent","clipData","setData","execCommand","blurEvent","mouseenterEvent","showMaskOnHover","submitEvent","removeMaskOnSubmit","resetEvent","alternate","maskPos","fromIsValid","rAltPos","selection","validPsClone","tstClone","lastAlt","isValidRslt","returnRslt","altPos","prevAltPos","decisionPos","lAltPos","validInputs","resultPos","elem","toLowerCase","posBefore","SPACE","checkAlternationMatch","altArr1","altArr2","na","altArrC","isMatch","naArr","naNdx","alndx","pend","offset","revalidateMask","newPos","lrp","determineLastRequiredPosition","aml","fromAlternate","validateOnly","fromCheckval","isSelection","posObj","processCommandObject","commandObj","remove","sort","b","insert","rewritePosition","_isValid","position","rslt","validatedPos","positionsClone","preValidation","currentPosValid","skip","nPos","snPos","trackbackPositions","postValidation","postResult","endResult","positionCanMatchDefinition","testDefinition","valid","shiftPositions","bffr","originalPos","fillOnly","ps","vp","np","cvpInput","validTest","IsEnclosedStatic","valids","posMatch","prevMatch","nextMatch","j","t","canMatch","notranslate","isDelete","range","scrollCalc","ownerDocument","defaultView","currentStyle","fontSize","scrollWidth","setSelectionRange","getSelection","createRange","firstChild","textNode","createTextNode","appendChild","setStart","setEnd","collapse","sel","removeAllRanges","addRange","createTextRange","moveEnd","moveStart","select","selectionStart","selectionEnd","getRangeAt","commonAncestorContainer","parentNode","startOffset","endOffset","duplicate","text","returnDefinition","positions","lvTest","lvTestAlt","selectedCaret","doRadixFocus","clickPos","digits","radixPos","positionCaretOnClick","clickPosition","lvclickPosition","lastPosition","tt","noCache","_buffer","closestTo","before","after","posNdx","psNdx","fuzzy","testTemplate","testPlaceHolder","soft","newBlock","EventRuler","eventHandler","that","nodeName","imOpts","Inputmask","readOnly","inputType","skipKeyPressEvent","blur","returnVal","stopPropagation","events","form","evArr","isElementTypeSupported","patchValueProperty","valueGet","valueSet","patchValhook","valHooks","inputmaskpatch","valhookGet","valhookSet","autoUnmask","nullable","getter","setter","installNativeValueSetFallback","__valueGet","noValuePatching","valueProperty","textContent","__lookupGetter__","__lookupSetter__","__defineGetter__","__defineSetter__","__valueSet","overruleRTL","elementType","getAttribute","isSupported","supportsInputType","isContentEditable","createElement","setAttribute","inputMode","inputmode","autocomplete","oncomplete","onincomplete","oncleared","inputEventOnly","src","copy","copyIsArray","clone","deep","eval","owner","__data","isValidElement","Element","params","cancelable","evt","createEvent","initCustomEvent","handler","addEvent","namespace","attachEvent","eventRegistry","_events","endx","nsEvent","removeEvent","detachEvent","nmsp","resolveNamespace","evts","hndx","hndL","evNdx","offEvents","offEventsL","evnt","createEventObject","eventType","fireEvent","DependencyLib","generateMaskSet","nocache","ms","generateMask","regexMask","repeatStart","groupmarker","quantifiermarker","masksetDefinition","maskdefKey","masksCache","analyseMask","altMask","msk","alternatormarker","tokenizer","regexTokenizer","escaped","currentToken","MaskToken","openenings","openingToken","currentOpeningToken","alternator","lastMatch","closeRegexGroup","openGroup","alternatorGroup","insertTestDefinition","mtoken","element","staticDefinitionSymbol","maskdef","definitions","usePrototypeDefinitions","validator","definitionSymbol","generated","verifyGroupMarker","token","nextToken","defaultCase","mndx","reverseTokens","reverseStatic","st","optionalmarker","intMatch","groupify","groupToken","closeGroup","groupQuantifier","exec","altRegexGroup","escapeChar","mqj","mq","mq0","mq1","tmpMatch","subToken","alias","pastedValue","rightAlign","_radixDance","importDataAttributes","dataKey","internal","defaults","noMasksCache","resolveAlias","dataAttribute","aliases","elems","getElementById","querySelectorAll","scopedOpts","importAttributeOptions","option","noremask","valueBuffer","cv","getemptymask","hasMaskedValue","getmetadata","maskTarget","mtdt","rl","lmib","format","formattedValue","setValue","aliasStr","aliasDefinition","importOption","optionData","attrOption","attrOptions","dataoptions","JSON","parse","dir","textAlign","extendDefaults","extendDefinitions","definition","extendAliases","unmask","KbfForm","formConfig","lang","formElement","forms","$formElement","$errorMessageElement","validate","validatorConfig","defaultValidatorConfig","ignore","errorPlacement","$label","$element","addClass","$column","append","insertAfter","elements","handleErrorMessage","formIsValid","removeClass","KbfTabs","innerWidth","console","log","$tabToggles","formController","onfocusout","onfocus","onkeyup","validateForm","formExists","KbfDropdown","scrollBlock","initScrollBar","$dropdowns","dataOptions","$dropdownButtons","$hiddenInputs","setOptions","$dropdownItems","wheelEvent","disableScroll","enableScroll","$this","displayed","dropdownMenu","optionsLastIdx","idx","ariaLabelledBy","setState","updateHiddenInput","$dropdownMenu","newMenuItemsHtml","opt","optionName","items","scrollbar","destroy","PerfectScrollbar","minScrollbarLength","$psRail","$psThumb","dragging","disable","update","scrollWheelZoom","enable","s","__esModule","default","getDefaults","getResults","results","search","url","queryKey","extraData","timeout","requestThrottling","jqXHR","abort","_settings","requestTID","clearTimeout","ajax","fail","always","f","_$el","offsetHeight","_dd","outerHeight","outerWidth","currentTarget","itemSelectedLaunchEvent","shown","hide","ddMouseover","haveResults","mouseover","initialized","checkInitialized","focusNextItem","last","first","focusPreviousItem","selectFocusItem","isShown","show","dropdown","updateItems","searchText","refreshItemList","showMatchedText","empty","formatItem","noResultsText","h","getElPos","overflow","u","manageInlineDataAttributes","getSettings","resolverSettings","_defaultValue","_defaultText","getBootstrapVersion","bootstrapVersion","button","VERSION","convertSelectToText","_selectHiddenField","NAME","replaceWith","_el","bindDefaultEventListeners","resolver","formatResult","autoSelect","isItemFocused","_selectedItem","preventEnter","handlerTyped","isMouseOver","isDdMouseOver","_isSelectElement","itemSelectedDefaultHandler","typed","minLength","_searchText","handlerPreSearch","searchPre","handlerDoSearch","postSearchCallback","searchPost","handlerStartShow","defaultFormatResult","manageAPI","valueKey","is","jQuery","each","config","env","apiEndpoint","KbfAddressAutocomplete","autocompleteConfig","$cityAutocomplete","currentCityInfo","item","city","provinceName","emitCityChange","placeId","isQueryValid","_results","address","country_code","town","place_id","display_name","autoComplete","webpackUniversalModuleDefinition","root","factory","this","modules","installedModules","__webpack_require__","moduleId","getDefault","getModuleExports","container_1","format_1","leaf_1","scroll_1","inline_1","block_1","embed_1","text_1","attributor_1","class_1","style_1","store_1","Registry","Parchment","Scope","register","Container","Format","Leaf","Embed","Scroll","Block","Inline","Text","Attributor","Attribute","Style","Store","__extends","extendStatics","__","ParchmentError","_super","message","_this","attributes","classes","tags","types","DATA_KEY","BlotClass","Node","TEXT_NODE","bubble","blot","scope","ANY","LEVEL","BLOCK","INLINE","names","TYPE","Definitions","Definition","blotName","attrName","keyName","tagNames","tag","diff","equal","op","NULL_CHARACTER","Delta","ops","newOp","_typeof2","retain","index","lastOp","chop","predicate","partition","passed","failed","reduce","initial","changeLength","delete","hasNext","nextOp","compose","other","thisIter","otherIter","delta","peekType","peekLength","thisOp","otherOp","prep","diffResult","component","opLength","INSERT","EQUAL","eachLine","newline","line","peek","priority","transformPosition","nextType","toStr","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","BlockEmbed","bubbleFormats","parent","_extend","_extend2","_interopRequireDefault","_quillDelta","_quillDelta2","_parchment","_parchment2","_break","_break2","_inline","_inline2","_text","_text2","NEWLINE_LENGTH","_Parchment$Embed","attach","domNode","formats","BLOCK_ATTRIBUTE","formatAt","insertAt","endsWith","block","insertBefore","BLOCK_BLOT","_Parchment$Block","_this2","descendants","leaf","deleteAt","lines","children","tail","ref","head","moveChildren","optimize","path","removeChild","child","force","defaultChild","allowedChildren","statics","overload","expandConfig","sliceIterator","_editor","_editor2","_emitter3","_emitter4","_module","_module2","_selection","_selection2","_logger","_logger2","_theme","_theme2","debug","Quill","limit","level","__quill","_import","imports","overwrite","warn","startsWith","container","innerHTML","trim","addContainer","scrollingContainer","emitter","scroll","whitelist","editor","theme","keyboard","addModule","clipboard","history","EDITOR_CHANGE","TEXT_CHANGE","toggle","isBlank","SCROLL_UPDATE","mutations","lastRange","modify","contents","convert","setContents","clear","refNode","setRange","deleteText","_this3","_overload","_overload2","enabled","scrollIntoView","_this4","sources","API","change","formatLine","formatText","setSelection","SILENT","_this5","_overload3","_overload4","_this6","_overload5","_overload6","getBounds","bounds","containerBounds","bottom","right","getContents","getLength","_overload7","_overload8","getFormat","getIndex","getLeaf","getLine","getLines","MAX_VALUE","getModule","getRange","getText","_overload9","_overload10","hasFocus","insertEmbed","embed","_this7","insertText","_this8","_overload11","_overload12","isEnabled","once","pasteHTML","dangerouslyPasteHTML","removeFormat","_this9","_overload13","_overload14","_this10","deleted","applied","applyDelta","ret","_overload15","_overload16","Range","setText","USER","updateContents","_this11","DEFAULTS","version","userConfig","import","themeConfig","moduleNames","moduleConfig","moduleClass","toolbar","modifier","oldDelta","shiftRange","_emitter","_emitter2","_map","_map2","_map3","_map4","_Parchment$Inline","compare","BLOT","isolate","selfIndex","order","otherIndex","TextBlot","_Parchment$Text","_eventemitter","_eventemitter2","EVENTS","_len","_key","_node$__quill$emitter","handleDOM","Emitter","_EventEmitter","listeners","_len2","_key2","_ref","listenDOM","SCROLL_BEFORE_UPDATE","SCROLL_OPTIMIZE","SELECTION_CHANGE","Module","quill","levels","_console","ns","logger","newLevel","pSlice","objectKeys","isArguments","deepEqual","actual","expected","getTime","objEquiv","isUndefinedOrNull","isBuffer","ka","kb","attributeBit","ATTRIBUTE","canAdd","Code","_block","_block2","_Inline","CodeBlock","_Block","frag","_descendant","descendant","_descendant2","nextNewline","newlineIndex","prevNewline","isolateLength","_descendant3","_descendant4","searchIndex","lastIndexOf","unwrap","_op","_op2","_code","_code2","_cursor","_cursor2","_clone","_clone2","_deepEqual","_deepEqual2","ASCII","Editor","getDelta","consumeNextNewline","scrollLength","batchStart","normalizeDelta","_scroll$line","_scroll$line2","_line$descendant","_line$descendant2","batchEnd","lengthRemaining","lineLength","codeIndex","codeLength","leaves","_path","formatsArr","blots","combineFormats","_scroll$line3","_scroll$line4","suffixLength","suffix","cursorIndex","textBlot","oldValue","CONTENTS","oldText","newText","diffDelta","combined","merged","image","list","bullet","Selection","composing","mouseDown","cursor","savedRange","handleComposition","handleDragging","native","getNativeRange","setNativeRange","ignored","_context$range","startNode","endNode","restore","body","_format","nativeRange","collapsed","_scroll$leaf","_scroll$leaf2","_leaf$position","_leaf$position2","_scroll$leaf3","_scroll$leaf4","_leaf$position3","_leaf$position4","side","rect","rangeCount","normalizeNative","normalized","normalizedToRange","indexes","_position","startContainer","endContainer","childNodes","lastChild","rangeToNative","_scroll$leaf5","_scroll$leaf6","_leaf$position5","_leaf$position6","scrollBounds","oldRange","_getRange","_getRange2","Break","insertInto","linked_list_1","shadow_1","ContainerBlot","build","makeBlot","forEachAt","criteria","_a","lengthLeft","detach","childBlot","refBlot","memo","targetParent","inclusive","addedNodes","removedNodes","mutation","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_FOLLOWING","nextSibling","replaceChild","FormatBlot","replacement","wrapper","LeafBlot","INLINE_BLOT","lib","keepNull","Iterator","retOp","_instanceof","nativeMap","nativeSet","nativePromise","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","proto","__isArray","__isRegExp","__getRegExpFlags","lastIndex","__isDate","keyChild","valueChild","entryChild","attrs","symbols","symbol","allPropertyNames","getOwnPropertyNames","propertyName","clonePrototype","__objToStr","re","flags","global","ignoreCase","multiline","_container","_container2","isLine","_Parchment$Scroll","batch","_line","_line2","_line3","_line4","_newlineIndex","observer","takeRecords","SHORTKEY","_quill","_quill2","platform","Keyboard","_Module","binding","normalize","bindings","addBinding","handleEnter","handleBackspace","handleDelete","prefix","handleDeleteRange","listen","defaultPrevented","_quill$getLine","_quill$getLine2","_quill$getLeaf","_quill$getLeaf2","leafStart","offsetStart","_ref2","leafEnd","offsetEnd","prefixText","suffixText","curContext","prevented","UP","DOWN","makeFormatHandler","indent","makeCodeBlockHandler","cutoff","_quill$getLine3","_quill$getLine4","_quill$getLine5","_quill$getLine6","header","_quill$getLine7","_quill$getLine8","_quill$getLine9","_quill$getLine10","makeEmbedArrowHandler","_ref3","where","_quill$getLeaf3","_quill$getLeaf4","_quill$getLine11","_quill$getLine12","_quill$getLine13","_quill$getLine14","curFormats","prevFormats","nextLength","_quill$getLine15","_quill$getLine16","_quill$getLine17","_quill$getLine18","nextFormats","firstFormats","lastFormats","lineFormats","_quill$scroll$descend","_quill$scroll$descend2","scrollIndex","shortKey","Cursor","_length","restoreText","_Parchment$Container","ColorStyle","ColorClass","ColorAttributor","_Parchment$Attributor","sanitize","Link","_sanitize","PROTOCOL_WHITELIST","SANITIZED_URL","protocols","anchor","href","protocol","_keyboard","_keyboard2","_dropdown","_dropdown2","optionsCounter","toggleAriaAttribute","Picker","buildPicker","display","togglePicker","escape","buildItem","tabIndex","hasAttribute","selectItem","buildLabel","buildOptions","close","selectedIndex","initEvent","isActive","_embed","_embed2","_scroll","_scroll2","_clipboard","_clipboard2","_history","_history2","ShadowBlot","cloneNode","parentBlot","refDomNode","AttributorStore","ClassAttributor","camelize","parts","part","StyleAttributor","Theme","themes","GUARD_TEXT","contentNode","childNode","leftGuard","rightGuard","prevLength","AlignStyle","AlignClass","AlignAttribute","BackgroundStyle","BackgroundClass","_color","DirectionStyle","DirectionClass","DirectionAttribute","FontClass","FontStyle","FontStyleAttributor","SizeStyle","SizeClass","getLastChangeIndex","History","lastRecorded","ignoreChange","userOnly","undo","redo","dest","stack","changeDelta","undoDelta","timestamp","now","delay","maxStack","endsWithNewlineChange","deleteLength","changeIndex","BaseTooltip","_colorPicker","_colorPicker2","_iconPicker","_iconPicker2","_picker","_picker2","_tooltip","_tooltip2","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","_Theme","listener","tooltip","textbox","pickers","picker","extendToolbar","buildButtons","buttons","icons","buildPickers","selects","fillSelect","formula","edit","fileInput","files","reader","FileReader","onload","readAsDataURL","click","video","_Tooltip","boundsContainer","save","cancel","mode","preview","restoreFocus","linkRange","extractVideoUrl","defaultValue","LinkedList","nodes","cur","curNode","curIndex","curLength","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","MAX_OPTIMIZE_ITERATIONS","ScrollBlot","MutationObserver","observe","records","markParent","remaining","previousSibling","grandChild","isEqual","obj1","obj2","prop","InlineBlot","BlockBlot","EmbedBlot","splitText","_toggle","DOMTokenList","searchString","subjectString","thisArg","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","diff_main","text1","text2","cursor_pos","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","fix_cursor","fix_emoji","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_bisect_","text1_length","text2_length","max_d","ceil","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","x1","y1","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_halfMatchI_","seed","best_common","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","prefixLength","hm1","hm2","count_delete","count_insert","text_delete","text_insert","cursor_normalize_diff","current_pos","next_pos","split_pos","d_left","d_right","norm","ndiffs","cursor_pointer","d_next","merge_tuples","compact","starts_with_pair_end","str","ends_with_pair_start","fixed_diffs","left_d","right_d","shim","supportsArgumentsClass","supported","unsupported","Events","EE","EventEmitter","_eventsCount","eventNames","exists","available","ee","a1","a2","a3","a4","a5","removeListener","removeAllListeners","addListener","setMaxListeners","prefixed","matchText","matchSpacing","matchNewline","matchBlot","matchAttributor","_extend3","_align","_background","_direction","_font","_size","DOM_KEY","CLIPBOARD_CONFIG","matchBreak","ELEMENT_NODE","matchStyles","matchIndent","matchAlias","matchIgnore","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","Clipboard","onPaste","matchers","matcher","matchVisual","addMatcher","innerText","_prepareMatching","prepareMatching","_prepareMatching2","elementMatchers","textMatchers","traverse","deltaEndsWith","paste","pair","_pair","applyFormat","computeStyle","nodeType","endText","childrenDelta","nextElementSibling","nodeHeight","parseFloat","marginTop","marginBottom","offsetTop","fontStyle","italic","fontWeight","bold","textIndent","whiteSpace","replacer","Bold","addControls","Toolbar","_ret","controls","addHandler","_this$quill$selection","_this$quill$selection2","_quill$selection$getR","_quill$selection$getR2","prompt","addButton","groups","group","control","addSelect","clean","direction","link","ColorPicker","_Picker","colorLabel","stroke","fill","IconPicker","defaultItem","Tooltip","TEMPLATE","reference","offsetWidth","rootBounds","verticalShift","_base","_base2","_link","_link2","_icons","_icons2","TOOLBAR_CONFIG","SnowTheme","_BaseTheme","SnowTooltip","_BaseTooltip","_core","_core2","_indent","_blockquote","_blockquote2","_header","_header2","_list","_list2","_bold","_bold2","_italic","_italic2","_script","_script2","_strike","_strike2","_underline","_underline2","_image","_image2","_video","_video2","_formula","_formula2","_syntax","_syntax2","_toolbar","_toolbar2","_bubble","_bubble2","_snow","_snow2","IndentClass","ListItem","IdentAttributor","Blockquote","Header","List","_Container","listEventHandler","Italic","_Bold","Script","Strike","Underline","ATTRIBUTES","Image","Video","_BlockEmbed","FormulaBlot","_Embed","katex","throwOnError","errorColor","Formula","CodeToken","SyntaxCodeBlock","_CodeBlock","highlight","_highlight","cachedText","Syntax","timer","interval","code","hljs","highlightAuto","BubbleTooltip","BubbleTheme","lastLine","_bounds","arrow","marginLeft","KbfWysiwyg","$container","setInputValue","$contents","$wysiwygInput","replacePlaceholders","placeholderMap","string","entries","KbfRepeater","$repeaterItems","$currentHiddenInput","$currentItems","$addButtons","$removeButtons","removeHandler","updateHandler","$itemsContainer","content","itemTemplate","$contentElement","opacity","$removeButton","$span","currentRepeater","getCurrentItems","updateInput","removeItem","$target","parentElement","itemContents","$item","App","$submitButton","$provinceNameField","tabs","datepickerJobExpire","datepickerStartDate","jobTypeDropdown","cityAutocomplete","KbfCityAutocomplete","$descriptionFieldHidden","wysiwyg","htmlToInsert","getElementsByClassName","preloaderButton","repeater","hideAllPickers","ready"],"mappings":"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"}