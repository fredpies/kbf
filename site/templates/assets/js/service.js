!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function r(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}var o=function(){function e(){t(this,e),this.init(),this.addListeners()}return r(e,[{key:"init",value:function(){this.$footerBottom=$(".footer-bottom"),this.$footerTop=$(".footer-top"),this.$footerTop.css("transform","translateY(100%)"),this.$showFooterTop=$("#showFooterTop")}},{key:"addListeners",value:function(){var t=this;this.$showFooterTop.unbind().click((function(e){e.preventDefault(),e.stopPropagation();var r=$("#industriesSidebar");r.length>0&&r.removeClass("show"),t.$footerTop.toggleClass("show-footer-top"),t.$footerTop.hasClass("show-footer-top")?t.$footerTop.css("transform","translateY(-".concat(parseInt(getComputedStyle($(".footer-bottom")[0]).height),"px)")):t.$footerTop.css("transform","translateY(100%)")})),this.$footerTop.click((function(t){t.stopPropagation()})),this.$footerBottom.click((function(t){t.stopPropagation()})),$(window).click((function(){t.$footerTop.css("transform","translateY(100%)"),t.$footerTop.removeClass("show-footer-top")})),$(window).scroll((function(){t.$footerTop.css("transform","translateY(100%)"),t.$footerTop.removeClass("show-footer-top")})),$(window).resize((function(){t.$footerTop.css("transform","translateY(100%)"),t.$footerTop.removeClass("show-footer-top")}))}}]),e}(),n={};function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?c(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function p(t,e,r){return(p=h()?Reflect.construct:function(t,e,r){var o=[null];o.push.apply(o,e);var n=new(Function.bind.apply(t,o));return r&&i(n,r.prototype),n}).apply(null,arguments)}function f(t){var e="function"==typeof Map?new Map:void 0;return(f=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return p(t,arguments,l(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i(o,t)})(t)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=l(t);if(e){var n=l(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return u(this,r)}}n.elementNotFound=function(t){return new Error('Cannot find elements with selector "'.concat(t,'"'))},n.formNotFound=function(t){return new Error('Cannot find form with name "'.concat(t,'"'))},n.argumentNotFound=function(t){return new Error("".concat(t.substring(0,1).toUpperCase()+t.substring(1)," argument cannot be empty"))},n.noValidator=function(){return new Error("No JQuery validator plugin")},n.noGeoCoords=function(){return new Error("You must provide geo coordinates.")};var d=function(e){a(i,e);var o=m(i);function i(e){var r,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t(this,i),r=o.call(this);var s=window.$;if(r.$preloaderButton=s(e),!e||0===r.$preloaderButton.length)throw n.elementNotFound(e);return r.auto=a,r.init(),r.addListeners(),r}return r(i,[{key:"init",value:function(){this.on=this.addEventListener,this.off=this.removeEventListener,this.emit=this.dispatchEvent,this.buttonCurrentContents=this.$preloaderButton.html()}},{key:"triggerStart",value:function(t){var e,r=t.getBoundingClientRect();$(t).on("click",(function(){e=getComputedStyle(t,":hover").backgroundColor})),this.$preloaderButton.trigger({type:"start-preloader",buttonGeometry:r,bgColor:e}),this.emit(new CustomEvent("click"))}},{key:"startPreloader",value:function(t,e,r){var o=(0,window.$)(t);o.attr("disabled","disabled"),o.css("width",e.width+"px"),o.css("height",e.height+"px"),o.css("padding",0),o.css("background-color",r),o.html(i.preloaderMarkup),this.emit(new CustomEvent("click"))}},{key:"stopPreloader",value:function(){this.$preloaderButton.html(this.buttonCurrentContents).attr("style",""),this.$preloaderButton.removeAttr("disabled")}},{key:"addListeners",value:function(){var t=this;this.auto&&this.$preloaderButton.on("click",(function(){t.triggerStart(this)})),this.$preloaderButton.on("start-preloader",(function(e){t.startPreloader(this,e.buttonGeometry,e.bgColor)}))}}]),i}(f(EventTarget));d.preloaderMarkup='<div class="kbf-button-preloader"><div id="dots"><span></span><span></span><span></span></div></div>';var y,v=function(){function e(r){t(this,e);var o=window.$;if(this.$backButton=o(r),!r||0===this.$backButton.length)throw n.elementNotFound(r);this.init(r),this.addListeners()}return r(e,[{key:"init",value:function(t){this.preloaderButton=new d(t),this.$backButton.hide(),window.history.length>1&&this.$backButton.show()}},{key:"addListeners",value:function(){window.history.length>1&&this.$backButton.on("click",(function(){window.history.back()}))}}]),e}(),g="https://webplanet.biz",w="https://webplanet.biz/kbf/";function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,o=l(t);if(e){var n=l(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return u(this,r)}}(function(t){var e=function(t){var e,r=Object.prototype,o=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var n=e&&e.prototype instanceof v?e:v,i=Object.create(n.prototype),a=new A(o||[]);return i._invoke=function(t,e,r){var o=p;return function(n,i){if(o===m)throw new Error("Generator is already running");if(o===d){if("throw"===n)throw i;return z()}for(r.method=n,r.arg=i;;){var a=r.delegate;if(a){var s=$(a,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var c=h(t,e,r);if("normal"===c.type){if(o=r.done?d:f,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=d,r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p="suspendedStart",f="suspendedYield",m="executing",d="completed",y={};function v(){}function g(){}function w(){}var L={};u(L,i,(function(){return this}));var b=Object.getPrototypeOf,k=b&&b(b(S([])));k&&k!==r&&o.call(k,i)&&(L=k);var T=w.prototype=v.prototype=Object.create(L);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(n,i,a,c){var u=h(t[n],t,i);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"===s(p)&&o.call(p,"__await")?e.resolve(p.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var n;this._invoke=function(t,o){function i(){return new e((function(e,n){r(t,o,e,n)}))}return n=n?n.then(i,i):i()}}function $(t,r){var o=t.iterator[r.method];if(o===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=e,$(t,r),"throw"===r.method))return y;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var n=h(o,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,y;var i=n.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function S(t){if(t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}return{next:z}}function z(){return{value:e,done:!0}}return g.prototype=w,u(T,"constructor",w),u(w,"constructor",g),g.displayName=u(w,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,u(t,c,"GeneratorFunction")),t.prototype=Object.create(T),t},t.awrap=function(t){return{__await:t}},x(P.prototype),u(P.prototype,a,(function(){return this})),t.AsyncIterator=P,t.async=function(e,r,o,n,i){void 0===i&&(i=Promise);var a=new P(l(e,r,o,n),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(T),u(T,c,"Generator"),u(T,i,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var o=e.pop();if(o in t)return r.value=o,r.done=!1,r}return r.done=!0,r}},t.values=S,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(o,n){return s.type="throw",s.arg=t,r.next=o,n&&(r.method="next",r.arg=e),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var n=o.arg;O(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,o){return this.delegate={iterator:S(t),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":s(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(y={exports:{}},y.exports);var k=g,T=w,x=function(e){a(i,e);var o=b(i);function i(e){var r;t(this,i),r=o.call(this);var a=window.$;if(void 0===e)throw n.argumentNotFound("selector");var s=a(e);if(0===s.length)throw n.elementNotFound(e);r.on=r.addEventListener,r.off=r.removeEventListener,r.emit=r.dispatchEvent,r.$nameInfo=a(".kbf-map-info"),r.mapElement=s[0],r.$map=s;var u=c(r);return r.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,r.currentProvinceName="Województwo",r.currentAreaName="Powiat",r.labelLayerGroup=L.layerGroup(),r.zoomedToArea=!1,r.currentIndustry="Wybierz",r.currentSubIndustry="",r.markers=[],r.provincesLayer=L.geoJSON(window.provincesGeoJSON,{style:function(){return{weight:.6,fillOpacity:.1,color:"#7a838c",fillColor:"#478aee"}},onEachFeature:function(t,e){var r=t.properties.name;u.isTouchDevice||(e.off("mouseover"),e.off("mousemove"),e.off("mouseout"),e.off("click"),e.on("mouseover",(function(t){this.setStyle({fillOpacity:.2}),u.$nameInfo.text(r).css({zIndex:5e3,top:t.containerPoint.y+"px",left:t.containerPoint.x+"px"})})),e.on("mouseout",(function(){this.setStyle({fillOpacity:.1}),u.$nameInfo.css({zIndex:0})})),e.on("click",(function(){this.setStyle({fillOpacity:.1})})),e.on("mousemove",(function(t){u.$nameInfo.css({top:t.containerPoint.y-20+"px",left:t.containerPoint.x+20+"px"})})),e.on("click",u.zoomToProvinceHandler(r))),u.isTouchDevice&&(e.off("click"),e.on("click",u.zoomToProvinceHandler(r)))}}),r.init(),a(window).on("resize",u.init.bind(u)),r}return r(i,[{key:"init",value:function(){var t=this;if(window.innerWidth<=768){var e=$("#kbf-map-panel .card-body")[0].getBoundingClientRect().height;this.$map.css({width:"100%",height:"calc(100vh - ".concat(e,"px)"),marginTop:e+"px"})}window.innerWidth>600&&this.$map.css({width:"100%",height:"100vh",marginTop:0}),this.map&&(this.map.remove(),this.map=void 0),this.map=L.map(this.mapElement,{zoom:6,zoomControl:!1,tap:!L.Browser.mobile}),window.map=this.map,t.showAll(),this.map.on("zoom",(function(e){var r=e.target.getZoom();r>t.startingZoom&&(t.map.hasLayer(i.polandProvincesTiles)&&t.map.removeLayer(i.polandProvincesTiles),t.map.hasLayer(i.polandLabels)&&t.map.removeLayer(i.polandLabels),t.map.hasLayer(i.polandDetailMap)||i.polandDetailMap.addTo(t.map)),r<=t.startingZoom&&(t.map.hasLayer(i.polandProvincesTiles)||i.polandProvincesTiles.addTo(t.map),t.map.hasLayer(i.polandLabels)||i.polandLabels.addTo(t.map),t.map.hasLayer(i.polandDetailMap)&&t.map.removeLayer(i.polandDetailMap))}))}},{key:"removeLayers",value:function(){this.currentAreasLayer&&(this.currentAreasLayer.off("mouseover"),this.currentAreasLayer.off("mouseout")),this.provincesLayer&&(this.provincesLayer.off("mouseover"),this.provincesLayer.off("mouseout")),this.currentAreaLayer&&(this.currentAreaLayer.off("mouseover"),this.currentAreaLayer.off("mouseout")),this.map.hasLayer(this.provincesLayer)&&(this.map.removeLayer(this.provincesLayer),this.provincesLayer.remove()),this.map.hasLayer(this.currentAreasLayer)&&(this.map.removeLayer(this.currentAreasLayer),this.currentAreasLayer.remove()),this.map.hasLayer(this.currentAreaLayer)&&(this.map.removeLayer(this.currentAreaLayer),this.currentAreaLayer.remove()),this.map.hasLayer(this.labelLayerGroup)&&(this.map.removeLayer(this.labelLayerGroup),this.labelLayerGroup.remove());var t=this;this.markers.forEach((function(e){t.map.removeLayer(e)})),this.markers=[]}},{key:"showAll",value:function(){var t=this;this.removeLayers(),this.map.hasLayer(i.polandProvincesTiles)&&this.map.removeLayer(i.polandProvincesTiles),this.map.setView([52,20],6),this.map.once("zoom",(function(){t.startingZoom=t.map.getZoom()})),this.provincesLayer.addTo(this.map),i.polandProvincesTiles.addTo(this.map),i.polandLabels.addTo(this.map).bringToFront(),this.isTouchDevice&&window.innerWidth>=700&&window.innerHeight>480&&this.showProvinceLabels(),this.map.scrollWheelZoom.disable(),this.currentProvinceName="Województwo",this.currentAreaName="Powiat"}},{key:"showProvinceLabels",value:function(){var t=this;this.provincesLayer.eachLayer((function(e){var r=e.feature.properties.name,o=e.getCenter(),n="";"Kujawsko-Pomorskie"!==r&&"Warmińsko-Mazurskie"!==r||(n="width: ".concat(7*r.length,"px"));var i=["Kujawsko-Pomorskie","Warmińsko-Mazurskie","Dolnośląskie"];i.indexOf(r)>=0&&(o={lat:o.lat,lng:o.lng-.8}),(i=["Wielkopolskie","Podkarpackie","Świętokrzyskie","Małopolskie","Lubuskie","Lubelskie","Śląskie","Opolskie","Podlaskie"]).indexOf(r)>=0&&(o={lat:o.lat,lng:o.lng-.4}),(i=["Pomorskie"]).indexOf(r)>=0&&(o={lat:o.lat,lng:o.lng-1}),(i=["Łódzkie"]).indexOf(r)>=0&&(o={lat:o.lat,lng:o.lng-.3});var a='<div style= "'.concat(n,'" class="kbf-provinces-label">').concat(r,"</div>");L.marker(o,{icon:L.divIcon({html:a})}).addTo(t.labelLayerGroup)})),this.labelLayerGroup.addTo(this.map)}},{key:"zoomToProvinceHandler",value:function(t){var e=this;return function(r){r.originalEvent.stopPropagation(),e.zoomToProvince(t),e.emit(new CustomEvent("province-clicked",{detail:{province:e.currentProvinceName,area:e.currentAreaName}}))}}},{key:"zoomToProvince",value:function(t){var e,r=this,o=this.isTouchDevice;this.map.scrollWheelZoom.disable(),this.map.dragging.enable(),this.zoomedToArea=!1,this.currentProvinceName=t,this.removeLayers(),this.$nameInfo.css("zIndex",0),"Województwo"!==t&&(L.geoJSON(window.provincesGeoJSON,{filter:function(e){return e.properties.name===t},onEachFeature:function(t,r){e=r}}),this.currentAreasLayer=L.geoJSON(window.areasGeoJSON,{style:function(){return{weight:.8,fillOpacity:.1,color:"#7a838c",fillColor:"#478aee"}},filter:function(e){return e.properties.province===t},onEachFeature:function(t,e){var n=t.properties.name;r.map.hasLayer(e)&&r.map.removeLayer(e),o||(e.off("click"),e.off("mouseover"),e.off("mousemove"),e.off("mouseout"),e.on("mouseover",(function(t){this.setStyle({fillOpacity:.2}),r.$nameInfo.text(n).css({zIndex:5e3,top:t.containerPoint.y+"px",left:t.containerPoint.x+"px"})})),e.on("mouseout",(function(){this.setStyle({fillOpacity:.1}),r.$nameInfo.css({zIndex:0})})),e.on("mousemove",(function(t){r.$nameInfo.css({top:t.containerPoint.y-20+"px",left:t.containerPoint.x+20+"px"})}))),e.on("click",r.zoomToAreaHandler(n,r.currentProvinceName,e))}}),this.map.addLayer(e),e.setStyle({fillOpacity:.1}),this.map.panTo(e.getCenter()),this.map.fitBounds(e.getBounds()),this.map.addLayer(this.currentAreasLayer),this.map.removeLayer(e)),"Województwo"===t&&this.showAll()}},{key:"zoomToAreaHandler",value:function(t,e,r){var o=this;return function(e){e.originalEvent.stopPropagation,r.setStyle({fillOpacity:.1}),o.zoomedToArea||(o.zoomToArea(t,o.currentProvinceName,r),o.zoomedToArea=!0,o.emit(new CustomEvent("area-clicked",{detail:{province:o.currentProvinceName,area:o.currentAreaName}})))}}},{key:"zoomToArea",value:function(t,e,r){var o,n,i=this;this.removeLayers(),r&&(n=r.getBounds(),this.currentAreaLayer=r,this.map.addLayer(this.currentAreaLayer),o=this.currentAreaLayer.getCenter()),i.currentAreaName=t,void 0===r&&(i.currentAreaLayer&&(i.map.removeLayer(i.currentAreaLayer),i.currentAreaLayer.remove()),L.geoJSON(window.areasGeoJSON,{filter:function(r){return r.properties.name===t&&r.properties.province===e},style:function(){return{weight:.85,fillOpacity:.1,color:"#7a838c",fillColor:"#478aee"}},onEachFeature:function(t,e){n=e.getBounds(),i.currentAreaLayer=e,i.map.addLayer(e),o=e.getCenter()}})),this.$nameInfo.css("zIndex",0),this.isTouchDevice||(this.currentAreaLayer.off("mouseover"),this.currentAreaLayer.off("mousemove"),this.currentAreaLayer.off("mouseout"),this.currentAreaLayer.off("click")),this.map.panTo(o),this.map.fitBounds(n),this.map.scrollWheelZoom.enable(),this.map.dragging.enable()}},{key:"removeCompanyMarkers",value:function(){var t=this;this.markers.forEach((function(e){t.map.removeLayer(e)}))}},{key:"addCompanyMarkers",value:function(t){var e,r=this;t&&t.length>0&&(this.markers=[],t.forEach((function(t){var o=new L.marker([t.lat,t.lon],{icon:i.markerSymbol});e='<h6 class="mb-3">'.concat(t.company_name,"</h6><p>").concat(t.company_address,"</p><p>").concat(t.company_zip," ").concat(t.company_city,"</p>\n                \n                <p>").concat(t.company_phone_1.length>0?"tel. "+t.company_phone_1:""," ").concat(t.company_phone_2.length>0?" , "+t.company_phone_2:"",'</p>\n                <div style="text-align: center"><a href="https://webplanet.biz').concat(t.url,'">Zobacz szczegóły</a></div>'),o.bindPopup(e),r.markers.push(o)})),this.markers.forEach((function(t){t.addTo(r.map)})))}},{key:"destroy",value:function(){}}]),i}(f(EventTarget));x.polandBoundary=[[47.027,13.074],[56.851,25.029]],x.polandDetailMap=L.tileLayer("https://{s}.tile.jawg.io/jawg-sunny/{z}/{x}/{y}{r}.png?access-token={accessToken}",{attribution:'<a href="http://jawg.io" title="Tiles Courtesy of Jawg Maps" target="_blank">&copy; <b>Jawg</b>Maps</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',minZoom:0,maxZoom:22,subdomains:"abcd",accessToken:"eljBnUH85ssfvAfx9wqZvjcWTGsk5WEXgoQmR33uMmIotZ5v01nQZG3bL5gh4c1K"}),x.polandProvincesTiles=L.tileLayer.provider("USGS.USTopo"),x.polandLabels=L.tileLayer.provider("Stamen.TonerLabels"),x.polandTiles=L.tileLayer.provider("OpenStreetMap.Mapnik"),x.layerStyle={},x.markerSymbol=L.icon({iconUrl:"".concat(k,"/kbf/site/templates/assets/images/marker-icon.png"),iconSize:[30,40],iconAnchor:[15,40],popupAnchor:[-3,-76]}),x.markersAPIEndpoint=T;var P=function(){function e(r){t(this,e);var o=window.$;if(this.$miniMap=o(r),!r||0===this.$miniMap.length)throw n.elementNotFound(r);this.lat=this.$miniMap.data("lat"),this.lon=this.$miniMap.data("lon"),this.lat&&this.lon&&(this.miniMapElement=this.$miniMap[0],this.init())}return r(e,[{key:"init",value:function(){var t=this;this.map&&(this.map.remove(),this.map=void 0),this.minimap=L.map(this.miniMapElement,{zoom:17,dragging:!1,scrollWheelZoom:!1,attributionControl:!1,boxZoom:!1,zoomControl:!1,center:[Number(t.lat),Number(t.lon)],tap:!L.Browser.mobile}),this.minimap.hasLayer(x.polandTiles)&&this.minimap.removeLayer(x.polandTiles),x.polandTiles.addTo(this.minimap),L.marker([Number(t.lat),Number(t.lon)],{icon:x.markerSymbol}).addTo(this.minimap)}}]),e}(),E=function(){function e(){t(this,e),this.init()}return r(e,[{key:"init",value:function(){new P("#kbf-minimap"),new o,new v(".kbf-back-button")}}]),e}();(0,window.$)(document).ready((function(){new E}))}();
//# sourceMappingURL=service.js.map
